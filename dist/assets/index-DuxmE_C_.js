(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}})();var o1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Yt(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var pp={exports:{}},Bu={},mp={exports:{}},Je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a1;function mk(){if(a1)return Je;a1=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),_=Symbol.iterator;function w(z){return z===null||typeof z!="object"?null:(z=_&&z[_]||z["@@iterator"],typeof z=="function"?z:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,A={};function C(z,ee,me){this.props=z,this.context=ee,this.refs=A,this.updater=me||T}C.prototype.isReactComponent={},C.prototype.setState=function(z,ee){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,ee,"setState")},C.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function x(){}x.prototype=C.prototype;function U(z,ee,me){this.props=z,this.context=ee,this.refs=A,this.updater=me||T}var $=U.prototype=new x;$.constructor=U,I($,C.prototype),$.isPureReactComponent=!0;var M=Array.isArray,O=Object.prototype.hasOwnProperty,H={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function R(z,ee,me){var De,Ce={},Ne=null,Ge=null;if(ee!=null)for(De in ee.ref!==void 0&&(Ge=ee.ref),ee.key!==void 0&&(Ne=""+ee.key),ee)O.call(ee,De)&&!k.hasOwnProperty(De)&&(Ce[De]=ee[De]);var Ye=arguments.length-2;if(Ye===1)Ce.children=me;else if(1<Ye){for(var Be=Array(Ye),_t=0;_t<Ye;_t++)Be[_t]=arguments[_t+2];Ce.children=Be}if(z&&z.defaultProps)for(De in Ye=z.defaultProps,Ye)Ce[De]===void 0&&(Ce[De]=Ye[De]);return{$$typeof:r,type:z,key:Ne,ref:Ge,props:Ce,_owner:H.current}}function b(z,ee){return{$$typeof:r,type:z.type,key:ee,ref:z.ref,props:z.props,_owner:z._owner}}function N(z){return typeof z=="object"&&z!==null&&z.$$typeof===r}function V(z){var ee={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(me){return ee[me]})}var B=/\/+/g;function D(z,ee){return typeof z=="object"&&z!==null&&z.key!=null?V(""+z.key):ee.toString(36)}function qe(z,ee,me,De,Ce){var Ne=typeof z;(Ne==="undefined"||Ne==="boolean")&&(z=null);var Ge=!1;if(z===null)Ge=!0;else switch(Ne){case"string":case"number":Ge=!0;break;case"object":switch(z.$$typeof){case r:case e:Ge=!0}}if(Ge)return Ge=z,Ce=Ce(Ge),z=De===""?"."+D(Ge,0):De,M(Ce)?(me="",z!=null&&(me=z.replace(B,"$&/")+"/"),qe(Ce,ee,me,"",function(_t){return _t})):Ce!=null&&(N(Ce)&&(Ce=b(Ce,me+(!Ce.key||Ge&&Ge.key===Ce.key?"":(""+Ce.key).replace(B,"$&/")+"/")+z)),ee.push(Ce)),1;if(Ge=0,De=De===""?".":De+":",M(z))for(var Ye=0;Ye<z.length;Ye++){Ne=z[Ye];var Be=De+D(Ne,Ye);Ge+=qe(Ne,ee,me,Be,Ce)}else if(Be=w(z),typeof Be=="function")for(z=Be.call(z),Ye=0;!(Ne=z.next()).done;)Ne=Ne.value,Be=De+D(Ne,Ye++),Ge+=qe(Ne,ee,me,Be,Ce);else if(Ne==="object")throw ee=String(z),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.");return Ge}function We(z,ee,me){if(z==null)return z;var De=[],Ce=0;return qe(z,De,"","",function(Ne){return ee.call(me,Ne,Ce++)}),De}function St(z){if(z._status===-1){var ee=z._result;ee=ee(),ee.then(function(me){(z._status===0||z._status===-1)&&(z._status=1,z._result=me)},function(me){(z._status===0||z._status===-1)&&(z._status=2,z._result=me)}),z._status===-1&&(z._status=0,z._result=ee)}if(z._status===1)return z._result.default;throw z._result}var Qe={current:null},ue={transition:null},ve={ReactCurrentDispatcher:Qe,ReactCurrentBatchConfig:ue,ReactCurrentOwner:H};function de(){throw Error("act(...) is not supported in production builds of React.")}return Je.Children={map:We,forEach:function(z,ee,me){We(z,function(){ee.apply(this,arguments)},me)},count:function(z){var ee=0;return We(z,function(){ee++}),ee},toArray:function(z){return We(z,function(ee){return ee})||[]},only:function(z){if(!N(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},Je.Component=C,Je.Fragment=t,Je.Profiler=s,Je.PureComponent=U,Je.StrictMode=n,Je.Suspense=h,Je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ve,Je.act=de,Je.cloneElement=function(z,ee,me){if(z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+z+".");var De=I({},z.props),Ce=z.key,Ne=z.ref,Ge=z._owner;if(ee!=null){if(ee.ref!==void 0&&(Ne=ee.ref,Ge=H.current),ee.key!==void 0&&(Ce=""+ee.key),z.type&&z.type.defaultProps)var Ye=z.type.defaultProps;for(Be in ee)O.call(ee,Be)&&!k.hasOwnProperty(Be)&&(De[Be]=ee[Be]===void 0&&Ye!==void 0?Ye[Be]:ee[Be])}var Be=arguments.length-2;if(Be===1)De.children=me;else if(1<Be){Ye=Array(Be);for(var _t=0;_t<Be;_t++)Ye[_t]=arguments[_t+2];De.children=Ye}return{$$typeof:r,type:z.type,key:Ce,ref:Ne,props:De,_owner:Ge}},Je.createContext=function(z){return z={$$typeof:l,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},z.Provider={$$typeof:a,_context:z},z.Consumer=z},Je.createElement=R,Je.createFactory=function(z){var ee=R.bind(null,z);return ee.type=z,ee},Je.createRef=function(){return{current:null}},Je.forwardRef=function(z){return{$$typeof:c,render:z}},Je.isValidElement=N,Je.lazy=function(z){return{$$typeof:g,_payload:{_status:-1,_result:z},_init:St}},Je.memo=function(z,ee){return{$$typeof:p,type:z,compare:ee===void 0?null:ee}},Je.startTransition=function(z){var ee=ue.transition;ue.transition={};try{z()}finally{ue.transition=ee}},Je.unstable_act=de,Je.useCallback=function(z,ee){return Qe.current.useCallback(z,ee)},Je.useContext=function(z){return Qe.current.useContext(z)},Je.useDebugValue=function(){},Je.useDeferredValue=function(z){return Qe.current.useDeferredValue(z)},Je.useEffect=function(z,ee){return Qe.current.useEffect(z,ee)},Je.useId=function(){return Qe.current.useId()},Je.useImperativeHandle=function(z,ee,me){return Qe.current.useImperativeHandle(z,ee,me)},Je.useInsertionEffect=function(z,ee){return Qe.current.useInsertionEffect(z,ee)},Je.useLayoutEffect=function(z,ee){return Qe.current.useLayoutEffect(z,ee)},Je.useMemo=function(z,ee){return Qe.current.useMemo(z,ee)},Je.useReducer=function(z,ee,me){return Qe.current.useReducer(z,ee,me)},Je.useRef=function(z){return Qe.current.useRef(z)},Je.useState=function(z){return Qe.current.useState(z)},Je.useSyncExternalStore=function(z,ee,me){return Qe.current.useSyncExternalStore(z,ee,me)},Je.useTransition=function(){return Qe.current.useTransition()},Je.version="18.3.1",Je}var u1;function Za(){return u1||(u1=1,mp.exports=mk()),mp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l1;function gk(){if(l1)return Bu;l1=1;var r=Za(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(c,h,p){var g,_={},w=null,T=null;p!==void 0&&(w=""+p),h.key!==void 0&&(w=""+h.key),h.ref!==void 0&&(T=h.ref);for(g in h)n.call(h,g)&&!a.hasOwnProperty(g)&&(_[g]=h[g]);if(c&&c.defaultProps)for(g in h=c.defaultProps,h)_[g]===void 0&&(_[g]=h[g]);return{$$typeof:e,type:c,key:w,ref:T,props:_,_owner:s.current}}return Bu.Fragment=t,Bu.jsx=l,Bu.jsxs=l,Bu}var c1;function yk(){return c1||(c1=1,pp.exports=gk()),pp.exports}var re=yk(),Y=Za();const ft=Yt(Y);var Gc={},gp={exports:{}},rn={},yp={exports:{}},vp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f1;function vk(){return f1||(f1=1,function(r){function e(ue,ve){var de=ue.length;ue.push(ve);e:for(;0<de;){var z=de-1>>>1,ee=ue[z];if(0<s(ee,ve))ue[z]=ve,ue[de]=ee,de=z;else break e}}function t(ue){return ue.length===0?null:ue[0]}function n(ue){if(ue.length===0)return null;var ve=ue[0],de=ue.pop();if(de!==ve){ue[0]=de;e:for(var z=0,ee=ue.length,me=ee>>>1;z<me;){var De=2*(z+1)-1,Ce=ue[De],Ne=De+1,Ge=ue[Ne];if(0>s(Ce,de))Ne<ee&&0>s(Ge,Ce)?(ue[z]=Ge,ue[Ne]=de,z=Ne):(ue[z]=Ce,ue[De]=de,z=De);else if(Ne<ee&&0>s(Ge,de))ue[z]=Ge,ue[Ne]=de,z=Ne;else break e}}return ve}function s(ue,ve){var de=ue.sortIndex-ve.sortIndex;return de!==0?de:ue.id-ve.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;r.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();r.unstable_now=function(){return l.now()-c}}var h=[],p=[],g=1,_=null,w=3,T=!1,I=!1,A=!1,C=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function $(ue){for(var ve=t(p);ve!==null;){if(ve.callback===null)n(p);else if(ve.startTime<=ue)n(p),ve.sortIndex=ve.expirationTime,e(h,ve);else break;ve=t(p)}}function M(ue){if(A=!1,$(ue),!I)if(t(h)!==null)I=!0,St(O);else{var ve=t(p);ve!==null&&Qe(M,ve.startTime-ue)}}function O(ue,ve){I=!1,A&&(A=!1,x(R),R=-1),T=!0;var de=w;try{for($(ve),_=t(h);_!==null&&(!(_.expirationTime>ve)||ue&&!V());){var z=_.callback;if(typeof z=="function"){_.callback=null,w=_.priorityLevel;var ee=z(_.expirationTime<=ve);ve=r.unstable_now(),typeof ee=="function"?_.callback=ee:_===t(h)&&n(h),$(ve)}else n(h);_=t(h)}if(_!==null)var me=!0;else{var De=t(p);De!==null&&Qe(M,De.startTime-ve),me=!1}return me}finally{_=null,w=de,T=!1}}var H=!1,k=null,R=-1,b=5,N=-1;function V(){return!(r.unstable_now()-N<b)}function B(){if(k!==null){var ue=r.unstable_now();N=ue;var ve=!0;try{ve=k(!0,ue)}finally{ve?D():(H=!1,k=null)}}else H=!1}var D;if(typeof U=="function")D=function(){U(B)};else if(typeof MessageChannel<"u"){var qe=new MessageChannel,We=qe.port2;qe.port1.onmessage=B,D=function(){We.postMessage(null)}}else D=function(){C(B,0)};function St(ue){k=ue,H||(H=!0,D())}function Qe(ue,ve){R=C(function(){ue(r.unstable_now())},ve)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(ue){ue.callback=null},r.unstable_continueExecution=function(){I||T||(I=!0,St(O))},r.unstable_forceFrameRate=function(ue){0>ue||125<ue?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<ue?Math.floor(1e3/ue):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_getFirstCallbackNode=function(){return t(h)},r.unstable_next=function(ue){switch(w){case 1:case 2:case 3:var ve=3;break;default:ve=w}var de=w;w=ve;try{return ue()}finally{w=de}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(ue,ve){switch(ue){case 1:case 2:case 3:case 4:case 5:break;default:ue=3}var de=w;w=ue;try{return ve()}finally{w=de}},r.unstable_scheduleCallback=function(ue,ve,de){var z=r.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?z+de:z):de=z,ue){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=de+ee,ue={id:g++,callback:ve,priorityLevel:ue,startTime:de,expirationTime:ee,sortIndex:-1},de>z?(ue.sortIndex=de,e(p,ue),t(h)===null&&ue===t(p)&&(A?(x(R),R=-1):A=!0,Qe(M,de-z))):(ue.sortIndex=ee,e(h,ue),I||T||(I=!0,St(O))),ue},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(ue){var ve=w;return function(){var de=w;w=ve;try{return ue.apply(this,arguments)}finally{w=de}}}}(vp)),vp}var d1;function _k(){return d1||(d1=1,yp.exports=vk()),yp.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h1;function wk(){if(h1)return rn;h1=1;var r=Za(),e=_k();function t(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,u=1;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,s={};function a(i,o){l(i,o),l(i+"Capture",o)}function l(i,o){for(s[i]=o,i=0;i<o.length;i++)n.add(o[i])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},_={};function w(i){return h.call(_,i)?!0:h.call(g,i)?!1:p.test(i)?_[i]=!0:(g[i]=!0,!1)}function T(i,o,u,d){if(u!==null&&u.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return d?!1:u!==null?!u.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function I(i,o,u,d){if(o===null||typeof o>"u"||T(i,o,u,d))return!0;if(d)return!1;if(u!==null)switch(u.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function A(i,o,u,d,m,v,S){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=d,this.attributeNamespace=m,this.mustUseProperty=u,this.propertyName=i,this.type=o,this.sanitizeURL=v,this.removeEmptyString=S}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){C[i]=new A(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];C[o]=new A(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){C[i]=new A(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){C[i]=new A(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){C[i]=new A(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){C[i]=new A(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){C[i]=new A(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){C[i]=new A(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){C[i]=new A(i,5,!1,i.toLowerCase(),null,!1,!1)});var x=/[\-:]([a-z])/g;function U(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(x,U);C[o]=new A(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(x,U);C[o]=new A(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(x,U);C[o]=new A(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){C[i]=new A(i,1,!1,i.toLowerCase(),null,!1,!1)}),C.xlinkHref=new A("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){C[i]=new A(i,1,!1,i.toLowerCase(),null,!0,!0)});function $(i,o,u,d){var m=C.hasOwnProperty(o)?C[o]:null;(m!==null?m.type!==0:d||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(I(o,u,m,d)&&(u=null),d||m===null?w(o)&&(u===null?i.removeAttribute(o):i.setAttribute(o,""+u)):m.mustUseProperty?i[m.propertyName]=u===null?m.type===3?!1:"":u:(o=m.attributeName,d=m.attributeNamespace,u===null?i.removeAttribute(o):(m=m.type,u=m===3||m===4&&u===!0?"":""+u,d?i.setAttributeNS(d,o,u):i.setAttribute(o,u))))}var M=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,O=Symbol.for("react.element"),H=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),V=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),qe=Symbol.for("react.suspense_list"),We=Symbol.for("react.memo"),St=Symbol.for("react.lazy"),Qe=Symbol.for("react.offscreen"),ue=Symbol.iterator;function ve(i){return i===null||typeof i!="object"?null:(i=ue&&i[ue]||i["@@iterator"],typeof i=="function"?i:null)}var de=Object.assign,z;function ee(i){if(z===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);z=o&&o[1]||""}return`
`+z+i}var me=!1;function De(i,o){if(!i||me)return"";me=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(J){var d=J}Reflect.construct(i,[],o)}else{try{o.call()}catch(J){d=J}i.call(o.prototype)}else{try{throw Error()}catch(J){d=J}i()}}catch(J){if(J&&d&&typeof J.stack=="string"){for(var m=J.stack.split(`
`),v=d.stack.split(`
`),S=m.length-1,L=v.length-1;1<=S&&0<=L&&m[S]!==v[L];)L--;for(;1<=S&&0<=L;S--,L--)if(m[S]!==v[L]){if(S!==1||L!==1)do if(S--,L--,0>L||m[S]!==v[L]){var F=`
`+m[S].replace(" at new "," at ");return i.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",i.displayName)),F}while(1<=S&&0<=L);break}}}finally{me=!1,Error.prepareStackTrace=u}return(i=i?i.displayName||i.name:"")?ee(i):""}function Ce(i){switch(i.tag){case 5:return ee(i.type);case 16:return ee("Lazy");case 13:return ee("Suspense");case 19:return ee("SuspenseList");case 0:case 2:case 15:return i=De(i.type,!1),i;case 11:return i=De(i.type.render,!1),i;case 1:return i=De(i.type,!0),i;default:return""}}function Ne(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case k:return"Fragment";case H:return"Portal";case b:return"Profiler";case R:return"StrictMode";case D:return"Suspense";case qe:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case V:return(i.displayName||"Context")+".Consumer";case N:return(i._context.displayName||"Context")+".Provider";case B:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case We:return o=i.displayName||null,o!==null?o:Ne(i.type)||"Memo";case St:o=i._payload,i=i._init;try{return Ne(i(o))}catch{}}return null}function Ge(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ne(o);case 8:return o===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Ye(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Be(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function _t(i){var o=Be(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),d=""+i[o];if(!i.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,v=u.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return m.call(this)},set:function(S){d=""+S,v.call(this,S)}}),Object.defineProperty(i,o,{enumerable:u.enumerable}),{getValue:function(){return d},setValue:function(S){d=""+S},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Tr(i){i._valueTracker||(i._valueTracker=_t(i))}function Mn(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var u=o.getValue(),d="";return i&&(d=Be(i)?i.checked?"true":"false":i.value),i=d,i!==u?(o.setValue(i),!0):!1}function Ot(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Tn(i,o){var u=o.checked;return de({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??i._wrapperState.initialChecked})}function di(i,o){var u=o.defaultValue==null?"":o.defaultValue,d=o.checked!=null?o.checked:o.defaultChecked;u=Ye(o.value!=null?o.value:u),i._wrapperState={initialChecked:d,initialValue:u,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Vn(i,o){o=o.checked,o!=null&&$(i,"checked",o,!1)}function lr(i,o){Vn(i,o);var u=Ye(o.value),d=o.type;if(u!=null)d==="number"?(u===0&&i.value===""||i.value!=u)&&(i.value=""+u):i.value!==""+u&&(i.value=""+u);else if(d==="submit"||d==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?hi(i,o.type,u):o.hasOwnProperty("defaultValue")&&hi(i,o.type,Ye(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function Sn(i,o,u){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var d=o.type;if(!(d!=="submit"&&d!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,u||o===i.value||(i.value=o),i.defaultValue=o}u=i.name,u!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,u!==""&&(i.name=u)}function hi(i,o,u){(o!=="number"||Ot(i.ownerDocument)!==i)&&(u==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+u&&(i.defaultValue=""+u))}var Lr=Array.isArray;function qt(i,o,u,d){if(i=i.options,o){o={};for(var m=0;m<u.length;m++)o["$"+u[m]]=!0;for(u=0;u<i.length;u++)m=o.hasOwnProperty("$"+i[u].value),i[u].selected!==m&&(i[u].selected=m),m&&d&&(i[u].defaultSelected=!0)}else{for(u=""+Ye(u),o=null,m=0;m<i.length;m++){if(i[m].value===u){i[m].selected=!0,d&&(i[m].defaultSelected=!0);return}o!==null||i[m].disabled||(o=i[m])}o!==null&&(o.selected=!0)}}function Mr(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return de({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function an(i,o){var u=o.value;if(u==null){if(u=o.children,o=o.defaultValue,u!=null){if(o!=null)throw Error(t(92));if(Lr(u)){if(1<u.length)throw Error(t(93));u=u[0]}o=u}o==null&&(o=""),u=o}i._wrapperState={initialValue:Ye(u)}}function Vr(i,o){var u=Ye(o.value),d=Ye(o.defaultValue);u!=null&&(u=""+u,u!==i.value&&(i.value=u),o.defaultValue==null&&i.defaultValue!==u&&(i.defaultValue=u)),d!=null&&(i.defaultValue=""+d)}function nr(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function ht(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Et(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?ht(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Sr,pi=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,u,d,m){MSApp.execUnsafeLocalFunction(function(){return i(o,u,d,m)})}:i}(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(Sr=Sr||document.createElement("div"),Sr.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Sr.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function $t(i,o){if(o){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=o;return}}i.textContent=o}var Xe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Me=["Webkit","ms","Moz","O"];Object.keys(Xe).forEach(function(i){Me.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),Xe[o]=Xe[i]})});function $e(i,o,u){return o==null||typeof o=="boolean"||o===""?"":u||typeof o!="number"||o===0||Xe.hasOwnProperty(i)&&Xe[i]?(""+o).trim():o+"px"}function Ke(i,o){i=i.style;for(var u in o)if(o.hasOwnProperty(u)){var d=u.indexOf("--")===0,m=$e(u,o[u],d);u==="float"&&(u="cssFloat"),d?i.setProperty(u,m):i[u]=m}}var st=de({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function It(i,o){if(o){if(st[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function Fn(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wr=null;function fs(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Mi=null,Gr=null,un=null;function jn(i){if(i=Pu(i)){if(typeof Mi!="function")throw Error(t(280));var o=i.stateNode;o&&(o=uc(o),Mi(i.stateNode,i.type,o))}}function Fr(i){Gr?un?un.push(i):un=[i]:Gr=i}function oo(){if(Gr){var i=Gr,o=un;if(un=Gr=null,jn(i),o)for(i=0;i<o.length;i++)jn(o[i])}}function Vi(i,o){return i(o)}function j(){}var W=!1;function X(i,o,u){if(W)return i(o,u);W=!0;try{return Vi(i,o,u)}finally{W=!1,(Gr!==null||un!==null)&&(j(),oo())}}function te(i,o){var u=i.stateNode;if(u===null)return null;var d=uc(u);if(d===null)return null;u=d[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(i=i.type,d=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!d;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(t(231,o,typeof u));return u}var pe=!1;if(c)try{var we={};Object.defineProperty(we,"passive",{get:function(){pe=!0}}),window.addEventListener("test",we,we),window.removeEventListener("test",we,we)}catch{pe=!1}function be(i,o,u,d,m,v,S,L,F){var J=Array.prototype.slice.call(arguments,3);try{o.apply(u,J)}catch(oe){this.onError(oe)}}var ge=!1,Te=null,ce=!1,Le=null,He={onError:function(i){ge=!0,Te=i}};function pt(i,o,u,d,m,v,S,L,F){ge=!1,Te=null,be.apply(He,arguments)}function Vt(i,o,u,d,m,v,S,L,F){if(pt.apply(this,arguments),ge){if(ge){var J=Te;ge=!1,Te=null}else throw Error(t(198));ce||(ce=!0,Le=J)}}function tt(i){var o=i,u=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,o.flags&4098&&(u=o.return),i=o.return;while(i)}return o.tag===3?u:null}function lt(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function mt(i){if(tt(i)!==i)throw Error(t(188))}function Un(i){var o=i.alternate;if(!o){if(o=tt(i),o===null)throw Error(t(188));return o!==i?null:i}for(var u=i,d=o;;){var m=u.return;if(m===null)break;var v=m.alternate;if(v===null){if(d=m.return,d!==null){u=d;continue}break}if(m.child===v.child){for(v=m.child;v;){if(v===u)return mt(m),i;if(v===d)return mt(m),o;v=v.sibling}throw Error(t(188))}if(u.return!==d.return)u=m,d=v;else{for(var S=!1,L=m.child;L;){if(L===u){S=!0,u=m,d=v;break}if(L===d){S=!0,d=m,u=v;break}L=L.sibling}if(!S){for(L=v.child;L;){if(L===u){S=!0,u=v,d=m;break}if(L===d){S=!0,d=v,u=m;break}L=L.sibling}if(!S)throw Error(t(189))}}if(u.alternate!==d)throw Error(t(190))}if(u.tag!==3)throw Error(t(188));return u.stateNode.current===u?i:o}function Bn(i){return i=Un(i),i!==null?Ir(i):null}function Ir(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=Ir(i);if(o!==null)return o;i=i.sibling}return null}var cr=e.unstable_scheduleCallback,Fi=e.unstable_cancelCallback,mi=e.unstable_shouldYield,zn=e.unstable_requestPaint,gt=e.unstable_now,ji=e.unstable_getCurrentPriorityLevel,ot=e.unstable_ImmediatePriority,Rt=e.unstable_UserBlockingPriority,fr=e.unstable_NormalPriority,qn=e.unstable_LowPriority,Pt=e.unstable_IdlePriority,Kr=null,Rr=null;function Xo(i){if(Rr&&typeof Rr.onCommitFiberRoot=="function")try{Rr.onCommitFiberRoot(Kr,i,void 0,(i.current.flags&128)===128)}catch{}}var jr=Math.clz32?Math.clz32:Ul,cu=Math.log,jl=Math.LN2;function Ul(i){return i>>>=0,i===0?32:31-(cu(i)/jl|0)|0}var Zo=64,ea=4194304;function ds(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function ao(i,o){var u=i.pendingLanes;if(u===0)return 0;var d=0,m=i.suspendedLanes,v=i.pingedLanes,S=u&268435455;if(S!==0){var L=S&~m;L!==0?d=ds(L):(v&=S,v!==0&&(d=ds(v)))}else S=u&~m,S!==0?d=ds(S):v!==0&&(d=ds(v));if(d===0)return 0;if(o!==0&&o!==d&&!(o&m)&&(m=d&-d,v=o&-o,m>=v||m===16&&(v&4194240)!==0))return o;if(d&4&&(d|=u&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=d;0<o;)u=31-jr(o),m=1<<u,d|=i[u],o&=~m;return d}function $d(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ui(i,o){for(var u=i.suspendedLanes,d=i.pingedLanes,m=i.expirationTimes,v=i.pendingLanes;0<v;){var S=31-jr(v),L=1<<S,F=m[S];F===-1?(!(L&u)||L&d)&&(m[S]=$d(L,o)):F<=o&&(i.expiredLanes|=L),v&=~L}}function ln(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function uo(){var i=Zo;return Zo<<=1,!(Zo&4194240)&&(Zo=64),i}function hs(i){for(var o=[],u=0;31>u;u++)o.push(i);return o}function ps(i,o,u){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-jr(o),i[o]=u}function wt(i,o){var u=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var d=i.eventTimes;for(i=i.expirationTimes;0<u;){var m=31-jr(u),v=1<<m;o[m]=0,d[m]=-1,i[m]=-1,u&=~v}}function ms(i,o){var u=i.entangledLanes|=o;for(i=i.entanglements;u;){var d=31-jr(u),m=1<<d;m&o|i[d]&o&&(i[d]|=o),u&=~m}}var rt=0;function gs(i){return i&=-i,1<i?4<i?i&268435455?16:536870912:4:1}var Bl,ta,zl,ql,$l,fu=!1,gi=[],dr=null,$n=null,Hn=null,ys=new Map,In=new Map,yi=[],Hd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Hl(i,o){switch(i){case"focusin":case"focusout":dr=null;break;case"dragenter":case"dragleave":$n=null;break;case"mouseover":case"mouseout":Hn=null;break;case"pointerover":case"pointerout":ys.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":In.delete(o.pointerId)}}function Qr(i,o,u,d,m,v){return i===null||i.nativeEvent!==v?(i={blockedOn:o,domEventName:u,eventSystemFlags:d,nativeEvent:v,targetContainers:[m]},o!==null&&(o=Pu(o),o!==null&&ta(o)),i):(i.eventSystemFlags|=d,o=i.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),i)}function Wd(i,o,u,d,m){switch(o){case"focusin":return dr=Qr(dr,i,o,u,d,m),!0;case"dragenter":return $n=Qr($n,i,o,u,d,m),!0;case"mouseover":return Hn=Qr(Hn,i,o,u,d,m),!0;case"pointerover":var v=m.pointerId;return ys.set(v,Qr(ys.get(v)||null,i,o,u,d,m)),!0;case"gotpointercapture":return v=m.pointerId,In.set(v,Qr(In.get(v)||null,i,o,u,d,m)),!0}return!1}function Wl(i){var o=po(i.target);if(o!==null){var u=tt(o);if(u!==null){if(o=u.tag,o===13){if(o=lt(u),o!==null){i.blockedOn=o,$l(i.priority,function(){zl(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Bi(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var u=ra(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(u===null){u=i.nativeEvent;var d=new u.constructor(u.type,u);Wr=d,u.target.dispatchEvent(d),Wr=null}else return o=Pu(u),o!==null&&ta(o),i.blockedOn=u,!1;o.shift()}return!0}function lo(i,o,u){Bi(i)&&u.delete(o)}function Gl(){fu=!1,dr!==null&&Bi(dr)&&(dr=null),$n!==null&&Bi($n)&&($n=null),Hn!==null&&Bi(Hn)&&(Hn=null),ys.forEach(lo),In.forEach(lo)}function Wn(i,o){i.blockedOn===o&&(i.blockedOn=null,fu||(fu=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Gl)))}function Gn(i){function o(m){return Wn(m,i)}if(0<gi.length){Wn(gi[0],i);for(var u=1;u<gi.length;u++){var d=gi[u];d.blockedOn===i&&(d.blockedOn=null)}}for(dr!==null&&Wn(dr,i),$n!==null&&Wn($n,i),Hn!==null&&Wn(Hn,i),ys.forEach(o),In.forEach(o),u=0;u<yi.length;u++)d=yi[u],d.blockedOn===i&&(d.blockedOn=null);for(;0<yi.length&&(u=yi[0],u.blockedOn===null);)Wl(u),u.blockedOn===null&&yi.shift()}var zi=M.ReactCurrentBatchConfig,vs=!0;function xt(i,o,u,d){var m=rt,v=zi.transition;zi.transition=null;try{rt=1,du(i,o,u,d)}finally{rt=m,zi.transition=v}}function Gd(i,o,u,d){var m=rt,v=zi.transition;zi.transition=null;try{rt=4,du(i,o,u,d)}finally{rt=m,zi.transition=v}}function du(i,o,u,d){if(vs){var m=ra(i,o,u,d);if(m===null)ih(i,o,d,co,u),Hl(i,d);else if(Wd(m,i,o,u,d))d.stopPropagation();else if(Hl(i,d),o&4&&-1<Hd.indexOf(i)){for(;m!==null;){var v=Pu(m);if(v!==null&&Bl(v),v=ra(i,o,u,d),v===null&&ih(i,o,d,co,u),v===m)break;m=v}m!==null&&d.stopPropagation()}else ih(i,o,d,null,u)}}var co=null;function ra(i,o,u,d){if(co=null,i=fs(d),i=po(i),i!==null)if(o=tt(i),o===null)i=null;else if(u=o.tag,u===13){if(i=lt(o),i!==null)return i;i=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return co=i,null}function hu(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ji()){case ot:return 1;case Rt:return 4;case fr:case qn:return 16;case Pt:return 536870912;default:return 16}default:return 16}}var cn=null,na=null,Yr=null;function pu(){if(Yr)return Yr;var i,o=na,u=o.length,d,m="value"in cn?cn.value:cn.textContent,v=m.length;for(i=0;i<u&&o[i]===m[i];i++);var S=u-i;for(d=1;d<=S&&o[u-d]===m[v-d];d++);return Yr=m.slice(i,1<d?1-d:void 0)}function ia(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function vi(){return!0}function mu(){return!1}function hr(i){function o(u,d,m,v,S){this._reactName=u,this._targetInst=m,this.type=d,this.nativeEvent=v,this.target=S,this.currentTarget=null;for(var L in i)i.hasOwnProperty(L)&&(u=i[L],this[L]=u?u(v):v[L]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?vi:mu,this.isPropagationStopped=mu,this}return de(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=vi)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=vi)},persist:function(){},isPersistent:vi}),o}var Kn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sa=hr(Kn),_i=de({},Kn,{view:0,detail:0}),Kd=hr(_i),oa,qi,_s,fo=de({},_i,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wi,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==_s&&(_s&&i.type==="mousemove"?(oa=i.screenX-_s.screenX,qi=i.screenY-_s.screenY):qi=oa=0,_s=i),oa)},movementY:function(i){return"movementY"in i?i.movementY:qi}}),aa=hr(fo),gu=de({},fo,{dataTransfer:0}),Kl=hr(gu),ua=de({},_i,{relatedTarget:0}),la=hr(ua),Ql=de({},Kn,{animationName:0,elapsedTime:0,pseudoElement:0}),$i=hr(Ql),Yl=de({},Kn,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Jl=hr(Yl),Xl=de({},Kn,{data:0}),yu=hr(Xl),ca={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ur={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ec(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=Zl[i])?!!o[i]:!1}function wi(){return ec}var f=de({},_i,{key:function(i){if(i.key){var o=ca[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=ia(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Ur[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wi,charCode:function(i){return i.type==="keypress"?ia(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ia(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),y=hr(f),E=de({},fo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),P=hr(E),G=de({},_i,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wi}),Z=hr(G),fe=de({},Kn,{propertyName:0,elapsedTime:0,pseudoElement:0}),vt=hr(fe),Jt=de({},fo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),at=hr(Jt),ir=[9,13,27,32],Ht=c&&"CompositionEvent"in window,Rn=null;c&&"documentMode"in document&&(Rn=document.documentMode);var fn=c&&"TextEvent"in window&&!Rn,ho=c&&(!Ht||Rn&&8<Rn&&11>=Rn),fa=" ",ew=!1;function tw(i,o){switch(i){case"keyup":return ir.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rw(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var da=!1;function hb(i,o){switch(i){case"compositionend":return rw(o);case"keypress":return o.which!==32?null:(ew=!0,fa);case"textInput":return i=o.data,i===fa&&ew?null:i;default:return null}}function pb(i,o){if(da)return i==="compositionend"||!Ht&&tw(i,o)?(i=pu(),Yr=na=cn=null,da=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return ho&&o.locale!=="ko"?null:o.data;default:return null}}var mb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nw(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!mb[i.type]:o==="textarea"}function iw(i,o,u,d){Fr(d),o=sc(o,"onChange"),0<o.length&&(u=new sa("onChange","change",null,u,d),i.push({event:u,listeners:o}))}var vu=null,_u=null;function gb(i){Tw(i,0)}function tc(i){var o=ya(i);if(Mn(o))return i}function yb(i,o){if(i==="change")return o}var sw=!1;if(c){var Qd;if(c){var Yd="oninput"in document;if(!Yd){var ow=document.createElement("div");ow.setAttribute("oninput","return;"),Yd=typeof ow.oninput=="function"}Qd=Yd}else Qd=!1;sw=Qd&&(!document.documentMode||9<document.documentMode)}function aw(){vu&&(vu.detachEvent("onpropertychange",uw),_u=vu=null)}function uw(i){if(i.propertyName==="value"&&tc(_u)){var o=[];iw(o,_u,i,fs(i)),X(gb,o)}}function vb(i,o,u){i==="focusin"?(aw(),vu=o,_u=u,vu.attachEvent("onpropertychange",uw)):i==="focusout"&&aw()}function _b(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return tc(_u)}function wb(i,o){if(i==="click")return tc(o)}function Eb(i,o){if(i==="input"||i==="change")return tc(o)}function Tb(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Qn=typeof Object.is=="function"?Object.is:Tb;function wu(i,o){if(Qn(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var u=Object.keys(i),d=Object.keys(o);if(u.length!==d.length)return!1;for(d=0;d<u.length;d++){var m=u[d];if(!h.call(o,m)||!Qn(i[m],o[m]))return!1}return!0}function lw(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function cw(i,o){var u=lw(i);i=0;for(var d;u;){if(u.nodeType===3){if(d=i+u.textContent.length,i<=o&&d>=o)return{node:u,offset:o-i};i=d}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=lw(u)}}function fw(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?fw(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function dw(){for(var i=window,o=Ot();o instanceof i.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)i=o.contentWindow;else break;o=Ot(i.document)}return o}function Jd(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function Sb(i){var o=dw(),u=i.focusedElem,d=i.selectionRange;if(o!==u&&u&&u.ownerDocument&&fw(u.ownerDocument.documentElement,u)){if(d!==null&&Jd(u)){if(o=d.start,i=d.end,i===void 0&&(i=o),"selectionStart"in u)u.selectionStart=o,u.selectionEnd=Math.min(i,u.value.length);else if(i=(o=u.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var m=u.textContent.length,v=Math.min(d.start,m);d=d.end===void 0?v:Math.min(d.end,m),!i.extend&&v>d&&(m=d,d=v,v=m),m=cw(u,v);var S=cw(u,d);m&&S&&(i.rangeCount!==1||i.anchorNode!==m.node||i.anchorOffset!==m.offset||i.focusNode!==S.node||i.focusOffset!==S.offset)&&(o=o.createRange(),o.setStart(m.node,m.offset),i.removeAllRanges(),v>d?(i.addRange(o),i.extend(S.node,S.offset)):(o.setEnd(S.node,S.offset),i.addRange(o)))}}for(o=[],i=u;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<o.length;u++)i=o[u],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var Ib=c&&"documentMode"in document&&11>=document.documentMode,ha=null,Xd=null,Eu=null,Zd=!1;function hw(i,o,u){var d=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Zd||ha==null||ha!==Ot(d)||(d=ha,"selectionStart"in d&&Jd(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Eu&&wu(Eu,d)||(Eu=d,d=sc(Xd,"onSelect"),0<d.length&&(o=new sa("onSelect","select",null,o,u),i.push({event:o,listeners:d}),o.target=ha)))}function rc(i,o){var u={};return u[i.toLowerCase()]=o.toLowerCase(),u["Webkit"+i]="webkit"+o,u["Moz"+i]="moz"+o,u}var pa={animationend:rc("Animation","AnimationEnd"),animationiteration:rc("Animation","AnimationIteration"),animationstart:rc("Animation","AnimationStart"),transitionend:rc("Transition","TransitionEnd")},eh={},pw={};c&&(pw=document.createElement("div").style,"AnimationEvent"in window||(delete pa.animationend.animation,delete pa.animationiteration.animation,delete pa.animationstart.animation),"TransitionEvent"in window||delete pa.transitionend.transition);function nc(i){if(eh[i])return eh[i];if(!pa[i])return i;var o=pa[i],u;for(u in o)if(o.hasOwnProperty(u)&&u in pw)return eh[i]=o[u];return i}var mw=nc("animationend"),gw=nc("animationiteration"),yw=nc("animationstart"),vw=nc("transitionend"),_w=new Map,ww="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ws(i,o){_w.set(i,o),a(o,[i])}for(var th=0;th<ww.length;th++){var rh=ww[th],Rb=rh.toLowerCase(),Pb=rh[0].toUpperCase()+rh.slice(1);ws(Rb,"on"+Pb)}ws(mw,"onAnimationEnd"),ws(gw,"onAnimationIteration"),ws(yw,"onAnimationStart"),ws("dblclick","onDoubleClick"),ws("focusin","onFocus"),ws("focusout","onBlur"),ws(vw,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cb=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tu));function Ew(i,o,u){var d=i.type||"unknown-event";i.currentTarget=u,Vt(d,o,void 0,i),i.currentTarget=null}function Tw(i,o){o=(o&4)!==0;for(var u=0;u<i.length;u++){var d=i[u],m=d.event;d=d.listeners;e:{var v=void 0;if(o)for(var S=d.length-1;0<=S;S--){var L=d[S],F=L.instance,J=L.currentTarget;if(L=L.listener,F!==v&&m.isPropagationStopped())break e;Ew(m,L,J),v=F}else for(S=0;S<d.length;S++){if(L=d[S],F=L.instance,J=L.currentTarget,L=L.listener,F!==v&&m.isPropagationStopped())break e;Ew(m,L,J),v=F}}}if(ce)throw i=Le,ce=!1,Le=null,i}function Ct(i,o){var u=o[ch];u===void 0&&(u=o[ch]=new Set);var d=i+"__bubble";u.has(d)||(Sw(o,i,2,!1),u.add(d))}function nh(i,o,u){var d=0;o&&(d|=4),Sw(u,i,d,o)}var ic="_reactListening"+Math.random().toString(36).slice(2);function Su(i){if(!i[ic]){i[ic]=!0,n.forEach(function(u){u!=="selectionchange"&&(Cb.has(u)||nh(u,!1,i),nh(u,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[ic]||(o[ic]=!0,nh("selectionchange",!1,o))}}function Sw(i,o,u,d){switch(hu(o)){case 1:var m=xt;break;case 4:m=Gd;break;default:m=du}u=m.bind(null,o,u,i),m=void 0,!pe||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),d?m!==void 0?i.addEventListener(o,u,{capture:!0,passive:m}):i.addEventListener(o,u,!0):m!==void 0?i.addEventListener(o,u,{passive:m}):i.addEventListener(o,u,!1)}function ih(i,o,u,d,m){var v=d;if(!(o&1)&&!(o&2)&&d!==null)e:for(;;){if(d===null)return;var S=d.tag;if(S===3||S===4){var L=d.stateNode.containerInfo;if(L===m||L.nodeType===8&&L.parentNode===m)break;if(S===4)for(S=d.return;S!==null;){var F=S.tag;if((F===3||F===4)&&(F=S.stateNode.containerInfo,F===m||F.nodeType===8&&F.parentNode===m))return;S=S.return}for(;L!==null;){if(S=po(L),S===null)return;if(F=S.tag,F===5||F===6){d=v=S;continue e}L=L.parentNode}}d=d.return}X(function(){var J=v,oe=fs(u),ae=[];e:{var se=_w.get(i);if(se!==void 0){var ye=sa,Se=i;switch(i){case"keypress":if(ia(u)===0)break e;case"keydown":case"keyup":ye=y;break;case"focusin":Se="focus",ye=la;break;case"focusout":Se="blur",ye=la;break;case"beforeblur":case"afterblur":ye=la;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ye=aa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ye=Kl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ye=Z;break;case mw:case gw:case yw:ye=$i;break;case vw:ye=vt;break;case"scroll":ye=Kd;break;case"wheel":ye=at;break;case"copy":case"cut":case"paste":ye=Jl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ye=P}var Re=(o&4)!==0,jt=!Re&&i==="scroll",K=Re?se!==null?se+"Capture":null:se;Re=[];for(var q=J,Q;q!==null;){Q=q;var le=Q.stateNode;if(Q.tag===5&&le!==null&&(Q=le,K!==null&&(le=te(q,K),le!=null&&Re.push(Iu(q,le,Q)))),jt)break;q=q.return}0<Re.length&&(se=new ye(se,Se,null,u,oe),ae.push({event:se,listeners:Re}))}}if(!(o&7)){e:{if(se=i==="mouseover"||i==="pointerover",ye=i==="mouseout"||i==="pointerout",se&&u!==Wr&&(Se=u.relatedTarget||u.fromElement)&&(po(Se)||Se[Hi]))break e;if((ye||se)&&(se=oe.window===oe?oe:(se=oe.ownerDocument)?se.defaultView||se.parentWindow:window,ye?(Se=u.relatedTarget||u.toElement,ye=J,Se=Se?po(Se):null,Se!==null&&(jt=tt(Se),Se!==jt||Se.tag!==5&&Se.tag!==6)&&(Se=null)):(ye=null,Se=J),ye!==Se)){if(Re=aa,le="onMouseLeave",K="onMouseEnter",q="mouse",(i==="pointerout"||i==="pointerover")&&(Re=P,le="onPointerLeave",K="onPointerEnter",q="pointer"),jt=ye==null?se:ya(ye),Q=Se==null?se:ya(Se),se=new Re(le,q+"leave",ye,u,oe),se.target=jt,se.relatedTarget=Q,le=null,po(oe)===J&&(Re=new Re(K,q+"enter",Se,u,oe),Re.target=Q,Re.relatedTarget=jt,le=Re),jt=le,ye&&Se)t:{for(Re=ye,K=Se,q=0,Q=Re;Q;Q=ma(Q))q++;for(Q=0,le=K;le;le=ma(le))Q++;for(;0<q-Q;)Re=ma(Re),q--;for(;0<Q-q;)K=ma(K),Q--;for(;q--;){if(Re===K||K!==null&&Re===K.alternate)break t;Re=ma(Re),K=ma(K)}Re=null}else Re=null;ye!==null&&Iw(ae,se,ye,Re,!1),Se!==null&&jt!==null&&Iw(ae,jt,Se,Re,!0)}}e:{if(se=J?ya(J):window,ye=se.nodeName&&se.nodeName.toLowerCase(),ye==="select"||ye==="input"&&se.type==="file")var Pe=yb;else if(nw(se))if(sw)Pe=Eb;else{Pe=_b;var ke=vb}else(ye=se.nodeName)&&ye.toLowerCase()==="input"&&(se.type==="checkbox"||se.type==="radio")&&(Pe=wb);if(Pe&&(Pe=Pe(i,J))){iw(ae,Pe,u,oe);break e}ke&&ke(i,se,J),i==="focusout"&&(ke=se._wrapperState)&&ke.controlled&&se.type==="number"&&hi(se,"number",se.value)}switch(ke=J?ya(J):window,i){case"focusin":(nw(ke)||ke.contentEditable==="true")&&(ha=ke,Xd=J,Eu=null);break;case"focusout":Eu=Xd=ha=null;break;case"mousedown":Zd=!0;break;case"contextmenu":case"mouseup":case"dragend":Zd=!1,hw(ae,u,oe);break;case"selectionchange":if(Ib)break;case"keydown":case"keyup":hw(ae,u,oe)}var Oe;if(Ht)e:{switch(i){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else da?tw(i,u)&&(Ve="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(Ve="onCompositionStart");Ve&&(ho&&u.locale!=="ko"&&(da||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&da&&(Oe=pu()):(cn=oe,na="value"in cn?cn.value:cn.textContent,da=!0)),ke=sc(J,Ve),0<ke.length&&(Ve=new yu(Ve,i,null,u,oe),ae.push({event:Ve,listeners:ke}),Oe?Ve.data=Oe:(Oe=rw(u),Oe!==null&&(Ve.data=Oe)))),(Oe=fn?hb(i,u):pb(i,u))&&(J=sc(J,"onBeforeInput"),0<J.length&&(oe=new yu("onBeforeInput","beforeinput",null,u,oe),ae.push({event:oe,listeners:J}),oe.data=Oe))}Tw(ae,o)})}function Iu(i,o,u){return{instance:i,listener:o,currentTarget:u}}function sc(i,o){for(var u=o+"Capture",d=[];i!==null;){var m=i,v=m.stateNode;m.tag===5&&v!==null&&(m=v,v=te(i,u),v!=null&&d.unshift(Iu(i,v,m)),v=te(i,o),v!=null&&d.push(Iu(i,v,m))),i=i.return}return d}function ma(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Iw(i,o,u,d,m){for(var v=o._reactName,S=[];u!==null&&u!==d;){var L=u,F=L.alternate,J=L.stateNode;if(F!==null&&F===d)break;L.tag===5&&J!==null&&(L=J,m?(F=te(u,v),F!=null&&S.unshift(Iu(u,F,L))):m||(F=te(u,v),F!=null&&S.push(Iu(u,F,L)))),u=u.return}S.length!==0&&i.push({event:o,listeners:S})}var Ab=/\r\n?/g,bb=/\u0000|\uFFFD/g;function Rw(i){return(typeof i=="string"?i:""+i).replace(Ab,`
`).replace(bb,"")}function oc(i,o,u){if(o=Rw(o),Rw(i)!==o&&u)throw Error(t(425))}function ac(){}var sh=null,oh=null;function ah(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var uh=typeof setTimeout=="function"?setTimeout:void 0,kb=typeof clearTimeout=="function"?clearTimeout:void 0,Pw=typeof Promise=="function"?Promise:void 0,Ob=typeof queueMicrotask=="function"?queueMicrotask:typeof Pw<"u"?function(i){return Pw.resolve(null).then(i).catch(xb)}:uh;function xb(i){setTimeout(function(){throw i})}function lh(i,o){var u=o,d=0;do{var m=u.nextSibling;if(i.removeChild(u),m&&m.nodeType===8)if(u=m.data,u==="/$"){if(d===0){i.removeChild(m),Gn(o);return}d--}else u!=="$"&&u!=="$?"&&u!=="$!"||d++;u=m}while(u);Gn(o)}function Es(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function Cw(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return i;o--}else u==="/$"&&o++}i=i.previousSibling}return null}var ga=Math.random().toString(36).slice(2),Ei="__reactFiber$"+ga,Ru="__reactProps$"+ga,Hi="__reactContainer$"+ga,ch="__reactEvents$"+ga,Db="__reactListeners$"+ga,Nb="__reactHandles$"+ga;function po(i){var o=i[Ei];if(o)return o;for(var u=i.parentNode;u;){if(o=u[Hi]||u[Ei]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(i=Cw(i);i!==null;){if(u=i[Ei])return u;i=Cw(i)}return o}i=u,u=i.parentNode}return null}function Pu(i){return i=i[Ei]||i[Hi],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function ya(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function uc(i){return i[Ru]||null}var fh=[],va=-1;function Ts(i){return{current:i}}function At(i){0>va||(i.current=fh[va],fh[va]=null,va--)}function Tt(i,o){va++,fh[va]=i.current,i.current=o}var Ss={},Pr=Ts(Ss),Jr=Ts(!1),mo=Ss;function _a(i,o){var u=i.type.contextTypes;if(!u)return Ss;var d=i.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===o)return d.__reactInternalMemoizedMaskedChildContext;var m={},v;for(v in u)m[v]=o[v];return d&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=m),m}function Xr(i){return i=i.childContextTypes,i!=null}function lc(){At(Jr),At(Pr)}function Aw(i,o,u){if(Pr.current!==Ss)throw Error(t(168));Tt(Pr,o),Tt(Jr,u)}function bw(i,o,u){var d=i.stateNode;if(o=o.childContextTypes,typeof d.getChildContext!="function")return u;d=d.getChildContext();for(var m in d)if(!(m in o))throw Error(t(108,Ge(i)||"Unknown",m));return de({},u,d)}function cc(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Ss,mo=Pr.current,Tt(Pr,i),Tt(Jr,Jr.current),!0}function kw(i,o,u){var d=i.stateNode;if(!d)throw Error(t(169));u?(i=bw(i,o,mo),d.__reactInternalMemoizedMergedChildContext=i,At(Jr),At(Pr),Tt(Pr,i)):At(Jr),Tt(Jr,u)}var Wi=null,fc=!1,dh=!1;function Ow(i){Wi===null?Wi=[i]:Wi.push(i)}function Lb(i){fc=!0,Ow(i)}function Is(){if(!dh&&Wi!==null){dh=!0;var i=0,o=rt;try{var u=Wi;for(rt=1;i<u.length;i++){var d=u[i];do d=d(!0);while(d!==null)}Wi=null,fc=!1}catch(m){throw Wi!==null&&(Wi=Wi.slice(i+1)),cr(ot,Is),m}finally{rt=o,dh=!1}}return null}var wa=[],Ea=0,dc=null,hc=0,Pn=[],Cn=0,go=null,Gi=1,Ki="";function yo(i,o){wa[Ea++]=hc,wa[Ea++]=dc,dc=i,hc=o}function xw(i,o,u){Pn[Cn++]=Gi,Pn[Cn++]=Ki,Pn[Cn++]=go,go=i;var d=Gi;i=Ki;var m=32-jr(d)-1;d&=~(1<<m),u+=1;var v=32-jr(o)+m;if(30<v){var S=m-m%5;v=(d&(1<<S)-1).toString(32),d>>=S,m-=S,Gi=1<<32-jr(o)+m|u<<m|d,Ki=v+i}else Gi=1<<v|u<<m|d,Ki=i}function hh(i){i.return!==null&&(yo(i,1),xw(i,1,0))}function ph(i){for(;i===dc;)dc=wa[--Ea],wa[Ea]=null,hc=wa[--Ea],wa[Ea]=null;for(;i===go;)go=Pn[--Cn],Pn[Cn]=null,Ki=Pn[--Cn],Pn[Cn]=null,Gi=Pn[--Cn],Pn[Cn]=null}var dn=null,hn=null,Dt=!1,Yn=null;function Dw(i,o){var u=On(5,null,null,0);u.elementType="DELETED",u.stateNode=o,u.return=i,o=i.deletions,o===null?(i.deletions=[u],i.flags|=16):o.push(u)}function Nw(i,o){switch(i.tag){case 5:var u=i.type;return o=o.nodeType!==1||u.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,dn=i,hn=Es(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,dn=i,hn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(u=go!==null?{id:Gi,overflow:Ki}:null,i.memoizedState={dehydrated:o,treeContext:u,retryLane:1073741824},u=On(18,null,null,0),u.stateNode=o,u.return=i,i.child=u,dn=i,hn=null,!0):!1;default:return!1}}function mh(i){return(i.mode&1)!==0&&(i.flags&128)===0}function gh(i){if(Dt){var o=hn;if(o){var u=o;if(!Nw(i,o)){if(mh(i))throw Error(t(418));o=Es(u.nextSibling);var d=dn;o&&Nw(i,o)?Dw(d,u):(i.flags=i.flags&-4097|2,Dt=!1,dn=i)}}else{if(mh(i))throw Error(t(418));i.flags=i.flags&-4097|2,Dt=!1,dn=i}}}function Lw(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;dn=i}function pc(i){if(i!==dn)return!1;if(!Dt)return Lw(i),Dt=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!ah(i.type,i.memoizedProps)),o&&(o=hn)){if(mh(i))throw Mw(),Error(t(418));for(;o;)Dw(i,o),o=Es(o.nextSibling)}if(Lw(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"){if(o===0){hn=Es(i.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++}i=i.nextSibling}hn=null}}else hn=dn?Es(i.stateNode.nextSibling):null;return!0}function Mw(){for(var i=hn;i;)i=Es(i.nextSibling)}function Ta(){hn=dn=null,Dt=!1}function yh(i){Yn===null?Yn=[i]:Yn.push(i)}var Mb=M.ReactCurrentBatchConfig;function Cu(i,o,u){if(i=u.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(t(309));var d=u.stateNode}if(!d)throw Error(t(147,i));var m=d,v=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===v?o.ref:(o=function(S){var L=m.refs;S===null?delete L[v]:L[v]=S},o._stringRef=v,o)}if(typeof i!="string")throw Error(t(284));if(!u._owner)throw Error(t(290,i))}return i}function mc(i,o){throw i=Object.prototype.toString.call(o),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function Vw(i){var o=i._init;return o(i._payload)}function Fw(i){function o(K,q){if(i){var Q=K.deletions;Q===null?(K.deletions=[q],K.flags|=16):Q.push(q)}}function u(K,q){if(!i)return null;for(;q!==null;)o(K,q),q=q.sibling;return null}function d(K,q){for(K=new Map;q!==null;)q.key!==null?K.set(q.key,q):K.set(q.index,q),q=q.sibling;return K}function m(K,q){return K=xs(K,q),K.index=0,K.sibling=null,K}function v(K,q,Q){return K.index=Q,i?(Q=K.alternate,Q!==null?(Q=Q.index,Q<q?(K.flags|=2,q):Q):(K.flags|=2,q)):(K.flags|=1048576,q)}function S(K){return i&&K.alternate===null&&(K.flags|=2),K}function L(K,q,Q,le){return q===null||q.tag!==6?(q=up(Q,K.mode,le),q.return=K,q):(q=m(q,Q),q.return=K,q)}function F(K,q,Q,le){var Pe=Q.type;return Pe===k?oe(K,q,Q.props.children,le,Q.key):q!==null&&(q.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===St&&Vw(Pe)===q.type)?(le=m(q,Q.props),le.ref=Cu(K,q,Q),le.return=K,le):(le=jc(Q.type,Q.key,Q.props,null,K.mode,le),le.ref=Cu(K,q,Q),le.return=K,le)}function J(K,q,Q,le){return q===null||q.tag!==4||q.stateNode.containerInfo!==Q.containerInfo||q.stateNode.implementation!==Q.implementation?(q=lp(Q,K.mode,le),q.return=K,q):(q=m(q,Q.children||[]),q.return=K,q)}function oe(K,q,Q,le,Pe){return q===null||q.tag!==7?(q=Ro(Q,K.mode,le,Pe),q.return=K,q):(q=m(q,Q),q.return=K,q)}function ae(K,q,Q){if(typeof q=="string"&&q!==""||typeof q=="number")return q=up(""+q,K.mode,Q),q.return=K,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case O:return Q=jc(q.type,q.key,q.props,null,K.mode,Q),Q.ref=Cu(K,null,q),Q.return=K,Q;case H:return q=lp(q,K.mode,Q),q.return=K,q;case St:var le=q._init;return ae(K,le(q._payload),Q)}if(Lr(q)||ve(q))return q=Ro(q,K.mode,Q,null),q.return=K,q;mc(K,q)}return null}function se(K,q,Q,le){var Pe=q!==null?q.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number")return Pe!==null?null:L(K,q,""+Q,le);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case O:return Q.key===Pe?F(K,q,Q,le):null;case H:return Q.key===Pe?J(K,q,Q,le):null;case St:return Pe=Q._init,se(K,q,Pe(Q._payload),le)}if(Lr(Q)||ve(Q))return Pe!==null?null:oe(K,q,Q,le,null);mc(K,Q)}return null}function ye(K,q,Q,le,Pe){if(typeof le=="string"&&le!==""||typeof le=="number")return K=K.get(Q)||null,L(q,K,""+le,Pe);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case O:return K=K.get(le.key===null?Q:le.key)||null,F(q,K,le,Pe);case H:return K=K.get(le.key===null?Q:le.key)||null,J(q,K,le,Pe);case St:var ke=le._init;return ye(K,q,Q,ke(le._payload),Pe)}if(Lr(le)||ve(le))return K=K.get(Q)||null,oe(q,K,le,Pe,null);mc(q,le)}return null}function Se(K,q,Q,le){for(var Pe=null,ke=null,Oe=q,Ve=q=0,ar=null;Oe!==null&&Ve<Q.length;Ve++){Oe.index>Ve?(ar=Oe,Oe=null):ar=Oe.sibling;var dt=se(K,Oe,Q[Ve],le);if(dt===null){Oe===null&&(Oe=ar);break}i&&Oe&&dt.alternate===null&&o(K,Oe),q=v(dt,q,Ve),ke===null?Pe=dt:ke.sibling=dt,ke=dt,Oe=ar}if(Ve===Q.length)return u(K,Oe),Dt&&yo(K,Ve),Pe;if(Oe===null){for(;Ve<Q.length;Ve++)Oe=ae(K,Q[Ve],le),Oe!==null&&(q=v(Oe,q,Ve),ke===null?Pe=Oe:ke.sibling=Oe,ke=Oe);return Dt&&yo(K,Ve),Pe}for(Oe=d(K,Oe);Ve<Q.length;Ve++)ar=ye(Oe,K,Ve,Q[Ve],le),ar!==null&&(i&&ar.alternate!==null&&Oe.delete(ar.key===null?Ve:ar.key),q=v(ar,q,Ve),ke===null?Pe=ar:ke.sibling=ar,ke=ar);return i&&Oe.forEach(function(Ds){return o(K,Ds)}),Dt&&yo(K,Ve),Pe}function Re(K,q,Q,le){var Pe=ve(Q);if(typeof Pe!="function")throw Error(t(150));if(Q=Pe.call(Q),Q==null)throw Error(t(151));for(var ke=Pe=null,Oe=q,Ve=q=0,ar=null,dt=Q.next();Oe!==null&&!dt.done;Ve++,dt=Q.next()){Oe.index>Ve?(ar=Oe,Oe=null):ar=Oe.sibling;var Ds=se(K,Oe,dt.value,le);if(Ds===null){Oe===null&&(Oe=ar);break}i&&Oe&&Ds.alternate===null&&o(K,Oe),q=v(Ds,q,Ve),ke===null?Pe=Ds:ke.sibling=Ds,ke=Ds,Oe=ar}if(dt.done)return u(K,Oe),Dt&&yo(K,Ve),Pe;if(Oe===null){for(;!dt.done;Ve++,dt=Q.next())dt=ae(K,dt.value,le),dt!==null&&(q=v(dt,q,Ve),ke===null?Pe=dt:ke.sibling=dt,ke=dt);return Dt&&yo(K,Ve),Pe}for(Oe=d(K,Oe);!dt.done;Ve++,dt=Q.next())dt=ye(Oe,K,Ve,dt.value,le),dt!==null&&(i&&dt.alternate!==null&&Oe.delete(dt.key===null?Ve:dt.key),q=v(dt,q,Ve),ke===null?Pe=dt:ke.sibling=dt,ke=dt);return i&&Oe.forEach(function(pk){return o(K,pk)}),Dt&&yo(K,Ve),Pe}function jt(K,q,Q,le){if(typeof Q=="object"&&Q!==null&&Q.type===k&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case O:e:{for(var Pe=Q.key,ke=q;ke!==null;){if(ke.key===Pe){if(Pe=Q.type,Pe===k){if(ke.tag===7){u(K,ke.sibling),q=m(ke,Q.props.children),q.return=K,K=q;break e}}else if(ke.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===St&&Vw(Pe)===ke.type){u(K,ke.sibling),q=m(ke,Q.props),q.ref=Cu(K,ke,Q),q.return=K,K=q;break e}u(K,ke);break}else o(K,ke);ke=ke.sibling}Q.type===k?(q=Ro(Q.props.children,K.mode,le,Q.key),q.return=K,K=q):(le=jc(Q.type,Q.key,Q.props,null,K.mode,le),le.ref=Cu(K,q,Q),le.return=K,K=le)}return S(K);case H:e:{for(ke=Q.key;q!==null;){if(q.key===ke)if(q.tag===4&&q.stateNode.containerInfo===Q.containerInfo&&q.stateNode.implementation===Q.implementation){u(K,q.sibling),q=m(q,Q.children||[]),q.return=K,K=q;break e}else{u(K,q);break}else o(K,q);q=q.sibling}q=lp(Q,K.mode,le),q.return=K,K=q}return S(K);case St:return ke=Q._init,jt(K,q,ke(Q._payload),le)}if(Lr(Q))return Se(K,q,Q,le);if(ve(Q))return Re(K,q,Q,le);mc(K,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"?(Q=""+Q,q!==null&&q.tag===6?(u(K,q.sibling),q=m(q,Q),q.return=K,K=q):(u(K,q),q=up(Q,K.mode,le),q.return=K,K=q),S(K)):u(K,q)}return jt}var Sa=Fw(!0),jw=Fw(!1),gc=Ts(null),yc=null,Ia=null,vh=null;function _h(){vh=Ia=yc=null}function wh(i){var o=gc.current;At(gc),i._currentValue=o}function Eh(i,o,u){for(;i!==null;){var d=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),i===u)break;i=i.return}}function Ra(i,o){yc=i,vh=Ia=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&o&&(Zr=!0),i.firstContext=null)}function An(i){var o=i._currentValue;if(vh!==i)if(i={context:i,memoizedValue:o,next:null},Ia===null){if(yc===null)throw Error(t(308));Ia=i,yc.dependencies={lanes:0,firstContext:i}}else Ia=Ia.next=i;return o}var vo=null;function Th(i){vo===null?vo=[i]:vo.push(i)}function Uw(i,o,u,d){var m=o.interleaved;return m===null?(u.next=u,Th(o)):(u.next=m.next,m.next=u),o.interleaved=u,Qi(i,d)}function Qi(i,o){i.lanes|=o;var u=i.alternate;for(u!==null&&(u.lanes|=o),u=i,i=i.return;i!==null;)i.childLanes|=o,u=i.alternate,u!==null&&(u.childLanes|=o),u=i,i=i.return;return u.tag===3?u.stateNode:null}var Rs=!1;function Sh(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Bw(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Yi(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function Ps(i,o,u){var d=i.updateQueue;if(d===null)return null;if(d=d.shared,ct&2){var m=d.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),d.pending=o,Qi(i,u)}return m=d.interleaved,m===null?(o.next=o,Th(d)):(o.next=m.next,m.next=o),d.interleaved=o,Qi(i,u)}function vc(i,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194240)!==0)){var d=o.lanes;d&=i.pendingLanes,u|=d,o.lanes=u,ms(i,u)}}function zw(i,o){var u=i.updateQueue,d=i.alternate;if(d!==null&&(d=d.updateQueue,u===d)){var m=null,v=null;if(u=u.firstBaseUpdate,u!==null){do{var S={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};v===null?m=v=S:v=v.next=S,u=u.next}while(u!==null);v===null?m=v=o:v=v.next=o}else m=v=o;u={baseState:d.baseState,firstBaseUpdate:m,lastBaseUpdate:v,shared:d.shared,effects:d.effects},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=o:i.next=o,u.lastBaseUpdate=o}function _c(i,o,u,d){var m=i.updateQueue;Rs=!1;var v=m.firstBaseUpdate,S=m.lastBaseUpdate,L=m.shared.pending;if(L!==null){m.shared.pending=null;var F=L,J=F.next;F.next=null,S===null?v=J:S.next=J,S=F;var oe=i.alternate;oe!==null&&(oe=oe.updateQueue,L=oe.lastBaseUpdate,L!==S&&(L===null?oe.firstBaseUpdate=J:L.next=J,oe.lastBaseUpdate=F))}if(v!==null){var ae=m.baseState;S=0,oe=J=F=null,L=v;do{var se=L.lane,ye=L.eventTime;if((d&se)===se){oe!==null&&(oe=oe.next={eventTime:ye,lane:0,tag:L.tag,payload:L.payload,callback:L.callback,next:null});e:{var Se=i,Re=L;switch(se=o,ye=u,Re.tag){case 1:if(Se=Re.payload,typeof Se=="function"){ae=Se.call(ye,ae,se);break e}ae=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=Re.payload,se=typeof Se=="function"?Se.call(ye,ae,se):Se,se==null)break e;ae=de({},ae,se);break e;case 2:Rs=!0}}L.callback!==null&&L.lane!==0&&(i.flags|=64,se=m.effects,se===null?m.effects=[L]:se.push(L))}else ye={eventTime:ye,lane:se,tag:L.tag,payload:L.payload,callback:L.callback,next:null},oe===null?(J=oe=ye,F=ae):oe=oe.next=ye,S|=se;if(L=L.next,L===null){if(L=m.shared.pending,L===null)break;se=L,L=se.next,se.next=null,m.lastBaseUpdate=se,m.shared.pending=null}}while(!0);if(oe===null&&(F=ae),m.baseState=F,m.firstBaseUpdate=J,m.lastBaseUpdate=oe,o=m.shared.interleaved,o!==null){m=o;do S|=m.lane,m=m.next;while(m!==o)}else v===null&&(m.shared.lanes=0);Eo|=S,i.lanes=S,i.memoizedState=ae}}function qw(i,o,u){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var d=i[o],m=d.callback;if(m!==null){if(d.callback=null,d=u,typeof m!="function")throw Error(t(191,m));m.call(d)}}}var Au={},Ti=Ts(Au),bu=Ts(Au),ku=Ts(Au);function _o(i){if(i===Au)throw Error(t(174));return i}function Ih(i,o){switch(Tt(ku,o),Tt(bu,i),Tt(Ti,Au),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:Et(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=Et(o,i)}At(Ti),Tt(Ti,o)}function Pa(){At(Ti),At(bu),At(ku)}function $w(i){_o(ku.current);var o=_o(Ti.current),u=Et(o,i.type);o!==u&&(Tt(bu,i),Tt(Ti,u))}function Rh(i){bu.current===i&&(At(Ti),At(bu))}var Nt=Ts(0);function wc(i){for(var o=i;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if(o.flags&128)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Ph=[];function Ch(){for(var i=0;i<Ph.length;i++)Ph[i]._workInProgressVersionPrimary=null;Ph.length=0}var Ec=M.ReactCurrentDispatcher,Ah=M.ReactCurrentBatchConfig,wo=0,Lt=null,Xt=null,sr=null,Tc=!1,Ou=!1,xu=0,Vb=0;function Cr(){throw Error(t(321))}function bh(i,o){if(o===null)return!1;for(var u=0;u<o.length&&u<i.length;u++)if(!Qn(i[u],o[u]))return!1;return!0}function kh(i,o,u,d,m,v){if(wo=v,Lt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Ec.current=i===null||i.memoizedState===null?Bb:zb,i=u(d,m),Ou){v=0;do{if(Ou=!1,xu=0,25<=v)throw Error(t(301));v+=1,sr=Xt=null,o.updateQueue=null,Ec.current=qb,i=u(d,m)}while(Ou)}if(Ec.current=Rc,o=Xt!==null&&Xt.next!==null,wo=0,sr=Xt=Lt=null,Tc=!1,o)throw Error(t(300));return i}function Oh(){var i=xu!==0;return xu=0,i}function Si(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return sr===null?Lt.memoizedState=sr=i:sr=sr.next=i,sr}function bn(){if(Xt===null){var i=Lt.alternate;i=i!==null?i.memoizedState:null}else i=Xt.next;var o=sr===null?Lt.memoizedState:sr.next;if(o!==null)sr=o,Xt=i;else{if(i===null)throw Error(t(310));Xt=i,i={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},sr===null?Lt.memoizedState=sr=i:sr=sr.next=i}return sr}function Du(i,o){return typeof o=="function"?o(i):o}function xh(i){var o=bn(),u=o.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=i;var d=Xt,m=d.baseQueue,v=u.pending;if(v!==null){if(m!==null){var S=m.next;m.next=v.next,v.next=S}d.baseQueue=m=v,u.pending=null}if(m!==null){v=m.next,d=d.baseState;var L=S=null,F=null,J=v;do{var oe=J.lane;if((wo&oe)===oe)F!==null&&(F=F.next={lane:0,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),d=J.hasEagerState?J.eagerState:i(d,J.action);else{var ae={lane:oe,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null};F===null?(L=F=ae,S=d):F=F.next=ae,Lt.lanes|=oe,Eo|=oe}J=J.next}while(J!==null&&J!==v);F===null?S=d:F.next=L,Qn(d,o.memoizedState)||(Zr=!0),o.memoizedState=d,o.baseState=S,o.baseQueue=F,u.lastRenderedState=d}if(i=u.interleaved,i!==null){m=i;do v=m.lane,Lt.lanes|=v,Eo|=v,m=m.next;while(m!==i)}else m===null&&(u.lanes=0);return[o.memoizedState,u.dispatch]}function Dh(i){var o=bn(),u=o.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=i;var d=u.dispatch,m=u.pending,v=o.memoizedState;if(m!==null){u.pending=null;var S=m=m.next;do v=i(v,S.action),S=S.next;while(S!==m);Qn(v,o.memoizedState)||(Zr=!0),o.memoizedState=v,o.baseQueue===null&&(o.baseState=v),u.lastRenderedState=v}return[v,d]}function Hw(){}function Ww(i,o){var u=Lt,d=bn(),m=o(),v=!Qn(d.memoizedState,m);if(v&&(d.memoizedState=m,Zr=!0),d=d.queue,Nh(Qw.bind(null,u,d,i),[i]),d.getSnapshot!==o||v||sr!==null&&sr.memoizedState.tag&1){if(u.flags|=2048,Nu(9,Kw.bind(null,u,d,m,o),void 0,null),or===null)throw Error(t(349));wo&30||Gw(u,o,m)}return m}function Gw(i,o,u){i.flags|=16384,i={getSnapshot:o,value:u},o=Lt.updateQueue,o===null?(o={lastEffect:null,stores:null},Lt.updateQueue=o,o.stores=[i]):(u=o.stores,u===null?o.stores=[i]:u.push(i))}function Kw(i,o,u,d){o.value=u,o.getSnapshot=d,Yw(o)&&Jw(i)}function Qw(i,o,u){return u(function(){Yw(o)&&Jw(i)})}function Yw(i){var o=i.getSnapshot;i=i.value;try{var u=o();return!Qn(i,u)}catch{return!0}}function Jw(i){var o=Qi(i,1);o!==null&&ei(o,i,1,-1)}function Xw(i){var o=Si();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Du,lastRenderedState:i},o.queue=i,i=i.dispatch=Ub.bind(null,Lt,i),[o.memoizedState,i]}function Nu(i,o,u,d){return i={tag:i,create:o,destroy:u,deps:d,next:null},o=Lt.updateQueue,o===null?(o={lastEffect:null,stores:null},Lt.updateQueue=o,o.lastEffect=i.next=i):(u=o.lastEffect,u===null?o.lastEffect=i.next=i:(d=u.next,u.next=i,i.next=d,o.lastEffect=i)),i}function Zw(){return bn().memoizedState}function Sc(i,o,u,d){var m=Si();Lt.flags|=i,m.memoizedState=Nu(1|o,u,void 0,d===void 0?null:d)}function Ic(i,o,u,d){var m=bn();d=d===void 0?null:d;var v=void 0;if(Xt!==null){var S=Xt.memoizedState;if(v=S.destroy,d!==null&&bh(d,S.deps)){m.memoizedState=Nu(o,u,v,d);return}}Lt.flags|=i,m.memoizedState=Nu(1|o,u,v,d)}function e0(i,o){return Sc(8390656,8,i,o)}function Nh(i,o){return Ic(2048,8,i,o)}function t0(i,o){return Ic(4,2,i,o)}function r0(i,o){return Ic(4,4,i,o)}function n0(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function i0(i,o,u){return u=u!=null?u.concat([i]):null,Ic(4,4,n0.bind(null,o,i),u)}function Lh(){}function s0(i,o){var u=bn();o=o===void 0?null:o;var d=u.memoizedState;return d!==null&&o!==null&&bh(o,d[1])?d[0]:(u.memoizedState=[i,o],i)}function o0(i,o){var u=bn();o=o===void 0?null:o;var d=u.memoizedState;return d!==null&&o!==null&&bh(o,d[1])?d[0]:(i=i(),u.memoizedState=[i,o],i)}function a0(i,o,u){return wo&21?(Qn(u,o)||(u=uo(),Lt.lanes|=u,Eo|=u,i.baseState=!0),o):(i.baseState&&(i.baseState=!1,Zr=!0),i.memoizedState=u)}function Fb(i,o){var u=rt;rt=u!==0&&4>u?u:4,i(!0);var d=Ah.transition;Ah.transition={};try{i(!1),o()}finally{rt=u,Ah.transition=d}}function u0(){return bn().memoizedState}function jb(i,o,u){var d=ks(i);if(u={lane:d,action:u,hasEagerState:!1,eagerState:null,next:null},l0(i))c0(o,u);else if(u=Uw(i,o,u,d),u!==null){var m=zr();ei(u,i,d,m),f0(u,o,d)}}function Ub(i,o,u){var d=ks(i),m={lane:d,action:u,hasEagerState:!1,eagerState:null,next:null};if(l0(i))c0(o,m);else{var v=i.alternate;if(i.lanes===0&&(v===null||v.lanes===0)&&(v=o.lastRenderedReducer,v!==null))try{var S=o.lastRenderedState,L=v(S,u);if(m.hasEagerState=!0,m.eagerState=L,Qn(L,S)){var F=o.interleaved;F===null?(m.next=m,Th(o)):(m.next=F.next,F.next=m),o.interleaved=m;return}}catch{}finally{}u=Uw(i,o,m,d),u!==null&&(m=zr(),ei(u,i,d,m),f0(u,o,d))}}function l0(i){var o=i.alternate;return i===Lt||o!==null&&o===Lt}function c0(i,o){Ou=Tc=!0;var u=i.pending;u===null?o.next=o:(o.next=u.next,u.next=o),i.pending=o}function f0(i,o,u){if(u&4194240){var d=o.lanes;d&=i.pendingLanes,u|=d,o.lanes=u,ms(i,u)}}var Rc={readContext:An,useCallback:Cr,useContext:Cr,useEffect:Cr,useImperativeHandle:Cr,useInsertionEffect:Cr,useLayoutEffect:Cr,useMemo:Cr,useReducer:Cr,useRef:Cr,useState:Cr,useDebugValue:Cr,useDeferredValue:Cr,useTransition:Cr,useMutableSource:Cr,useSyncExternalStore:Cr,useId:Cr,unstable_isNewReconciler:!1},Bb={readContext:An,useCallback:function(i,o){return Si().memoizedState=[i,o===void 0?null:o],i},useContext:An,useEffect:e0,useImperativeHandle:function(i,o,u){return u=u!=null?u.concat([i]):null,Sc(4194308,4,n0.bind(null,o,i),u)},useLayoutEffect:function(i,o){return Sc(4194308,4,i,o)},useInsertionEffect:function(i,o){return Sc(4,2,i,o)},useMemo:function(i,o){var u=Si();return o=o===void 0?null:o,i=i(),u.memoizedState=[i,o],i},useReducer:function(i,o,u){var d=Si();return o=u!==void 0?u(o):o,d.memoizedState=d.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},d.queue=i,i=i.dispatch=jb.bind(null,Lt,i),[d.memoizedState,i]},useRef:function(i){var o=Si();return i={current:i},o.memoizedState=i},useState:Xw,useDebugValue:Lh,useDeferredValue:function(i){return Si().memoizedState=i},useTransition:function(){var i=Xw(!1),o=i[0];return i=Fb.bind(null,i[1]),Si().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,u){var d=Lt,m=Si();if(Dt){if(u===void 0)throw Error(t(407));u=u()}else{if(u=o(),or===null)throw Error(t(349));wo&30||Gw(d,o,u)}m.memoizedState=u;var v={value:u,getSnapshot:o};return m.queue=v,e0(Qw.bind(null,d,v,i),[i]),d.flags|=2048,Nu(9,Kw.bind(null,d,v,u,o),void 0,null),u},useId:function(){var i=Si(),o=or.identifierPrefix;if(Dt){var u=Ki,d=Gi;u=(d&~(1<<32-jr(d)-1)).toString(32)+u,o=":"+o+"R"+u,u=xu++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=Vb++,o=":"+o+"r"+u.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},zb={readContext:An,useCallback:s0,useContext:An,useEffect:Nh,useImperativeHandle:i0,useInsertionEffect:t0,useLayoutEffect:r0,useMemo:o0,useReducer:xh,useRef:Zw,useState:function(){return xh(Du)},useDebugValue:Lh,useDeferredValue:function(i){var o=bn();return a0(o,Xt.memoizedState,i)},useTransition:function(){var i=xh(Du)[0],o=bn().memoizedState;return[i,o]},useMutableSource:Hw,useSyncExternalStore:Ww,useId:u0,unstable_isNewReconciler:!1},qb={readContext:An,useCallback:s0,useContext:An,useEffect:Nh,useImperativeHandle:i0,useInsertionEffect:t0,useLayoutEffect:r0,useMemo:o0,useReducer:Dh,useRef:Zw,useState:function(){return Dh(Du)},useDebugValue:Lh,useDeferredValue:function(i){var o=bn();return Xt===null?o.memoizedState=i:a0(o,Xt.memoizedState,i)},useTransition:function(){var i=Dh(Du)[0],o=bn().memoizedState;return[i,o]},useMutableSource:Hw,useSyncExternalStore:Ww,useId:u0,unstable_isNewReconciler:!1};function Jn(i,o){if(i&&i.defaultProps){o=de({},o),i=i.defaultProps;for(var u in i)o[u]===void 0&&(o[u]=i[u]);return o}return o}function Mh(i,o,u,d){o=i.memoizedState,u=u(d,o),u=u==null?o:de({},o,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var Pc={isMounted:function(i){return(i=i._reactInternals)?tt(i)===i:!1},enqueueSetState:function(i,o,u){i=i._reactInternals;var d=zr(),m=ks(i),v=Yi(d,m);v.payload=o,u!=null&&(v.callback=u),o=Ps(i,v,m),o!==null&&(ei(o,i,m,d),vc(o,i,m))},enqueueReplaceState:function(i,o,u){i=i._reactInternals;var d=zr(),m=ks(i),v=Yi(d,m);v.tag=1,v.payload=o,u!=null&&(v.callback=u),o=Ps(i,v,m),o!==null&&(ei(o,i,m,d),vc(o,i,m))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var u=zr(),d=ks(i),m=Yi(u,d);m.tag=2,o!=null&&(m.callback=o),o=Ps(i,m,d),o!==null&&(ei(o,i,d,u),vc(o,i,d))}};function d0(i,o,u,d,m,v,S){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(d,v,S):o.prototype&&o.prototype.isPureReactComponent?!wu(u,d)||!wu(m,v):!0}function h0(i,o,u){var d=!1,m=Ss,v=o.contextType;return typeof v=="object"&&v!==null?v=An(v):(m=Xr(o)?mo:Pr.current,d=o.contextTypes,v=(d=d!=null)?_a(i,m):Ss),o=new o(u,v),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Pc,i.stateNode=o,o._reactInternals=i,d&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=m,i.__reactInternalMemoizedMaskedChildContext=v),o}function p0(i,o,u,d){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,d),o.state!==i&&Pc.enqueueReplaceState(o,o.state,null)}function Vh(i,o,u,d){var m=i.stateNode;m.props=u,m.state=i.memoizedState,m.refs={},Sh(i);var v=o.contextType;typeof v=="object"&&v!==null?m.context=An(v):(v=Xr(o)?mo:Pr.current,m.context=_a(i,v)),m.state=i.memoizedState,v=o.getDerivedStateFromProps,typeof v=="function"&&(Mh(i,o,v,u),m.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(o=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),o!==m.state&&Pc.enqueueReplaceState(m,m.state,null),_c(i,u,m,d),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308)}function Ca(i,o){try{var u="",d=o;do u+=Ce(d),d=d.return;while(d);var m=u}catch(v){m=`
Error generating stack: `+v.message+`
`+v.stack}return{value:i,source:o,stack:m,digest:null}}function Fh(i,o,u){return{value:i,source:null,stack:u??null,digest:o??null}}function jh(i,o){try{console.error(o.value)}catch(u){setTimeout(function(){throw u})}}var $b=typeof WeakMap=="function"?WeakMap:Map;function m0(i,o,u){u=Yi(-1,u),u.tag=3,u.payload={element:null};var d=o.value;return u.callback=function(){Dc||(Dc=!0,ep=d),jh(i,o)},u}function g0(i,o,u){u=Yi(-1,u),u.tag=3;var d=i.type.getDerivedStateFromError;if(typeof d=="function"){var m=o.value;u.payload=function(){return d(m)},u.callback=function(){jh(i,o)}}var v=i.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(u.callback=function(){jh(i,o),typeof d!="function"&&(As===null?As=new Set([this]):As.add(this));var S=o.stack;this.componentDidCatch(o.value,{componentStack:S!==null?S:""})}),u}function y0(i,o,u){var d=i.pingCache;if(d===null){d=i.pingCache=new $b;var m=new Set;d.set(o,m)}else m=d.get(o),m===void 0&&(m=new Set,d.set(o,m));m.has(u)||(m.add(u),i=ik.bind(null,i,o,u),o.then(i,i))}function v0(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function _0(i,o,u,d,m){return i.mode&1?(i.flags|=65536,i.lanes=m,i):(i===o?i.flags|=65536:(i.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(o=Yi(-1,1),o.tag=2,Ps(u,o,1))),u.lanes|=1),i)}var Hb=M.ReactCurrentOwner,Zr=!1;function Br(i,o,u,d){o.child=i===null?jw(o,null,u,d):Sa(o,i.child,u,d)}function w0(i,o,u,d,m){u=u.render;var v=o.ref;return Ra(o,m),d=kh(i,o,u,d,v,m),u=Oh(),i!==null&&!Zr?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,Ji(i,o,m)):(Dt&&u&&hh(o),o.flags|=1,Br(i,o,d,m),o.child)}function E0(i,o,u,d,m){if(i===null){var v=u.type;return typeof v=="function"&&!ap(v)&&v.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(o.tag=15,o.type=v,T0(i,o,v,d,m)):(i=jc(u.type,null,d,o,o.mode,m),i.ref=o.ref,i.return=o,o.child=i)}if(v=i.child,!(i.lanes&m)){var S=v.memoizedProps;if(u=u.compare,u=u!==null?u:wu,u(S,d)&&i.ref===o.ref)return Ji(i,o,m)}return o.flags|=1,i=xs(v,d),i.ref=o.ref,i.return=o,o.child=i}function T0(i,o,u,d,m){if(i!==null){var v=i.memoizedProps;if(wu(v,d)&&i.ref===o.ref)if(Zr=!1,o.pendingProps=d=v,(i.lanes&m)!==0)i.flags&131072&&(Zr=!0);else return o.lanes=i.lanes,Ji(i,o,m)}return Uh(i,o,u,d,m)}function S0(i,o,u){var d=o.pendingProps,m=d.children,v=i!==null?i.memoizedState:null;if(d.mode==="hidden")if(!(o.mode&1))o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Tt(ba,pn),pn|=u;else{if(!(u&1073741824))return i=v!==null?v.baseLanes|u:u,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,Tt(ba,pn),pn|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=v!==null?v.baseLanes:u,Tt(ba,pn),pn|=d}else v!==null?(d=v.baseLanes|u,o.memoizedState=null):d=u,Tt(ba,pn),pn|=d;return Br(i,o,m,u),o.child}function I0(i,o){var u=o.ref;(i===null&&u!==null||i!==null&&i.ref!==u)&&(o.flags|=512,o.flags|=2097152)}function Uh(i,o,u,d,m){var v=Xr(u)?mo:Pr.current;return v=_a(o,v),Ra(o,m),u=kh(i,o,u,d,v,m),d=Oh(),i!==null&&!Zr?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,Ji(i,o,m)):(Dt&&d&&hh(o),o.flags|=1,Br(i,o,u,m),o.child)}function R0(i,o,u,d,m){if(Xr(u)){var v=!0;cc(o)}else v=!1;if(Ra(o,m),o.stateNode===null)Ac(i,o),h0(o,u,d),Vh(o,u,d,m),d=!0;else if(i===null){var S=o.stateNode,L=o.memoizedProps;S.props=L;var F=S.context,J=u.contextType;typeof J=="object"&&J!==null?J=An(J):(J=Xr(u)?mo:Pr.current,J=_a(o,J));var oe=u.getDerivedStateFromProps,ae=typeof oe=="function"||typeof S.getSnapshotBeforeUpdate=="function";ae||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(L!==d||F!==J)&&p0(o,S,d,J),Rs=!1;var se=o.memoizedState;S.state=se,_c(o,d,S,m),F=o.memoizedState,L!==d||se!==F||Jr.current||Rs?(typeof oe=="function"&&(Mh(o,u,oe,d),F=o.memoizedState),(L=Rs||d0(o,u,L,d,se,F,J))?(ae||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(o.flags|=4194308)):(typeof S.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=F),S.props=d,S.state=F,S.context=J,d=L):(typeof S.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{S=o.stateNode,Bw(i,o),L=o.memoizedProps,J=o.type===o.elementType?L:Jn(o.type,L),S.props=J,ae=o.pendingProps,se=S.context,F=u.contextType,typeof F=="object"&&F!==null?F=An(F):(F=Xr(u)?mo:Pr.current,F=_a(o,F));var ye=u.getDerivedStateFromProps;(oe=typeof ye=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(L!==ae||se!==F)&&p0(o,S,d,F),Rs=!1,se=o.memoizedState,S.state=se,_c(o,d,S,m);var Se=o.memoizedState;L!==ae||se!==Se||Jr.current||Rs?(typeof ye=="function"&&(Mh(o,u,ye,d),Se=o.memoizedState),(J=Rs||d0(o,u,J,d,se,Se,F)||!1)?(oe||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(d,Se,F),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(d,Se,F)),typeof S.componentDidUpdate=="function"&&(o.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof S.componentDidUpdate!="function"||L===i.memoizedProps&&se===i.memoizedState||(o.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||L===i.memoizedProps&&se===i.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=Se),S.props=d,S.state=Se,S.context=F,d=J):(typeof S.componentDidUpdate!="function"||L===i.memoizedProps&&se===i.memoizedState||(o.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||L===i.memoizedProps&&se===i.memoizedState||(o.flags|=1024),d=!1)}return Bh(i,o,u,d,v,m)}function Bh(i,o,u,d,m,v){I0(i,o);var S=(o.flags&128)!==0;if(!d&&!S)return m&&kw(o,u,!1),Ji(i,o,v);d=o.stateNode,Hb.current=o;var L=S&&typeof u.getDerivedStateFromError!="function"?null:d.render();return o.flags|=1,i!==null&&S?(o.child=Sa(o,i.child,null,v),o.child=Sa(o,null,L,v)):Br(i,o,L,v),o.memoizedState=d.state,m&&kw(o,u,!0),o.child}function P0(i){var o=i.stateNode;o.pendingContext?Aw(i,o.pendingContext,o.pendingContext!==o.context):o.context&&Aw(i,o.context,!1),Ih(i,o.containerInfo)}function C0(i,o,u,d,m){return Ta(),yh(m),o.flags|=256,Br(i,o,u,d),o.child}var zh={dehydrated:null,treeContext:null,retryLane:0};function qh(i){return{baseLanes:i,cachePool:null,transitions:null}}function A0(i,o,u){var d=o.pendingProps,m=Nt.current,v=!1,S=(o.flags&128)!==0,L;if((L=S)||(L=i!==null&&i.memoizedState===null?!1:(m&2)!==0),L?(v=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(m|=1),Tt(Nt,m&1),i===null)return gh(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(o.mode&1?i.data==="$!"?o.lanes=8:o.lanes=1073741824:o.lanes=1,null):(S=d.children,i=d.fallback,v?(d=o.mode,v=o.child,S={mode:"hidden",children:S},!(d&1)&&v!==null?(v.childLanes=0,v.pendingProps=S):v=Uc(S,d,0,null),i=Ro(i,d,u,null),v.return=o,i.return=o,v.sibling=i,o.child=v,o.child.memoizedState=qh(u),o.memoizedState=zh,i):$h(o,S));if(m=i.memoizedState,m!==null&&(L=m.dehydrated,L!==null))return Wb(i,o,S,d,L,m,u);if(v){v=d.fallback,S=o.mode,m=i.child,L=m.sibling;var F={mode:"hidden",children:d.children};return!(S&1)&&o.child!==m?(d=o.child,d.childLanes=0,d.pendingProps=F,o.deletions=null):(d=xs(m,F),d.subtreeFlags=m.subtreeFlags&14680064),L!==null?v=xs(L,v):(v=Ro(v,S,u,null),v.flags|=2),v.return=o,d.return=o,d.sibling=v,o.child=d,d=v,v=o.child,S=i.child.memoizedState,S=S===null?qh(u):{baseLanes:S.baseLanes|u,cachePool:null,transitions:S.transitions},v.memoizedState=S,v.childLanes=i.childLanes&~u,o.memoizedState=zh,d}return v=i.child,i=v.sibling,d=xs(v,{mode:"visible",children:d.children}),!(o.mode&1)&&(d.lanes=u),d.return=o,d.sibling=null,i!==null&&(u=o.deletions,u===null?(o.deletions=[i],o.flags|=16):u.push(i)),o.child=d,o.memoizedState=null,d}function $h(i,o){return o=Uc({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function Cc(i,o,u,d){return d!==null&&yh(d),Sa(o,i.child,null,u),i=$h(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function Wb(i,o,u,d,m,v,S){if(u)return o.flags&256?(o.flags&=-257,d=Fh(Error(t(422))),Cc(i,o,S,d)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(v=d.fallback,m=o.mode,d=Uc({mode:"visible",children:d.children},m,0,null),v=Ro(v,m,S,null),v.flags|=2,d.return=o,v.return=o,d.sibling=v,o.child=d,o.mode&1&&Sa(o,i.child,null,S),o.child.memoizedState=qh(S),o.memoizedState=zh,v);if(!(o.mode&1))return Cc(i,o,S,null);if(m.data==="$!"){if(d=m.nextSibling&&m.nextSibling.dataset,d)var L=d.dgst;return d=L,v=Error(t(419)),d=Fh(v,d,void 0),Cc(i,o,S,d)}if(L=(S&i.childLanes)!==0,Zr||L){if(d=or,d!==null){switch(S&-S){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=m&(d.suspendedLanes|S)?0:m,m!==0&&m!==v.retryLane&&(v.retryLane=m,Qi(i,m),ei(d,i,m,-1))}return op(),d=Fh(Error(t(421))),Cc(i,o,S,d)}return m.data==="$?"?(o.flags|=128,o.child=i.child,o=sk.bind(null,i),m._reactRetry=o,null):(i=v.treeContext,hn=Es(m.nextSibling),dn=o,Dt=!0,Yn=null,i!==null&&(Pn[Cn++]=Gi,Pn[Cn++]=Ki,Pn[Cn++]=go,Gi=i.id,Ki=i.overflow,go=o),o=$h(o,d.children),o.flags|=4096,o)}function b0(i,o,u){i.lanes|=o;var d=i.alternate;d!==null&&(d.lanes|=o),Eh(i.return,o,u)}function Hh(i,o,u,d,m){var v=i.memoizedState;v===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:u,tailMode:m}:(v.isBackwards=o,v.rendering=null,v.renderingStartTime=0,v.last=d,v.tail=u,v.tailMode=m)}function k0(i,o,u){var d=o.pendingProps,m=d.revealOrder,v=d.tail;if(Br(i,o,d.children,u),d=Nt.current,d&2)d=d&1|2,o.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&b0(i,u,o);else if(i.tag===19)b0(i,u,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}d&=1}if(Tt(Nt,d),!(o.mode&1))o.memoizedState=null;else switch(m){case"forwards":for(u=o.child,m=null;u!==null;)i=u.alternate,i!==null&&wc(i)===null&&(m=u),u=u.sibling;u=m,u===null?(m=o.child,o.child=null):(m=u.sibling,u.sibling=null),Hh(o,!1,m,u,v);break;case"backwards":for(u=null,m=o.child,o.child=null;m!==null;){if(i=m.alternate,i!==null&&wc(i)===null){o.child=m;break}i=m.sibling,m.sibling=u,u=m,m=i}Hh(o,!0,u,null,v);break;case"together":Hh(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Ac(i,o){!(o.mode&1)&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function Ji(i,o,u){if(i!==null&&(o.dependencies=i.dependencies),Eo|=o.lanes,!(u&o.childLanes))return null;if(i!==null&&o.child!==i.child)throw Error(t(153));if(o.child!==null){for(i=o.child,u=xs(i,i.pendingProps),o.child=u,u.return=o;i.sibling!==null;)i=i.sibling,u=u.sibling=xs(i,i.pendingProps),u.return=o;u.sibling=null}return o.child}function Gb(i,o,u){switch(o.tag){case 3:P0(o),Ta();break;case 5:$w(o);break;case 1:Xr(o.type)&&cc(o);break;case 4:Ih(o,o.stateNode.containerInfo);break;case 10:var d=o.type._context,m=o.memoizedProps.value;Tt(gc,d._currentValue),d._currentValue=m;break;case 13:if(d=o.memoizedState,d!==null)return d.dehydrated!==null?(Tt(Nt,Nt.current&1),o.flags|=128,null):u&o.child.childLanes?A0(i,o,u):(Tt(Nt,Nt.current&1),i=Ji(i,o,u),i!==null?i.sibling:null);Tt(Nt,Nt.current&1);break;case 19:if(d=(u&o.childLanes)!==0,i.flags&128){if(d)return k0(i,o,u);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Tt(Nt,Nt.current),d)break;return null;case 22:case 23:return o.lanes=0,S0(i,o,u)}return Ji(i,o,u)}var O0,Wh,x0,D0;O0=function(i,o){for(var u=o.child;u!==null;){if(u.tag===5||u.tag===6)i.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},Wh=function(){},x0=function(i,o,u,d){var m=i.memoizedProps;if(m!==d){i=o.stateNode,_o(Ti.current);var v=null;switch(u){case"input":m=Tn(i,m),d=Tn(i,d),v=[];break;case"select":m=de({},m,{value:void 0}),d=de({},d,{value:void 0}),v=[];break;case"textarea":m=Mr(i,m),d=Mr(i,d),v=[];break;default:typeof m.onClick!="function"&&typeof d.onClick=="function"&&(i.onclick=ac)}It(u,d);var S;u=null;for(J in m)if(!d.hasOwnProperty(J)&&m.hasOwnProperty(J)&&m[J]!=null)if(J==="style"){var L=m[J];for(S in L)L.hasOwnProperty(S)&&(u||(u={}),u[S]="")}else J!=="dangerouslySetInnerHTML"&&J!=="children"&&J!=="suppressContentEditableWarning"&&J!=="suppressHydrationWarning"&&J!=="autoFocus"&&(s.hasOwnProperty(J)?v||(v=[]):(v=v||[]).push(J,null));for(J in d){var F=d[J];if(L=m!=null?m[J]:void 0,d.hasOwnProperty(J)&&F!==L&&(F!=null||L!=null))if(J==="style")if(L){for(S in L)!L.hasOwnProperty(S)||F&&F.hasOwnProperty(S)||(u||(u={}),u[S]="");for(S in F)F.hasOwnProperty(S)&&L[S]!==F[S]&&(u||(u={}),u[S]=F[S])}else u||(v||(v=[]),v.push(J,u)),u=F;else J==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,L=L?L.__html:void 0,F!=null&&L!==F&&(v=v||[]).push(J,F)):J==="children"?typeof F!="string"&&typeof F!="number"||(v=v||[]).push(J,""+F):J!=="suppressContentEditableWarning"&&J!=="suppressHydrationWarning"&&(s.hasOwnProperty(J)?(F!=null&&J==="onScroll"&&Ct("scroll",i),v||L===F||(v=[])):(v=v||[]).push(J,F))}u&&(v=v||[]).push("style",u);var J=v;(o.updateQueue=J)&&(o.flags|=4)}},D0=function(i,o,u,d){u!==d&&(o.flags|=4)};function Lu(i,o){if(!Dt)switch(i.tailMode){case"hidden":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:d.sibling=null}}function Ar(i){var o=i.alternate!==null&&i.alternate.child===i.child,u=0,d=0;if(o)for(var m=i.child;m!==null;)u|=m.lanes|m.childLanes,d|=m.subtreeFlags&14680064,d|=m.flags&14680064,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)u|=m.lanes|m.childLanes,d|=m.subtreeFlags,d|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=d,i.childLanes=u,o}function Kb(i,o,u){var d=o.pendingProps;switch(ph(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ar(o),null;case 1:return Xr(o.type)&&lc(),Ar(o),null;case 3:return d=o.stateNode,Pa(),At(Jr),At(Pr),Ch(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(i===null||i.child===null)&&(pc(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&!(o.flags&256)||(o.flags|=1024,Yn!==null&&(np(Yn),Yn=null))),Wh(i,o),Ar(o),null;case 5:Rh(o);var m=_o(ku.current);if(u=o.type,i!==null&&o.stateNode!=null)x0(i,o,u,d,m),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!d){if(o.stateNode===null)throw Error(t(166));return Ar(o),null}if(i=_o(Ti.current),pc(o)){d=o.stateNode,u=o.type;var v=o.memoizedProps;switch(d[Ei]=o,d[Ru]=v,i=(o.mode&1)!==0,u){case"dialog":Ct("cancel",d),Ct("close",d);break;case"iframe":case"object":case"embed":Ct("load",d);break;case"video":case"audio":for(m=0;m<Tu.length;m++)Ct(Tu[m],d);break;case"source":Ct("error",d);break;case"img":case"image":case"link":Ct("error",d),Ct("load",d);break;case"details":Ct("toggle",d);break;case"input":di(d,v),Ct("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!v.multiple},Ct("invalid",d);break;case"textarea":an(d,v),Ct("invalid",d)}It(u,v),m=null;for(var S in v)if(v.hasOwnProperty(S)){var L=v[S];S==="children"?typeof L=="string"?d.textContent!==L&&(v.suppressHydrationWarning!==!0&&oc(d.textContent,L,i),m=["children",L]):typeof L=="number"&&d.textContent!==""+L&&(v.suppressHydrationWarning!==!0&&oc(d.textContent,L,i),m=["children",""+L]):s.hasOwnProperty(S)&&L!=null&&S==="onScroll"&&Ct("scroll",d)}switch(u){case"input":Tr(d),Sn(d,v,!0);break;case"textarea":Tr(d),nr(d);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(d.onclick=ac)}d=m,o.updateQueue=d,d!==null&&(o.flags|=4)}else{S=m.nodeType===9?m:m.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=ht(u)),i==="http://www.w3.org/1999/xhtml"?u==="script"?(i=S.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof d.is=="string"?i=S.createElement(u,{is:d.is}):(i=S.createElement(u),u==="select"&&(S=i,d.multiple?S.multiple=!0:d.size&&(S.size=d.size))):i=S.createElementNS(i,u),i[Ei]=o,i[Ru]=d,O0(i,o,!1,!1),o.stateNode=i;e:{switch(S=Fn(u,d),u){case"dialog":Ct("cancel",i),Ct("close",i),m=d;break;case"iframe":case"object":case"embed":Ct("load",i),m=d;break;case"video":case"audio":for(m=0;m<Tu.length;m++)Ct(Tu[m],i);m=d;break;case"source":Ct("error",i),m=d;break;case"img":case"image":case"link":Ct("error",i),Ct("load",i),m=d;break;case"details":Ct("toggle",i),m=d;break;case"input":di(i,d),m=Tn(i,d),Ct("invalid",i);break;case"option":m=d;break;case"select":i._wrapperState={wasMultiple:!!d.multiple},m=de({},d,{value:void 0}),Ct("invalid",i);break;case"textarea":an(i,d),m=Mr(i,d),Ct("invalid",i);break;default:m=d}It(u,m),L=m;for(v in L)if(L.hasOwnProperty(v)){var F=L[v];v==="style"?Ke(i,F):v==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,F!=null&&pi(i,F)):v==="children"?typeof F=="string"?(u!=="textarea"||F!=="")&&$t(i,F):typeof F=="number"&&$t(i,""+F):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(s.hasOwnProperty(v)?F!=null&&v==="onScroll"&&Ct("scroll",i):F!=null&&$(i,v,F,S))}switch(u){case"input":Tr(i),Sn(i,d,!1);break;case"textarea":Tr(i),nr(i);break;case"option":d.value!=null&&i.setAttribute("value",""+Ye(d.value));break;case"select":i.multiple=!!d.multiple,v=d.value,v!=null?qt(i,!!d.multiple,v,!1):d.defaultValue!=null&&qt(i,!!d.multiple,d.defaultValue,!0);break;default:typeof m.onClick=="function"&&(i.onclick=ac)}switch(u){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Ar(o),null;case 6:if(i&&o.stateNode!=null)D0(i,o,i.memoizedProps,d);else{if(typeof d!="string"&&o.stateNode===null)throw Error(t(166));if(u=_o(ku.current),_o(Ti.current),pc(o)){if(d=o.stateNode,u=o.memoizedProps,d[Ei]=o,(v=d.nodeValue!==u)&&(i=dn,i!==null))switch(i.tag){case 3:oc(d.nodeValue,u,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&oc(d.nodeValue,u,(i.mode&1)!==0)}v&&(o.flags|=4)}else d=(u.nodeType===9?u:u.ownerDocument).createTextNode(d),d[Ei]=o,o.stateNode=d}return Ar(o),null;case 13:if(At(Nt),d=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(Dt&&hn!==null&&o.mode&1&&!(o.flags&128))Mw(),Ta(),o.flags|=98560,v=!1;else if(v=pc(o),d!==null&&d.dehydrated!==null){if(i===null){if(!v)throw Error(t(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(t(317));v[Ei]=o}else Ta(),!(o.flags&128)&&(o.memoizedState=null),o.flags|=4;Ar(o),v=!1}else Yn!==null&&(np(Yn),Yn=null),v=!0;if(!v)return o.flags&65536?o:null}return o.flags&128?(o.lanes=u,o):(d=d!==null,d!==(i!==null&&i.memoizedState!==null)&&d&&(o.child.flags|=8192,o.mode&1&&(i===null||Nt.current&1?Zt===0&&(Zt=3):op())),o.updateQueue!==null&&(o.flags|=4),Ar(o),null);case 4:return Pa(),Wh(i,o),i===null&&Su(o.stateNode.containerInfo),Ar(o),null;case 10:return wh(o.type._context),Ar(o),null;case 17:return Xr(o.type)&&lc(),Ar(o),null;case 19:if(At(Nt),v=o.memoizedState,v===null)return Ar(o),null;if(d=(o.flags&128)!==0,S=v.rendering,S===null)if(d)Lu(v,!1);else{if(Zt!==0||i!==null&&i.flags&128)for(i=o.child;i!==null;){if(S=wc(i),S!==null){for(o.flags|=128,Lu(v,!1),d=S.updateQueue,d!==null&&(o.updateQueue=d,o.flags|=4),o.subtreeFlags=0,d=u,u=o.child;u!==null;)v=u,i=d,v.flags&=14680066,S=v.alternate,S===null?(v.childLanes=0,v.lanes=i,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=S.childLanes,v.lanes=S.lanes,v.child=S.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=S.memoizedProps,v.memoizedState=S.memoizedState,v.updateQueue=S.updateQueue,v.type=S.type,i=S.dependencies,v.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),u=u.sibling;return Tt(Nt,Nt.current&1|2),o.child}i=i.sibling}v.tail!==null&&gt()>ka&&(o.flags|=128,d=!0,Lu(v,!1),o.lanes=4194304)}else{if(!d)if(i=wc(S),i!==null){if(o.flags|=128,d=!0,u=i.updateQueue,u!==null&&(o.updateQueue=u,o.flags|=4),Lu(v,!0),v.tail===null&&v.tailMode==="hidden"&&!S.alternate&&!Dt)return Ar(o),null}else 2*gt()-v.renderingStartTime>ka&&u!==1073741824&&(o.flags|=128,d=!0,Lu(v,!1),o.lanes=4194304);v.isBackwards?(S.sibling=o.child,o.child=S):(u=v.last,u!==null?u.sibling=S:o.child=S,v.last=S)}return v.tail!==null?(o=v.tail,v.rendering=o,v.tail=o.sibling,v.renderingStartTime=gt(),o.sibling=null,u=Nt.current,Tt(Nt,d?u&1|2:u&1),o):(Ar(o),null);case 22:case 23:return sp(),d=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==d&&(o.flags|=8192),d&&o.mode&1?pn&1073741824&&(Ar(o),o.subtreeFlags&6&&(o.flags|=8192)):Ar(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function Qb(i,o){switch(ph(o),o.tag){case 1:return Xr(o.type)&&lc(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return Pa(),At(Jr),At(Pr),Ch(),i=o.flags,i&65536&&!(i&128)?(o.flags=i&-65537|128,o):null;case 5:return Rh(o),null;case 13:if(At(Nt),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(t(340));Ta()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return At(Nt),null;case 4:return Pa(),null;case 10:return wh(o.type._context),null;case 22:case 23:return sp(),null;case 24:return null;default:return null}}var bc=!1,br=!1,Yb=typeof WeakSet=="function"?WeakSet:Set,Ee=null;function Aa(i,o){var u=i.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(d){Ft(i,o,d)}else u.current=null}function Gh(i,o,u){try{u()}catch(d){Ft(i,o,d)}}var N0=!1;function Jb(i,o){if(sh=vs,i=dw(),Jd(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var d=u.getSelection&&u.getSelection();if(d&&d.rangeCount!==0){u=d.anchorNode;var m=d.anchorOffset,v=d.focusNode;d=d.focusOffset;try{u.nodeType,v.nodeType}catch{u=null;break e}var S=0,L=-1,F=-1,J=0,oe=0,ae=i,se=null;t:for(;;){for(var ye;ae!==u||m!==0&&ae.nodeType!==3||(L=S+m),ae!==v||d!==0&&ae.nodeType!==3||(F=S+d),ae.nodeType===3&&(S+=ae.nodeValue.length),(ye=ae.firstChild)!==null;)se=ae,ae=ye;for(;;){if(ae===i)break t;if(se===u&&++J===m&&(L=S),se===v&&++oe===d&&(F=S),(ye=ae.nextSibling)!==null)break;ae=se,se=ae.parentNode}ae=ye}u=L===-1||F===-1?null:{start:L,end:F}}else u=null}u=u||{start:0,end:0}}else u=null;for(oh={focusedElem:i,selectionRange:u},vs=!1,Ee=o;Ee!==null;)if(o=Ee,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,Ee=i;else for(;Ee!==null;){o=Ee;try{var Se=o.alternate;if(o.flags&1024)switch(o.tag){case 0:case 11:case 15:break;case 1:if(Se!==null){var Re=Se.memoizedProps,jt=Se.memoizedState,K=o.stateNode,q=K.getSnapshotBeforeUpdate(o.elementType===o.type?Re:Jn(o.type,Re),jt);K.__reactInternalSnapshotBeforeUpdate=q}break;case 3:var Q=o.stateNode.containerInfo;Q.nodeType===1?Q.textContent="":Q.nodeType===9&&Q.documentElement&&Q.removeChild(Q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(le){Ft(o,o.return,le)}if(i=o.sibling,i!==null){i.return=o.return,Ee=i;break}Ee=o.return}return Se=N0,N0=!1,Se}function Mu(i,o,u){var d=o.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var m=d=d.next;do{if((m.tag&i)===i){var v=m.destroy;m.destroy=void 0,v!==void 0&&Gh(o,u,v)}m=m.next}while(m!==d)}}function kc(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&i)===i){var d=u.create;u.destroy=d()}u=u.next}while(u!==o)}}function Kh(i){var o=i.ref;if(o!==null){var u=i.stateNode;switch(i.tag){case 5:i=u;break;default:i=u}typeof o=="function"?o(i):o.current=i}}function L0(i){var o=i.alternate;o!==null&&(i.alternate=null,L0(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[Ei],delete o[Ru],delete o[ch],delete o[Db],delete o[Nb])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function M0(i){return i.tag===5||i.tag===3||i.tag===4}function V0(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||M0(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Qh(i,o,u){var d=i.tag;if(d===5||d===6)i=i.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(i,o):u.insertBefore(i,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(i,u)):(o=u,o.appendChild(i)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=ac));else if(d!==4&&(i=i.child,i!==null))for(Qh(i,o,u),i=i.sibling;i!==null;)Qh(i,o,u),i=i.sibling}function Yh(i,o,u){var d=i.tag;if(d===5||d===6)i=i.stateNode,o?u.insertBefore(i,o):u.appendChild(i);else if(d!==4&&(i=i.child,i!==null))for(Yh(i,o,u),i=i.sibling;i!==null;)Yh(i,o,u),i=i.sibling}var pr=null,Xn=!1;function Cs(i,o,u){for(u=u.child;u!==null;)F0(i,o,u),u=u.sibling}function F0(i,o,u){if(Rr&&typeof Rr.onCommitFiberUnmount=="function")try{Rr.onCommitFiberUnmount(Kr,u)}catch{}switch(u.tag){case 5:br||Aa(u,o);case 6:var d=pr,m=Xn;pr=null,Cs(i,o,u),pr=d,Xn=m,pr!==null&&(Xn?(i=pr,u=u.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)):pr.removeChild(u.stateNode));break;case 18:pr!==null&&(Xn?(i=pr,u=u.stateNode,i.nodeType===8?lh(i.parentNode,u):i.nodeType===1&&lh(i,u),Gn(i)):lh(pr,u.stateNode));break;case 4:d=pr,m=Xn,pr=u.stateNode.containerInfo,Xn=!0,Cs(i,o,u),pr=d,Xn=m;break;case 0:case 11:case 14:case 15:if(!br&&(d=u.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){m=d=d.next;do{var v=m,S=v.destroy;v=v.tag,S!==void 0&&(v&2||v&4)&&Gh(u,o,S),m=m.next}while(m!==d)}Cs(i,o,u);break;case 1:if(!br&&(Aa(u,o),d=u.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=u.memoizedProps,d.state=u.memoizedState,d.componentWillUnmount()}catch(L){Ft(u,o,L)}Cs(i,o,u);break;case 21:Cs(i,o,u);break;case 22:u.mode&1?(br=(d=br)||u.memoizedState!==null,Cs(i,o,u),br=d):Cs(i,o,u);break;default:Cs(i,o,u)}}function j0(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var u=i.stateNode;u===null&&(u=i.stateNode=new Yb),o.forEach(function(d){var m=ok.bind(null,i,d);u.has(d)||(u.add(d),d.then(m,m))})}}function Zn(i,o){var u=o.deletions;if(u!==null)for(var d=0;d<u.length;d++){var m=u[d];try{var v=i,S=o,L=S;e:for(;L!==null;){switch(L.tag){case 5:pr=L.stateNode,Xn=!1;break e;case 3:pr=L.stateNode.containerInfo,Xn=!0;break e;case 4:pr=L.stateNode.containerInfo,Xn=!0;break e}L=L.return}if(pr===null)throw Error(t(160));F0(v,S,m),pr=null,Xn=!1;var F=m.alternate;F!==null&&(F.return=null),m.return=null}catch(J){Ft(m,o,J)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)U0(o,i),o=o.sibling}function U0(i,o){var u=i.alternate,d=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Zn(o,i),Ii(i),d&4){try{Mu(3,i,i.return),kc(3,i)}catch(Re){Ft(i,i.return,Re)}try{Mu(5,i,i.return)}catch(Re){Ft(i,i.return,Re)}}break;case 1:Zn(o,i),Ii(i),d&512&&u!==null&&Aa(u,u.return);break;case 5:if(Zn(o,i),Ii(i),d&512&&u!==null&&Aa(u,u.return),i.flags&32){var m=i.stateNode;try{$t(m,"")}catch(Re){Ft(i,i.return,Re)}}if(d&4&&(m=i.stateNode,m!=null)){var v=i.memoizedProps,S=u!==null?u.memoizedProps:v,L=i.type,F=i.updateQueue;if(i.updateQueue=null,F!==null)try{L==="input"&&v.type==="radio"&&v.name!=null&&Vn(m,v),Fn(L,S);var J=Fn(L,v);for(S=0;S<F.length;S+=2){var oe=F[S],ae=F[S+1];oe==="style"?Ke(m,ae):oe==="dangerouslySetInnerHTML"?pi(m,ae):oe==="children"?$t(m,ae):$(m,oe,ae,J)}switch(L){case"input":lr(m,v);break;case"textarea":Vr(m,v);break;case"select":var se=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!v.multiple;var ye=v.value;ye!=null?qt(m,!!v.multiple,ye,!1):se!==!!v.multiple&&(v.defaultValue!=null?qt(m,!!v.multiple,v.defaultValue,!0):qt(m,!!v.multiple,v.multiple?[]:"",!1))}m[Ru]=v}catch(Re){Ft(i,i.return,Re)}}break;case 6:if(Zn(o,i),Ii(i),d&4){if(i.stateNode===null)throw Error(t(162));m=i.stateNode,v=i.memoizedProps;try{m.nodeValue=v}catch(Re){Ft(i,i.return,Re)}}break;case 3:if(Zn(o,i),Ii(i),d&4&&u!==null&&u.memoizedState.isDehydrated)try{Gn(o.containerInfo)}catch(Re){Ft(i,i.return,Re)}break;case 4:Zn(o,i),Ii(i);break;case 13:Zn(o,i),Ii(i),m=i.child,m.flags&8192&&(v=m.memoizedState!==null,m.stateNode.isHidden=v,!v||m.alternate!==null&&m.alternate.memoizedState!==null||(Zh=gt())),d&4&&j0(i);break;case 22:if(oe=u!==null&&u.memoizedState!==null,i.mode&1?(br=(J=br)||oe,Zn(o,i),br=J):Zn(o,i),Ii(i),d&8192){if(J=i.memoizedState!==null,(i.stateNode.isHidden=J)&&!oe&&i.mode&1)for(Ee=i,oe=i.child;oe!==null;){for(ae=Ee=oe;Ee!==null;){switch(se=Ee,ye=se.child,se.tag){case 0:case 11:case 14:case 15:Mu(4,se,se.return);break;case 1:Aa(se,se.return);var Se=se.stateNode;if(typeof Se.componentWillUnmount=="function"){d=se,u=se.return;try{o=d,Se.props=o.memoizedProps,Se.state=o.memoizedState,Se.componentWillUnmount()}catch(Re){Ft(d,u,Re)}}break;case 5:Aa(se,se.return);break;case 22:if(se.memoizedState!==null){q0(ae);continue}}ye!==null?(ye.return=se,Ee=ye):q0(ae)}oe=oe.sibling}e:for(oe=null,ae=i;;){if(ae.tag===5){if(oe===null){oe=ae;try{m=ae.stateNode,J?(v=m.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(L=ae.stateNode,F=ae.memoizedProps.style,S=F!=null&&F.hasOwnProperty("display")?F.display:null,L.style.display=$e("display",S))}catch(Re){Ft(i,i.return,Re)}}}else if(ae.tag===6){if(oe===null)try{ae.stateNode.nodeValue=J?"":ae.memoizedProps}catch(Re){Ft(i,i.return,Re)}}else if((ae.tag!==22&&ae.tag!==23||ae.memoizedState===null||ae===i)&&ae.child!==null){ae.child.return=ae,ae=ae.child;continue}if(ae===i)break e;for(;ae.sibling===null;){if(ae.return===null||ae.return===i)break e;oe===ae&&(oe=null),ae=ae.return}oe===ae&&(oe=null),ae.sibling.return=ae.return,ae=ae.sibling}}break;case 19:Zn(o,i),Ii(i),d&4&&j0(i);break;case 21:break;default:Zn(o,i),Ii(i)}}function Ii(i){var o=i.flags;if(o&2){try{e:{for(var u=i.return;u!==null;){if(M0(u)){var d=u;break e}u=u.return}throw Error(t(160))}switch(d.tag){case 5:var m=d.stateNode;d.flags&32&&($t(m,""),d.flags&=-33);var v=V0(i);Yh(i,v,m);break;case 3:case 4:var S=d.stateNode.containerInfo,L=V0(i);Qh(i,L,S);break;default:throw Error(t(161))}}catch(F){Ft(i,i.return,F)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function Xb(i,o,u){Ee=i,B0(i)}function B0(i,o,u){for(var d=(i.mode&1)!==0;Ee!==null;){var m=Ee,v=m.child;if(m.tag===22&&d){var S=m.memoizedState!==null||bc;if(!S){var L=m.alternate,F=L!==null&&L.memoizedState!==null||br;L=bc;var J=br;if(bc=S,(br=F)&&!J)for(Ee=m;Ee!==null;)S=Ee,F=S.child,S.tag===22&&S.memoizedState!==null?$0(m):F!==null?(F.return=S,Ee=F):$0(m);for(;v!==null;)Ee=v,B0(v),v=v.sibling;Ee=m,bc=L,br=J}z0(i)}else m.subtreeFlags&8772&&v!==null?(v.return=m,Ee=v):z0(i)}}function z0(i){for(;Ee!==null;){var o=Ee;if(o.flags&8772){var u=o.alternate;try{if(o.flags&8772)switch(o.tag){case 0:case 11:case 15:br||kc(5,o);break;case 1:var d=o.stateNode;if(o.flags&4&&!br)if(u===null)d.componentDidMount();else{var m=o.elementType===o.type?u.memoizedProps:Jn(o.type,u.memoizedProps);d.componentDidUpdate(m,u.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var v=o.updateQueue;v!==null&&qw(o,v,d);break;case 3:var S=o.updateQueue;if(S!==null){if(u=null,o.child!==null)switch(o.child.tag){case 5:u=o.child.stateNode;break;case 1:u=o.child.stateNode}qw(o,S,u)}break;case 5:var L=o.stateNode;if(u===null&&o.flags&4){u=L;var F=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":F.autoFocus&&u.focus();break;case"img":F.src&&(u.src=F.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var J=o.alternate;if(J!==null){var oe=J.memoizedState;if(oe!==null){var ae=oe.dehydrated;ae!==null&&Gn(ae)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}br||o.flags&512&&Kh(o)}catch(se){Ft(o,o.return,se)}}if(o===i){Ee=null;break}if(u=o.sibling,u!==null){u.return=o.return,Ee=u;break}Ee=o.return}}function q0(i){for(;Ee!==null;){var o=Ee;if(o===i){Ee=null;break}var u=o.sibling;if(u!==null){u.return=o.return,Ee=u;break}Ee=o.return}}function $0(i){for(;Ee!==null;){var o=Ee;try{switch(o.tag){case 0:case 11:case 15:var u=o.return;try{kc(4,o)}catch(F){Ft(o,u,F)}break;case 1:var d=o.stateNode;if(typeof d.componentDidMount=="function"){var m=o.return;try{d.componentDidMount()}catch(F){Ft(o,m,F)}}var v=o.return;try{Kh(o)}catch(F){Ft(o,v,F)}break;case 5:var S=o.return;try{Kh(o)}catch(F){Ft(o,S,F)}}}catch(F){Ft(o,o.return,F)}if(o===i){Ee=null;break}var L=o.sibling;if(L!==null){L.return=o.return,Ee=L;break}Ee=o.return}}var Zb=Math.ceil,Oc=M.ReactCurrentDispatcher,Jh=M.ReactCurrentOwner,kn=M.ReactCurrentBatchConfig,ct=0,or=null,Wt=null,mr=0,pn=0,ba=Ts(0),Zt=0,Vu=null,Eo=0,xc=0,Xh=0,Fu=null,en=null,Zh=0,ka=1/0,Xi=null,Dc=!1,ep=null,As=null,Nc=!1,bs=null,Lc=0,ju=0,tp=null,Mc=-1,Vc=0;function zr(){return ct&6?gt():Mc!==-1?Mc:Mc=gt()}function ks(i){return i.mode&1?ct&2&&mr!==0?mr&-mr:Mb.transition!==null?(Vc===0&&(Vc=uo()),Vc):(i=rt,i!==0||(i=window.event,i=i===void 0?16:hu(i.type)),i):1}function ei(i,o,u,d){if(50<ju)throw ju=0,tp=null,Error(t(185));ps(i,u,d),(!(ct&2)||i!==or)&&(i===or&&(!(ct&2)&&(xc|=u),Zt===4&&Os(i,mr)),tn(i,d),u===1&&ct===0&&!(o.mode&1)&&(ka=gt()+500,fc&&Is()))}function tn(i,o){var u=i.callbackNode;Ui(i,o);var d=ao(i,i===or?mr:0);if(d===0)u!==null&&Fi(u),i.callbackNode=null,i.callbackPriority=0;else if(o=d&-d,i.callbackPriority!==o){if(u!=null&&Fi(u),o===1)i.tag===0?Lb(W0.bind(null,i)):Ow(W0.bind(null,i)),Ob(function(){!(ct&6)&&Is()}),u=null;else{switch(gs(d)){case 1:u=ot;break;case 4:u=Rt;break;case 16:u=fr;break;case 536870912:u=Pt;break;default:u=fr}u=e1(u,H0.bind(null,i))}i.callbackPriority=o,i.callbackNode=u}}function H0(i,o){if(Mc=-1,Vc=0,ct&6)throw Error(t(327));var u=i.callbackNode;if(Oa()&&i.callbackNode!==u)return null;var d=ao(i,i===or?mr:0);if(d===0)return null;if(d&30||d&i.expiredLanes||o)o=Fc(i,d);else{o=d;var m=ct;ct|=2;var v=K0();(or!==i||mr!==o)&&(Xi=null,ka=gt()+500,So(i,o));do try{rk();break}catch(L){G0(i,L)}while(!0);_h(),Oc.current=v,ct=m,Wt!==null?o=0:(or=null,mr=0,o=Zt)}if(o!==0){if(o===2&&(m=ln(i),m!==0&&(d=m,o=rp(i,m))),o===1)throw u=Vu,So(i,0),Os(i,d),tn(i,gt()),u;if(o===6)Os(i,d);else{if(m=i.current.alternate,!(d&30)&&!ek(m)&&(o=Fc(i,d),o===2&&(v=ln(i),v!==0&&(d=v,o=rp(i,v))),o===1))throw u=Vu,So(i,0),Os(i,d),tn(i,gt()),u;switch(i.finishedWork=m,i.finishedLanes=d,o){case 0:case 1:throw Error(t(345));case 2:Io(i,en,Xi);break;case 3:if(Os(i,d),(d&130023424)===d&&(o=Zh+500-gt(),10<o)){if(ao(i,0)!==0)break;if(m=i.suspendedLanes,(m&d)!==d){zr(),i.pingedLanes|=i.suspendedLanes&m;break}i.timeoutHandle=uh(Io.bind(null,i,en,Xi),o);break}Io(i,en,Xi);break;case 4:if(Os(i,d),(d&4194240)===d)break;for(o=i.eventTimes,m=-1;0<d;){var S=31-jr(d);v=1<<S,S=o[S],S>m&&(m=S),d&=~v}if(d=m,d=gt()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*Zb(d/1960))-d,10<d){i.timeoutHandle=uh(Io.bind(null,i,en,Xi),d);break}Io(i,en,Xi);break;case 5:Io(i,en,Xi);break;default:throw Error(t(329))}}}return tn(i,gt()),i.callbackNode===u?H0.bind(null,i):null}function rp(i,o){var u=Fu;return i.current.memoizedState.isDehydrated&&(So(i,o).flags|=256),i=Fc(i,o),i!==2&&(o=en,en=u,o!==null&&np(o)),i}function np(i){en===null?en=i:en.push.apply(en,i)}function ek(i){for(var o=i;;){if(o.flags&16384){var u=o.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var d=0;d<u.length;d++){var m=u[d],v=m.getSnapshot;m=m.value;try{if(!Qn(v(),m))return!1}catch{return!1}}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Os(i,o){for(o&=~Xh,o&=~xc,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var u=31-jr(o),d=1<<u;i[u]=-1,o&=~d}}function W0(i){if(ct&6)throw Error(t(327));Oa();var o=ao(i,0);if(!(o&1))return tn(i,gt()),null;var u=Fc(i,o);if(i.tag!==0&&u===2){var d=ln(i);d!==0&&(o=d,u=rp(i,d))}if(u===1)throw u=Vu,So(i,0),Os(i,o),tn(i,gt()),u;if(u===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,Io(i,en,Xi),tn(i,gt()),null}function ip(i,o){var u=ct;ct|=1;try{return i(o)}finally{ct=u,ct===0&&(ka=gt()+500,fc&&Is())}}function To(i){bs!==null&&bs.tag===0&&!(ct&6)&&Oa();var o=ct;ct|=1;var u=kn.transition,d=rt;try{if(kn.transition=null,rt=1,i)return i()}finally{rt=d,kn.transition=u,ct=o,!(ct&6)&&Is()}}function sp(){pn=ba.current,At(ba)}function So(i,o){i.finishedWork=null,i.finishedLanes=0;var u=i.timeoutHandle;if(u!==-1&&(i.timeoutHandle=-1,kb(u)),Wt!==null)for(u=Wt.return;u!==null;){var d=u;switch(ph(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&lc();break;case 3:Pa(),At(Jr),At(Pr),Ch();break;case 5:Rh(d);break;case 4:Pa();break;case 13:At(Nt);break;case 19:At(Nt);break;case 10:wh(d.type._context);break;case 22:case 23:sp()}u=u.return}if(or=i,Wt=i=xs(i.current,null),mr=pn=o,Zt=0,Vu=null,Xh=xc=Eo=0,en=Fu=null,vo!==null){for(o=0;o<vo.length;o++)if(u=vo[o],d=u.interleaved,d!==null){u.interleaved=null;var m=d.next,v=u.pending;if(v!==null){var S=v.next;v.next=m,d.next=S}u.pending=d}vo=null}return i}function G0(i,o){do{var u=Wt;try{if(_h(),Ec.current=Rc,Tc){for(var d=Lt.memoizedState;d!==null;){var m=d.queue;m!==null&&(m.pending=null),d=d.next}Tc=!1}if(wo=0,sr=Xt=Lt=null,Ou=!1,xu=0,Jh.current=null,u===null||u.return===null){Zt=1,Vu=o,Wt=null;break}e:{var v=i,S=u.return,L=u,F=o;if(o=mr,L.flags|=32768,F!==null&&typeof F=="object"&&typeof F.then=="function"){var J=F,oe=L,ae=oe.tag;if(!(oe.mode&1)&&(ae===0||ae===11||ae===15)){var se=oe.alternate;se?(oe.updateQueue=se.updateQueue,oe.memoizedState=se.memoizedState,oe.lanes=se.lanes):(oe.updateQueue=null,oe.memoizedState=null)}var ye=v0(S);if(ye!==null){ye.flags&=-257,_0(ye,S,L,v,o),ye.mode&1&&y0(v,J,o),o=ye,F=J;var Se=o.updateQueue;if(Se===null){var Re=new Set;Re.add(F),o.updateQueue=Re}else Se.add(F);break e}else{if(!(o&1)){y0(v,J,o),op();break e}F=Error(t(426))}}else if(Dt&&L.mode&1){var jt=v0(S);if(jt!==null){!(jt.flags&65536)&&(jt.flags|=256),_0(jt,S,L,v,o),yh(Ca(F,L));break e}}v=F=Ca(F,L),Zt!==4&&(Zt=2),Fu===null?Fu=[v]:Fu.push(v),v=S;do{switch(v.tag){case 3:v.flags|=65536,o&=-o,v.lanes|=o;var K=m0(v,F,o);zw(v,K);break e;case 1:L=F;var q=v.type,Q=v.stateNode;if(!(v.flags&128)&&(typeof q.getDerivedStateFromError=="function"||Q!==null&&typeof Q.componentDidCatch=="function"&&(As===null||!As.has(Q)))){v.flags|=65536,o&=-o,v.lanes|=o;var le=g0(v,L,o);zw(v,le);break e}}v=v.return}while(v!==null)}Y0(u)}catch(Pe){o=Pe,Wt===u&&u!==null&&(Wt=u=u.return);continue}break}while(!0)}function K0(){var i=Oc.current;return Oc.current=Rc,i===null?Rc:i}function op(){(Zt===0||Zt===3||Zt===2)&&(Zt=4),or===null||!(Eo&268435455)&&!(xc&268435455)||Os(or,mr)}function Fc(i,o){var u=ct;ct|=2;var d=K0();(or!==i||mr!==o)&&(Xi=null,So(i,o));do try{tk();break}catch(m){G0(i,m)}while(!0);if(_h(),ct=u,Oc.current=d,Wt!==null)throw Error(t(261));return or=null,mr=0,Zt}function tk(){for(;Wt!==null;)Q0(Wt)}function rk(){for(;Wt!==null&&!mi();)Q0(Wt)}function Q0(i){var o=Z0(i.alternate,i,pn);i.memoizedProps=i.pendingProps,o===null?Y0(i):Wt=o,Jh.current=null}function Y0(i){var o=i;do{var u=o.alternate;if(i=o.return,o.flags&32768){if(u=Qb(u,o),u!==null){u.flags&=32767,Wt=u;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Zt=6,Wt=null;return}}else if(u=Kb(u,o,pn),u!==null){Wt=u;return}if(o=o.sibling,o!==null){Wt=o;return}Wt=o=i}while(o!==null);Zt===0&&(Zt=5)}function Io(i,o,u){var d=rt,m=kn.transition;try{kn.transition=null,rt=1,nk(i,o,u,d)}finally{kn.transition=m,rt=d}return null}function nk(i,o,u,d){do Oa();while(bs!==null);if(ct&6)throw Error(t(327));u=i.finishedWork;var m=i.finishedLanes;if(u===null)return null;if(i.finishedWork=null,i.finishedLanes=0,u===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var v=u.lanes|u.childLanes;if(wt(i,v),i===or&&(Wt=or=null,mr=0),!(u.subtreeFlags&2064)&&!(u.flags&2064)||Nc||(Nc=!0,e1(fr,function(){return Oa(),null})),v=(u.flags&15990)!==0,u.subtreeFlags&15990||v){v=kn.transition,kn.transition=null;var S=rt;rt=1;var L=ct;ct|=4,Jh.current=null,Jb(i,u),U0(u,i),Sb(oh),vs=!!sh,oh=sh=null,i.current=u,Xb(u),zn(),ct=L,rt=S,kn.transition=v}else i.current=u;if(Nc&&(Nc=!1,bs=i,Lc=m),v=i.pendingLanes,v===0&&(As=null),Xo(u.stateNode),tn(i,gt()),o!==null)for(d=i.onRecoverableError,u=0;u<o.length;u++)m=o[u],d(m.value,{componentStack:m.stack,digest:m.digest});if(Dc)throw Dc=!1,i=ep,ep=null,i;return Lc&1&&i.tag!==0&&Oa(),v=i.pendingLanes,v&1?i===tp?ju++:(ju=0,tp=i):ju=0,Is(),null}function Oa(){if(bs!==null){var i=gs(Lc),o=kn.transition,u=rt;try{if(kn.transition=null,rt=16>i?16:i,bs===null)var d=!1;else{if(i=bs,bs=null,Lc=0,ct&6)throw Error(t(331));var m=ct;for(ct|=4,Ee=i.current;Ee!==null;){var v=Ee,S=v.child;if(Ee.flags&16){var L=v.deletions;if(L!==null){for(var F=0;F<L.length;F++){var J=L[F];for(Ee=J;Ee!==null;){var oe=Ee;switch(oe.tag){case 0:case 11:case 15:Mu(8,oe,v)}var ae=oe.child;if(ae!==null)ae.return=oe,Ee=ae;else for(;Ee!==null;){oe=Ee;var se=oe.sibling,ye=oe.return;if(L0(oe),oe===J){Ee=null;break}if(se!==null){se.return=ye,Ee=se;break}Ee=ye}}}var Se=v.alternate;if(Se!==null){var Re=Se.child;if(Re!==null){Se.child=null;do{var jt=Re.sibling;Re.sibling=null,Re=jt}while(Re!==null)}}Ee=v}}if(v.subtreeFlags&2064&&S!==null)S.return=v,Ee=S;else e:for(;Ee!==null;){if(v=Ee,v.flags&2048)switch(v.tag){case 0:case 11:case 15:Mu(9,v,v.return)}var K=v.sibling;if(K!==null){K.return=v.return,Ee=K;break e}Ee=v.return}}var q=i.current;for(Ee=q;Ee!==null;){S=Ee;var Q=S.child;if(S.subtreeFlags&2064&&Q!==null)Q.return=S,Ee=Q;else e:for(S=q;Ee!==null;){if(L=Ee,L.flags&2048)try{switch(L.tag){case 0:case 11:case 15:kc(9,L)}}catch(Pe){Ft(L,L.return,Pe)}if(L===S){Ee=null;break e}var le=L.sibling;if(le!==null){le.return=L.return,Ee=le;break e}Ee=L.return}}if(ct=m,Is(),Rr&&typeof Rr.onPostCommitFiberRoot=="function")try{Rr.onPostCommitFiberRoot(Kr,i)}catch{}d=!0}return d}finally{rt=u,kn.transition=o}}return!1}function J0(i,o,u){o=Ca(u,o),o=m0(i,o,1),i=Ps(i,o,1),o=zr(),i!==null&&(ps(i,1,o),tn(i,o))}function Ft(i,o,u){if(i.tag===3)J0(i,i,u);else for(;o!==null;){if(o.tag===3){J0(o,i,u);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(As===null||!As.has(d))){i=Ca(u,i),i=g0(o,i,1),o=Ps(o,i,1),i=zr(),o!==null&&(ps(o,1,i),tn(o,i));break}}o=o.return}}function ik(i,o,u){var d=i.pingCache;d!==null&&d.delete(o),o=zr(),i.pingedLanes|=i.suspendedLanes&u,or===i&&(mr&u)===u&&(Zt===4||Zt===3&&(mr&130023424)===mr&&500>gt()-Zh?So(i,0):Xh|=u),tn(i,o)}function X0(i,o){o===0&&(i.mode&1?(o=ea,ea<<=1,!(ea&130023424)&&(ea=4194304)):o=1);var u=zr();i=Qi(i,o),i!==null&&(ps(i,o,u),tn(i,u))}function sk(i){var o=i.memoizedState,u=0;o!==null&&(u=o.retryLane),X0(i,u)}function ok(i,o){var u=0;switch(i.tag){case 13:var d=i.stateNode,m=i.memoizedState;m!==null&&(u=m.retryLane);break;case 19:d=i.stateNode;break;default:throw Error(t(314))}d!==null&&d.delete(o),X0(i,u)}var Z0;Z0=function(i,o,u){if(i!==null)if(i.memoizedProps!==o.pendingProps||Jr.current)Zr=!0;else{if(!(i.lanes&u)&&!(o.flags&128))return Zr=!1,Gb(i,o,u);Zr=!!(i.flags&131072)}else Zr=!1,Dt&&o.flags&1048576&&xw(o,hc,o.index);switch(o.lanes=0,o.tag){case 2:var d=o.type;Ac(i,o),i=o.pendingProps;var m=_a(o,Pr.current);Ra(o,u),m=kh(null,o,d,i,m,u);var v=Oh();return o.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Xr(d)?(v=!0,cc(o)):v=!1,o.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,Sh(o),m.updater=Pc,o.stateNode=m,m._reactInternals=o,Vh(o,d,i,u),o=Bh(null,o,d,!0,v,u)):(o.tag=0,Dt&&v&&hh(o),Br(null,o,m,u),o=o.child),o;case 16:d=o.elementType;e:{switch(Ac(i,o),i=o.pendingProps,m=d._init,d=m(d._payload),o.type=d,m=o.tag=uk(d),i=Jn(d,i),m){case 0:o=Uh(null,o,d,i,u);break e;case 1:o=R0(null,o,d,i,u);break e;case 11:o=w0(null,o,d,i,u);break e;case 14:o=E0(null,o,d,Jn(d.type,i),u);break e}throw Error(t(306,d,""))}return o;case 0:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:Jn(d,m),Uh(i,o,d,m,u);case 1:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:Jn(d,m),R0(i,o,d,m,u);case 3:e:{if(P0(o),i===null)throw Error(t(387));d=o.pendingProps,v=o.memoizedState,m=v.element,Bw(i,o),_c(o,d,null,u);var S=o.memoizedState;if(d=S.element,v.isDehydrated)if(v={element:d,isDehydrated:!1,cache:S.cache,pendingSuspenseBoundaries:S.pendingSuspenseBoundaries,transitions:S.transitions},o.updateQueue.baseState=v,o.memoizedState=v,o.flags&256){m=Ca(Error(t(423)),o),o=C0(i,o,d,u,m);break e}else if(d!==m){m=Ca(Error(t(424)),o),o=C0(i,o,d,u,m);break e}else for(hn=Es(o.stateNode.containerInfo.firstChild),dn=o,Dt=!0,Yn=null,u=jw(o,null,d,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Ta(),d===m){o=Ji(i,o,u);break e}Br(i,o,d,u)}o=o.child}return o;case 5:return $w(o),i===null&&gh(o),d=o.type,m=o.pendingProps,v=i!==null?i.memoizedProps:null,S=m.children,ah(d,m)?S=null:v!==null&&ah(d,v)&&(o.flags|=32),I0(i,o),Br(i,o,S,u),o.child;case 6:return i===null&&gh(o),null;case 13:return A0(i,o,u);case 4:return Ih(o,o.stateNode.containerInfo),d=o.pendingProps,i===null?o.child=Sa(o,null,d,u):Br(i,o,d,u),o.child;case 11:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:Jn(d,m),w0(i,o,d,m,u);case 7:return Br(i,o,o.pendingProps,u),o.child;case 8:return Br(i,o,o.pendingProps.children,u),o.child;case 12:return Br(i,o,o.pendingProps.children,u),o.child;case 10:e:{if(d=o.type._context,m=o.pendingProps,v=o.memoizedProps,S=m.value,Tt(gc,d._currentValue),d._currentValue=S,v!==null)if(Qn(v.value,S)){if(v.children===m.children&&!Jr.current){o=Ji(i,o,u);break e}}else for(v=o.child,v!==null&&(v.return=o);v!==null;){var L=v.dependencies;if(L!==null){S=v.child;for(var F=L.firstContext;F!==null;){if(F.context===d){if(v.tag===1){F=Yi(-1,u&-u),F.tag=2;var J=v.updateQueue;if(J!==null){J=J.shared;var oe=J.pending;oe===null?F.next=F:(F.next=oe.next,oe.next=F),J.pending=F}}v.lanes|=u,F=v.alternate,F!==null&&(F.lanes|=u),Eh(v.return,u,o),L.lanes|=u;break}F=F.next}}else if(v.tag===10)S=v.type===o.type?null:v.child;else if(v.tag===18){if(S=v.return,S===null)throw Error(t(341));S.lanes|=u,L=S.alternate,L!==null&&(L.lanes|=u),Eh(S,u,o),S=v.sibling}else S=v.child;if(S!==null)S.return=v;else for(S=v;S!==null;){if(S===o){S=null;break}if(v=S.sibling,v!==null){v.return=S.return,S=v;break}S=S.return}v=S}Br(i,o,m.children,u),o=o.child}return o;case 9:return m=o.type,d=o.pendingProps.children,Ra(o,u),m=An(m),d=d(m),o.flags|=1,Br(i,o,d,u),o.child;case 14:return d=o.type,m=Jn(d,o.pendingProps),m=Jn(d.type,m),E0(i,o,d,m,u);case 15:return T0(i,o,o.type,o.pendingProps,u);case 17:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:Jn(d,m),Ac(i,o),o.tag=1,Xr(d)?(i=!0,cc(o)):i=!1,Ra(o,u),h0(o,d,m),Vh(o,d,m,u),Bh(null,o,d,!0,i,u);case 19:return k0(i,o,u);case 22:return S0(i,o,u)}throw Error(t(156,o.tag))};function e1(i,o){return cr(i,o)}function ak(i,o,u,d){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function On(i,o,u,d){return new ak(i,o,u,d)}function ap(i){return i=i.prototype,!(!i||!i.isReactComponent)}function uk(i){if(typeof i=="function")return ap(i)?1:0;if(i!=null){if(i=i.$$typeof,i===B)return 11;if(i===We)return 14}return 2}function xs(i,o){var u=i.alternate;return u===null?(u=On(i.tag,o,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=o,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&14680064,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,o=i.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u}function jc(i,o,u,d,m,v){var S=2;if(d=i,typeof i=="function")ap(i)&&(S=1);else if(typeof i=="string")S=5;else e:switch(i){case k:return Ro(u.children,m,v,o);case R:S=8,m|=8;break;case b:return i=On(12,u,o,m|2),i.elementType=b,i.lanes=v,i;case D:return i=On(13,u,o,m),i.elementType=D,i.lanes=v,i;case qe:return i=On(19,u,o,m),i.elementType=qe,i.lanes=v,i;case Qe:return Uc(u,m,v,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case N:S=10;break e;case V:S=9;break e;case B:S=11;break e;case We:S=14;break e;case St:S=16,d=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return o=On(S,u,o,m),o.elementType=i,o.type=d,o.lanes=v,o}function Ro(i,o,u,d){return i=On(7,i,d,o),i.lanes=u,i}function Uc(i,o,u,d){return i=On(22,i,d,o),i.elementType=Qe,i.lanes=u,i.stateNode={isHidden:!1},i}function up(i,o,u){return i=On(6,i,null,o),i.lanes=u,i}function lp(i,o,u){return o=On(4,i.children!==null?i.children:[],i.key,o),o.lanes=u,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function lk(i,o,u,d,m){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=hs(0),this.expirationTimes=hs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hs(0),this.identifierPrefix=d,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function cp(i,o,u,d,m,v,S,L,F){return i=new lk(i,o,u,L,F),o===1?(o=1,v===!0&&(o|=8)):o=0,v=On(3,null,null,o),i.current=v,v.stateNode=i,v.memoizedState={element:d,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Sh(v),i}function ck(i,o,u){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:H,key:d==null?null:""+d,children:i,containerInfo:o,implementation:u}}function t1(i){if(!i)return Ss;i=i._reactInternals;e:{if(tt(i)!==i||i.tag!==1)throw Error(t(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(Xr(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(i.tag===1){var u=i.type;if(Xr(u))return bw(i,u,o)}return o}function r1(i,o,u,d,m,v,S,L,F){return i=cp(u,d,!0,i,m,v,S,L,F),i.context=t1(null),u=i.current,d=zr(),m=ks(u),v=Yi(d,m),v.callback=o??null,Ps(u,v,m),i.current.lanes=m,ps(i,m,d),tn(i,d),i}function Bc(i,o,u,d){var m=o.current,v=zr(),S=ks(m);return u=t1(u),o.context===null?o.context=u:o.pendingContext=u,o=Yi(v,S),o.payload={element:i},d=d===void 0?null:d,d!==null&&(o.callback=d),i=Ps(m,o,S),i!==null&&(ei(i,m,S,v),vc(i,m,S)),S}function zc(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function n1(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<o?u:o}}function fp(i,o){n1(i,o),(i=i.alternate)&&n1(i,o)}var i1=typeof reportError=="function"?reportError:function(i){console.error(i)};function dp(i){this._internalRoot=i}qc.prototype.render=dp.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(t(409));Bc(i,o,null,null)},qc.prototype.unmount=dp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;To(function(){Bc(null,i,null,null)}),o[Hi]=null}};function qc(i){this._internalRoot=i}qc.prototype.unstable_scheduleHydration=function(i){if(i){var o=ql();i={blockedOn:null,target:i,priority:o};for(var u=0;u<yi.length&&o!==0&&o<yi[u].priority;u++);yi.splice(u,0,i),u===0&&Wl(i)}};function hp(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function $c(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function s1(){}function fk(i,o,u,d,m){if(m){if(typeof d=="function"){var v=d;d=function(){var J=zc(S);v.call(J)}}var S=r1(o,d,i,0,null,!1,!1,"",s1);return i._reactRootContainer=S,i[Hi]=S.current,Su(i.nodeType===8?i.parentNode:i),To(),S}for(;m=i.lastChild;)i.removeChild(m);if(typeof d=="function"){var L=d;d=function(){var J=zc(F);L.call(J)}}var F=cp(i,0,!1,null,null,!1,!1,"",s1);return i._reactRootContainer=F,i[Hi]=F.current,Su(i.nodeType===8?i.parentNode:i),To(function(){Bc(o,F,u,d)}),F}function Hc(i,o,u,d,m){var v=u._reactRootContainer;if(v){var S=v;if(typeof m=="function"){var L=m;m=function(){var F=zc(S);L.call(F)}}Bc(o,S,i,m)}else S=fk(u,o,i,m,d);return zc(S)}Bl=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var u=ds(o.pendingLanes);u!==0&&(ms(o,u|1),tn(o,gt()),!(ct&6)&&(ka=gt()+500,Is()))}break;case 13:To(function(){var d=Qi(i,1);if(d!==null){var m=zr();ei(d,i,1,m)}}),fp(i,1)}},ta=function(i){if(i.tag===13){var o=Qi(i,134217728);if(o!==null){var u=zr();ei(o,i,134217728,u)}fp(i,134217728)}},zl=function(i){if(i.tag===13){var o=ks(i),u=Qi(i,o);if(u!==null){var d=zr();ei(u,i,o,d)}fp(i,o)}},ql=function(){return rt},$l=function(i,o){var u=rt;try{return rt=i,o()}finally{rt=u}},Mi=function(i,o,u){switch(o){case"input":if(lr(i,u),o=u.name,u.type==="radio"&&o!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<u.length;o++){var d=u[o];if(d!==i&&d.form===i.form){var m=uc(d);if(!m)throw Error(t(90));Mn(d),lr(d,m)}}}break;case"textarea":Vr(i,u);break;case"select":o=u.value,o!=null&&qt(i,!!u.multiple,o,!1)}},Vi=ip,j=To;var dk={usingClientEntryPoint:!1,Events:[Pu,ya,uc,Fr,oo,ip]},Uu={findFiberByHostInstance:po,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},hk={bundleType:Uu.bundleType,version:Uu.version,rendererPackageName:Uu.rendererPackageName,rendererConfig:Uu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:M.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Bn(i),i===null?null:i.stateNode},findFiberByHostInstance:Uu.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wc.isDisabled&&Wc.supportsFiber)try{Kr=Wc.inject(hk),Rr=Wc}catch{}}return rn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dk,rn.createPortal=function(i,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hp(o))throw Error(t(200));return ck(i,o,null,u)},rn.createRoot=function(i,o){if(!hp(i))throw Error(t(299));var u=!1,d="",m=i1;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onRecoverableError!==void 0&&(m=o.onRecoverableError)),o=cp(i,1,!1,null,null,u,!1,d,m),i[Hi]=o.current,Su(i.nodeType===8?i.parentNode:i),new dp(o)},rn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=Bn(o),i=i===null?null:i.stateNode,i},rn.flushSync=function(i){return To(i)},rn.hydrate=function(i,o,u){if(!$c(o))throw Error(t(200));return Hc(null,i,o,!0,u)},rn.hydrateRoot=function(i,o,u){if(!hp(i))throw Error(t(405));var d=u!=null&&u.hydratedSources||null,m=!1,v="",S=i1;if(u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onRecoverableError!==void 0&&(S=u.onRecoverableError)),o=r1(o,null,i,1,u??null,m,!1,v,S),i[Hi]=o.current,Su(i),d)for(i=0;i<d.length;i++)u=d[i],m=u._getVersion,m=m(u._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[u,m]:o.mutableSourceEagerHydrationData.push(u,m);return new qc(o)},rn.render=function(i,o,u){if(!$c(o))throw Error(t(200));return Hc(null,i,o,!1,u)},rn.unmountComponentAtNode=function(i){if(!$c(i))throw Error(t(40));return i._reactRootContainer?(To(function(){Hc(null,null,i,!1,function(){i._reactRootContainer=null,i[Hi]=null})}),!0):!1},rn.unstable_batchedUpdates=ip,rn.unstable_renderSubtreeIntoContainer=function(i,o,u,d){if(!$c(u))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return Hc(i,o,u,!1,d)},rn.version="18.3.1-next-f1338f8080-20240426",rn}var p1;function Ek(){if(p1)return gp.exports;p1=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),gp.exports=wk(),gp.exports}var m1;function Tk(){if(m1)return Gc;m1=1;var r=Ek();return Gc.createRoot=r.createRoot,Gc.hydrateRoot=r.hydrateRoot,Gc}var Sk=Tk(),zu={},g1;function Ik(){if(g1)return zu;g1=1,Object.defineProperty(zu,"__esModule",{value:!0}),zu.parse=l,zu.serialize=p;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,n=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,a=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function l(w,T){const I=new a,A=w.length;if(A<2)return I;const C=(T==null?void 0:T.decode)||g;let x=0;do{const U=w.indexOf("=",x);if(U===-1)break;const $=w.indexOf(";",x),M=$===-1?A:$;if(U>M){x=w.lastIndexOf(";",U-1)+1;continue}const O=c(w,x,U),H=h(w,U,O),k=w.slice(O,H);if(I[k]===void 0){let R=c(w,U+1,M),b=h(w,M,R);const N=C(w.slice(R,b));I[k]=N}x=M+1}while(x<A);return I}function c(w,T,I){do{const A=w.charCodeAt(T);if(A!==32&&A!==9)return T}while(++T<I);return I}function h(w,T,I){for(;T>I;){const A=w.charCodeAt(--T);if(A!==32&&A!==9)return T+1}return I}function p(w,T,I){const A=(I==null?void 0:I.encode)||encodeURIComponent;if(!r.test(w))throw new TypeError(`argument name is invalid: ${w}`);const C=A(T);if(!e.test(C))throw new TypeError(`argument val is invalid: ${T}`);let x=w+"="+C;if(!I)return x;if(I.maxAge!==void 0){if(!Number.isInteger(I.maxAge))throw new TypeError(`option maxAge is invalid: ${I.maxAge}`);x+="; Max-Age="+I.maxAge}if(I.domain){if(!t.test(I.domain))throw new TypeError(`option domain is invalid: ${I.domain}`);x+="; Domain="+I.domain}if(I.path){if(!n.test(I.path))throw new TypeError(`option path is invalid: ${I.path}`);x+="; Path="+I.path}if(I.expires){if(!_(I.expires)||!Number.isFinite(I.expires.valueOf()))throw new TypeError(`option expires is invalid: ${I.expires}`);x+="; Expires="+I.expires.toUTCString()}if(I.httpOnly&&(x+="; HttpOnly"),I.secure&&(x+="; Secure"),I.partitioned&&(x+="; Partitioned"),I.priority)switch(typeof I.priority=="string"?I.priority.toLowerCase():void 0){case"low":x+="; Priority=Low";break;case"medium":x+="; Priority=Medium";break;case"high":x+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${I.priority}`)}if(I.sameSite)switch(typeof I.sameSite=="string"?I.sameSite.toLowerCase():I.sameSite){case!0:case"strict":x+="; SameSite=Strict";break;case"lax":x+="; SameSite=Lax";break;case"none":x+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${I.sameSite}`)}return x}function g(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function _(w){return s.call(w)==="[object Date]"}return zu}Ik();/**
 * react-router v7.1.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var y1="popstate";function Rk(r={}){function e(n,s){let{pathname:a,search:l,hash:c}=n.location;return al("",{pathname:a,search:l,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(n,s){return typeof s=="string"?s:Ws(s)}return Ck(e,t,null,r)}function it(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function wr(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Pk(){return Math.random().toString(36).substring(2,10)}function v1(r,e){return{usr:r.state,key:r.key,idx:e}}function al(r,e,t=null,n){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?eo(e):e,state:t,key:e&&e.key||n||Pk()}}function Ws({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function eo(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let n=r.indexOf("?");n>=0&&(e.search=r.substring(n),r=r.substring(0,n)),r&&(e.pathname=r)}return e}function Ck(r,e,t,n={}){let{window:s=document.defaultView,v5Compat:a=!1}=n,l=s.history,c="POP",h=null,p=g();p==null&&(p=0,l.replaceState({...l.state,idx:p},""));function g(){return(l.state||{idx:null}).idx}function _(){c="POP";let C=g(),x=C==null?null:C-p;p=C,h&&h({action:c,location:A.location,delta:x})}function w(C,x){c="PUSH";let U=al(A.location,C,x);p=g()+1;let $=v1(U,p),M=A.createHref(U);try{l.pushState($,"",M)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;s.location.assign(M)}a&&h&&h({action:c,location:A.location,delta:1})}function T(C,x){c="REPLACE";let U=al(A.location,C,x);p=g();let $=v1(U,p),M=A.createHref(U);l.replaceState($,"",M),a&&h&&h({action:c,location:A.location,delta:0})}function I(C){let x=s.location.origin!=="null"?s.location.origin:s.location.href,U=typeof C=="string"?C:Ws(C);return U=U.replace(/ $/,"%20"),it(x,`No window.location.(origin|href) available to create URL for href: ${U}`),new URL(U,x)}let A={get action(){return c},get location(){return r(s,l)},listen(C){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(y1,_),h=C,()=>{s.removeEventListener(y1,_),h=null}},createHref(C){return e(s,C)},createURL:I,encodeLocation(C){let x=I(C);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:w,replace:T,go(C){return l.go(C)}};return A}var Ak=new Set(["lazy","caseSensitive","path","id","index","children"]);function bk(r){return r.index===!0}function _f(r,e,t=[],n={}){return r.map((s,a)=>{let l=[...t,String(a)],c=typeof s.id=="string"?s.id:l.join("-");if(it(s.index!==!0||!s.children,"Cannot specify children on an index route"),it(!n[c],`Found a route id collision on id "${c}".  Route id's must be globally unique within Data Router usages`),bk(s)){let h={...s,...e(s),id:c};return n[c]=h,h}else{let h={...s,...e(s),id:c,children:void 0};return n[c]=h,s.children&&(h.children=_f(s.children,e,l,n)),h}})}function Ms(r,e,t="/"){return of(r,e,t,!1)}function of(r,e,t,n){let s=typeof e=="string"?eo(e):e,a=si(s.pathname||"/",t);if(a==null)return null;let l=i2(r);Ok(l);let c=null;for(let h=0;c==null&&h<l.length;++h){let p=zk(a);c=Uk(l[h],p,n)}return c}function kk(r,e){let{route:t,pathname:n,params:s}=r;return{id:t.id,pathname:n,params:s,data:e[t.id],handle:t.handle}}function i2(r,e=[],t=[],n=""){let s=(a,l,c)=>{let h={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};h.relativePath.startsWith("/")&&(it(h.relativePath.startsWith(n),`Absolute route path "${h.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(n.length));let p=Pi([n,h.relativePath]),g=t.concat(h);a.children&&a.children.length>0&&(it(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),i2(a.children,e,g,p)),!(a.path==null&&!a.index)&&e.push({path:p,score:Fk(p,a.index),routesMeta:g})};return r.forEach((a,l)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))s(a,l);else for(let h of s2(a.path))s(a,l,h)}),e}function s2(r){let e=r.split("/");if(e.length===0)return[];let[t,...n]=e,s=t.endsWith("?"),a=t.replace(/\?$/,"");if(n.length===0)return s?[a,""]:[a];let l=s2(n.join("/")),c=[];return c.push(...l.map(h=>h===""?a:[a,h].join("/"))),s&&c.push(...l),c.map(h=>r.startsWith("/")&&h===""?"/":h)}function Ok(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:jk(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}var xk=/^:[\w-]+$/,Dk=3,Nk=2,Lk=1,Mk=10,Vk=-2,_1=r=>r==="*";function Fk(r,e){let t=r.split("/"),n=t.length;return t.some(_1)&&(n+=Vk),e&&(n+=Nk),t.filter(s=>!_1(s)).reduce((s,a)=>s+(xk.test(a)?Dk:a===""?Lk:Mk),n)}function jk(r,e){return r.length===e.length&&r.slice(0,-1).every((n,s)=>n===e[s])?r[r.length-1]-e[e.length-1]:0}function Uk(r,e,t=!1){let{routesMeta:n}=r,s={},a="/",l=[];for(let c=0;c<n.length;++c){let h=n[c],p=c===n.length-1,g=a==="/"?e:e.slice(a.length)||"/",_=wf({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},g),w=h.route;if(!_&&p&&t&&!n[n.length-1].route.index&&(_=wf({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},g)),!_)return null;Object.assign(s,_.params),l.push({params:s,pathname:Pi([a,_.pathname]),pathnameBase:Hk(Pi([a,_.pathnameBase])),route:w}),_.pathnameBase!=="/"&&(a=Pi([a,_.pathnameBase]))}return l}function wf(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,n]=Bk(r.path,r.caseSensitive,r.end),s=e.match(t);if(!s)return null;let a=s[0],l=a.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:n.reduce((p,{paramName:g,isOptional:_},w)=>{if(g==="*"){let I=c[w]||"";l=a.slice(0,a.length-I.length).replace(/(.)\/+$/,"$1")}const T=c[w];return _&&!T?p[g]=void 0:p[g]=(T||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:l,pattern:r}}function Bk(r,e=!1,t=!0){wr(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let n=[],s="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,h)=>(n.push({paramName:c,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(n.push({paramName:"*"}),s+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":r!==""&&r!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function zk(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return wr(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function si(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=r.charAt(t);return n&&n!=="/"?null:r.slice(t)||"/"}function qk(r,e="/"){let{pathname:t,search:n="",hash:s=""}=typeof r=="string"?eo(r):r;return{pathname:t?t.startsWith("/")?t:$k(t,e):e,search:Wk(n),hash:Gk(s)}}function $k(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function _p(r,e,t,n){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function o2(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function gv(r){let e=o2(r);return e.map((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)}function yv(r,e,t,n=!1){let s;typeof r=="string"?s=eo(r):(s={...r},it(!s.pathname||!s.pathname.includes("?"),_p("?","pathname","search",s)),it(!s.pathname||!s.pathname.includes("#"),_p("#","pathname","hash",s)),it(!s.search||!s.search.includes("#"),_p("#","search","hash",s)));let a=r===""||s.pathname==="",l=a?"/":s.pathname,c;if(l==null)c=t;else{let _=e.length-1;if(!n&&l.startsWith("..")){let w=l.split("/");for(;w[0]==="..";)w.shift(),_-=1;s.pathname=w.join("/")}c=_>=0?e[_]:"/"}let h=qk(s,c),p=l&&l!=="/"&&l.endsWith("/"),g=(a||l===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(p||g)&&(h.pathname+="/"),h}var Pi=r=>r.join("/").replace(/\/\/+/g,"/"),Hk=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Wk=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Gk=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,Ef=class{constructor(r,e,t,n=!1){this.status=r,this.statusText=e||"",this.internal=n,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function Jf(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var a2=["POST","PUT","PATCH","DELETE"],Kk=new Set(a2),Qk=["GET",...a2],Yk=new Set(Qk),Jk=new Set([301,302,303,307,308]),Xk=new Set([307,308]),wp={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Zk={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},qu={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},vv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,eO=r=>({hasErrorBoundary:!!r.hasErrorBoundary}),u2="remix-router-transitions",l2=Symbol("ResetLoaderData");function tO(r){const e=r.window?r.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";it(r.routes.length>0,"You must provide a non-empty routes array to createRouter");let n=r.mapRouteProperties||eO,s={},a=_f(r.routes,n,void 0,s),l,c=r.basename||"/",h=r.dataStrategy||oO,p=r.patchRoutesOnNavigation,g={...r.future},_=null,w=new Set,T=null,I=null,A=null,C=r.hydrationData!=null,x=Ms(a,r.history.location,c),U=null;if(x==null&&!p){let j=xn(404,{pathname:r.history.location.pathname}),{matches:W,route:X}=k1(a);x=W,U={[X.id]:j}}x&&!r.hydrationData&&jn(x,a,r.history.location.pathname).active&&(x=null);let $;if(x)if(x.some(j=>j.route.lazy))$=!1;else if(!x.some(j=>j.route.loader))$=!0;else{let j=r.hydrationData?r.hydrationData.loaderData:null,W=r.hydrationData?r.hydrationData.errors:null;if(W){let X=x.findIndex(te=>W[te.route.id]!==void 0);$=x.slice(0,X+1).every(te=>!Dy(te.route,j,W))}else $=x.every(X=>!Dy(X.route,j,W))}else{$=!1,x=[];let j=jn(null,a,r.history.location.pathname);j.active&&j.matches&&(x=j.matches)}let M,O={historyAction:r.history.action,location:r.history.location,matches:x,initialized:$,navigation:wp,restoreScrollPosition:r.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:r.hydrationData&&r.hydrationData.loaderData||{},actionData:r.hydrationData&&r.hydrationData.actionData||null,errors:r.hydrationData&&r.hydrationData.errors||U,fetchers:new Map,blockers:new Map},H="POP",k=!1,R,b=!1,N=new Map,V=null,B=!1,D=!1,qe=new Set,We=new Map,St=0,Qe=-1,ue=new Map,ve=new Set,de=new Map,z=new Map,ee=new Set,me=new Map,De,Ce=null;function Ne(){if(_=r.history.listen(({action:j,location:W,delta:X})=>{if(De){De(),De=void 0;return}wr(me.size===0||X!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let te=Fn({currentLocation:O.location,nextLocation:W,historyAction:j});if(te&&X!=null){let pe=new Promise(we=>{De=we});r.history.go(X*-1),It(te,{state:"blocked",location:W,proceed(){It(te,{state:"proceeding",proceed:void 0,reset:void 0,location:W}),pe.then(()=>r.history.go(X))},reset(){let we=new Map(O.blockers);we.set(te,qu),Be({blockers:we})}});return}return Ot(j,W)}),t){yO(e,N);let j=()=>vO(e,N);e.addEventListener("pagehide",j),V=()=>e.removeEventListener("pagehide",j)}return O.initialized||Ot("POP",O.location,{initialHydration:!0}),M}function Ge(){_&&_(),V&&V(),w.clear(),R&&R.abort(),O.fetchers.forEach((j,W)=>Sr(W)),O.blockers.forEach((j,W)=>st(W))}function Ye(j){return w.add(j),()=>w.delete(j)}function Be(j,W={}){O={...O,...j};let X=[],te=[];O.fetchers.forEach((pe,we)=>{pe.state==="idle"&&(ee.has(we)?X.push(we):te.push(we))}),ee.forEach(pe=>{!O.fetchers.has(pe)&&!We.has(pe)&&X.push(pe)}),[...w].forEach(pe=>pe(O,{deletedFetchers:X,viewTransitionOpts:W.viewTransitionOpts,flushSync:W.flushSync===!0})),X.forEach(pe=>Sr(pe)),te.forEach(pe=>O.fetchers.delete(pe))}function _t(j,W,{flushSync:X}={}){var ce,Le;let te=O.actionData!=null&&O.navigation.formMethod!=null&&ti(O.navigation.formMethod)&&O.navigation.state==="loading"&&((ce=j.state)==null?void 0:ce._isRedirect)!==!0,pe;W.actionData?Object.keys(W.actionData).length>0?pe=W.actionData:pe=null:te?pe=O.actionData:pe=null;let we=W.loaderData?A1(O.loaderData,W.loaderData,W.matches||[],W.errors):O.loaderData,be=O.blockers;be.size>0&&(be=new Map(be),be.forEach((He,pt)=>be.set(pt,qu)));let ge=k===!0||O.navigation.formMethod!=null&&ti(O.navigation.formMethod)&&((Le=j.state)==null?void 0:Le._isRedirect)!==!0;l&&(a=l,l=void 0),B||H==="POP"||(H==="PUSH"?r.history.push(j,j.state):H==="REPLACE"&&r.history.replace(j,j.state));let Te;if(H==="POP"){let He=N.get(O.location.pathname);He&&He.has(j.pathname)?Te={currentLocation:O.location,nextLocation:j}:N.has(j.pathname)&&(Te={currentLocation:j,nextLocation:O.location})}else if(b){let He=N.get(O.location.pathname);He?He.add(j.pathname):(He=new Set([j.pathname]),N.set(O.location.pathname,He)),Te={currentLocation:O.location,nextLocation:j}}Be({...W,actionData:pe,loaderData:we,historyAction:H,location:j,initialized:!0,navigation:wp,revalidation:"idle",restoreScrollPosition:un(j,W.matches||O.matches),preventScrollReset:ge,blockers:be},{viewTransitionOpts:Te,flushSync:X===!0}),H="POP",k=!1,b=!1,B=!1,D=!1,Ce==null||Ce.resolve(),Ce=null}async function Tr(j,W){if(typeof j=="number"){r.history.go(j);return}let X=xy(O.location,O.matches,c,j,W==null?void 0:W.fromRouteId,W==null?void 0:W.relative),{path:te,submission:pe,error:we}=w1(!1,X,W),be=O.location,ge=al(O.location,te,W&&W.state);ge={...ge,...r.history.encodeLocation(ge)};let Te=W&&W.replace!=null?W.replace:void 0,ce="PUSH";Te===!0?ce="REPLACE":Te===!1||pe!=null&&ti(pe.formMethod)&&pe.formAction===O.location.pathname+O.location.search&&(ce="REPLACE");let Le=W&&"preventScrollReset"in W?W.preventScrollReset===!0:void 0,He=(W&&W.flushSync)===!0,pt=Fn({currentLocation:be,nextLocation:ge,historyAction:ce});if(pt){It(pt,{state:"blocked",location:ge,proceed(){It(pt,{state:"proceeding",proceed:void 0,reset:void 0,location:ge}),Tr(j,W)},reset(){let Vt=new Map(O.blockers);Vt.set(pt,qu),Be({blockers:Vt})}});return}await Ot(ce,ge,{submission:pe,pendingError:we,preventScrollReset:Le,replace:W&&W.replace,enableViewTransition:W&&W.viewTransition,flushSync:He})}function Mn(){Ce||(Ce=_O()),Vr(),Be({revalidation:"loading"});let j=Ce.promise;return O.navigation.state==="submitting"?j:O.navigation.state==="idle"?(Ot(O.historyAction,O.location,{startUninterruptedRevalidation:!0}),j):(Ot(H||O.historyAction,O.navigation.location,{overrideNavigation:O.navigation,enableViewTransition:b===!0}),j)}async function Ot(j,W,X){R&&R.abort(),R=null,H=j,B=(X&&X.startUninterruptedRevalidation)===!0,Gr(O.location,O.matches),k=(X&&X.preventScrollReset)===!0,b=(X&&X.enableViewTransition)===!0;let te=l||a,pe=X&&X.overrideNavigation,we=Ms(te,W,c),be=(X&&X.flushSync)===!0,ge=jn(we,te,W.pathname);if(ge.active&&ge.matches&&(we=ge.matches),!we){let{error:tt,notFoundMatches:lt,route:mt}=Wr(W.pathname);_t(W,{matches:lt,loaderData:{},errors:{[mt.id]:tt}},{flushSync:be});return}if(O.initialized&&!D&&dO(O.location,W)&&!(X&&X.submission&&ti(X.submission.formMethod))){_t(W,{matches:we},{flushSync:be});return}R=new AbortController;let Te=xa(r.history,W,R.signal,X&&X.submission),ce;if(X&&X.pendingError)ce=[Ao(we).route.id,{type:"error",error:X.pendingError}];else if(X&&X.submission&&ti(X.submission.formMethod)){let tt=await Tn(Te,W,X.submission,we,ge.active,{replace:X.replace,flushSync:be});if(tt.shortCircuited)return;if(tt.pendingActionResult){let[lt,mt]=tt.pendingActionResult;if(mn(mt)&&Jf(mt.error)&&mt.error.status===404){R=null,_t(W,{matches:tt.matches,loaderData:{},errors:{[lt]:mt.error}});return}}we=tt.matches||we,ce=tt.pendingActionResult,pe=Ep(W,X.submission),be=!1,ge.active=!1,Te=xa(r.history,Te.url,Te.signal)}let{shortCircuited:Le,matches:He,loaderData:pt,errors:Vt}=await di(Te,W,we,ge.active,pe,X&&X.submission,X&&X.fetcherSubmission,X&&X.replace,X&&X.initialHydration===!0,be,ce);Le||(R=null,_t(W,{matches:He||we,...b1(ce),loaderData:pt,errors:Vt}))}async function Tn(j,W,X,te,pe,we={}){Vr();let be=mO(W,X);if(Be({navigation:be},{flushSync:we.flushSync===!0}),pe){let ce=await Fr(te,W.pathname,j.signal);if(ce.type==="aborted")return{shortCircuited:!0};if(ce.type==="error"){let Le=Ao(ce.partialMatches).route.id;return{matches:ce.partialMatches,pendingActionResult:[Le,{type:"error",error:ce.error}]}}else if(ce.matches)te=ce.matches;else{let{notFoundMatches:Le,error:He,route:pt}=Wr(W.pathname);return{matches:Le,pendingActionResult:[pt.id,{type:"error",error:He}]}}}let ge,Te=Ku(te,W);if(!Te.route.action&&!Te.route.lazy)ge={type:"error",error:xn(405,{method:j.method,pathname:W.pathname,routeId:Te.route.id})};else if(ge=(await Mr("action",O,j,[Te],te,null))[Te.route.id],j.signal.aborted)return{shortCircuited:!0};if(bo(ge)){let ce;return we&&we.replace!=null?ce=we.replace:ce=R1(ge.response.headers.get("Location"),new URL(j.url),c)===O.location.pathname+O.location.search,await qt(j,ge,!0,{submission:X,replace:ce}),{shortCircuited:!0}}if(mn(ge)){let ce=Ao(te,Te.route.id);return(we&&we.replace)!==!0&&(H="PUSH"),{matches:te,pendingActionResult:[ce.route.id,ge]}}return{matches:te,pendingActionResult:[Te.route.id,ge]}}async function di(j,W,X,te,pe,we,be,ge,Te,ce,Le){let He=pe||Ep(W,we),pt=we||be||x1(He),Vt=!B&&!Te;if(te){if(Vt){let Rt=Vn(Le);Be({navigation:He,...Rt!==void 0?{actionData:Rt}:{}},{flushSync:ce})}let ot=await Fr(X,W.pathname,j.signal);if(ot.type==="aborted")return{shortCircuited:!0};if(ot.type==="error"){let Rt=Ao(ot.partialMatches).route.id;return{matches:ot.partialMatches,loaderData:{},errors:{[Rt]:ot.error}}}else if(ot.matches)X=ot.matches;else{let{error:Rt,notFoundMatches:fr,route:qn}=Wr(W.pathname);return{matches:fr,loaderData:{},errors:{[qn.id]:Rt}}}}let tt=l||a,[lt,mt]=T1(r.history,O,X,pt,W,Te===!0,D,qe,ee,de,ve,tt,c,Le);if(Qe=++St,lt.length===0&&mt.length===0){let ot=Me();return _t(W,{matches:X,loaderData:{},errors:Le&&mn(Le[1])?{[Le[0]]:Le[1].error}:null,...b1(Le),...ot?{fetchers:new Map(O.fetchers)}:{}},{flushSync:ce}),{shortCircuited:!0}}if(Vt){let ot={};if(!te){ot.navigation=He;let Rt=Vn(Le);Rt!==void 0&&(ot.actionData=Rt)}mt.length>0&&(ot.fetchers=lr(mt)),Be(ot,{flushSync:ce})}mt.forEach(ot=>{$t(ot.key),ot.controller&&We.set(ot.key,ot.controller)});let Un=()=>mt.forEach(ot=>$t(ot.key));R&&R.signal.addEventListener("abort",Un);let{loaderResults:Bn,fetcherResults:Ir}=await an(O,X,lt,mt,j);if(j.signal.aborted)return{shortCircuited:!0};R&&R.signal.removeEventListener("abort",Un),mt.forEach(ot=>We.delete(ot.key));let cr=Kc(Bn);if(cr)return await qt(j,cr.result,!0,{replace:ge}),{shortCircuited:!0};if(cr=Kc(Ir),cr)return ve.add(cr.key),await qt(j,cr.result,!0,{replace:ge}),{shortCircuited:!0};let{loaderData:Fi,errors:mi}=C1(O,X,Bn,Le,mt,Ir);Te&&O.errors&&(mi={...O.errors,...mi});let zn=Me(),gt=$e(Qe),ji=zn||gt||mt.length>0;return{matches:X,loaderData:Fi,errors:mi,...ji?{fetchers:new Map(O.fetchers)}:{}}}function Vn(j){if(j&&!mn(j[1]))return{[j[0]]:j[1].data};if(O.actionData)return Object.keys(O.actionData).length===0?null:O.actionData}function lr(j){return j.forEach(W=>{let X=O.fetchers.get(W.key),te=$u(void 0,X?X.data:void 0);O.fetchers.set(W.key,te)}),new Map(O.fetchers)}async function Sn(j,W,X,te){$t(j);let pe=(te&&te.flushSync)===!0,we=l||a,be=xy(O.location,O.matches,c,X,W,te==null?void 0:te.relative),ge=Ms(we,be,c),Te=jn(ge,we,be);if(Te.active&&Te.matches&&(ge=Te.matches),!ge){ht(j,W,xn(404,{pathname:be}),{flushSync:pe});return}let{path:ce,submission:Le,error:He}=w1(!0,be,te);if(He){ht(j,W,He,{flushSync:pe});return}let pt=Ku(ge,ce),Vt=(te&&te.preventScrollReset)===!0;if(Le&&ti(Le.formMethod)){await hi(j,W,ce,pt,ge,Te.active,pe,Vt,Le);return}de.set(j,{routeId:W,path:ce}),await Lr(j,W,ce,pt,ge,Te.active,pe,Vt,Le)}async function hi(j,W,X,te,pe,we,be,ge,Te){Vr(),de.delete(j);function ce(Pt){if(!Pt.route.action&&!Pt.route.lazy){let Kr=xn(405,{method:Te.formMethod,pathname:X,routeId:W});return ht(j,W,Kr,{flushSync:be}),!0}return!1}if(!we&&ce(te))return;let Le=O.fetchers.get(j);nr(j,gO(Te,Le),{flushSync:be});let He=new AbortController,pt=xa(r.history,X,He.signal,Te);if(we){let Pt=await Fr(pe,X,pt.signal);if(Pt.type==="aborted")return;if(Pt.type==="error"){ht(j,W,Pt.error,{flushSync:be});return}else if(Pt.matches){if(pe=Pt.matches,te=Ku(pe,X),ce(te))return}else{ht(j,W,xn(404,{pathname:X}),{flushSync:be});return}}We.set(j,He);let Vt=St,lt=(await Mr("action",O,pt,[te],pe,j))[te.route.id];if(pt.signal.aborted){We.get(j)===He&&We.delete(j);return}if(ee.has(j)){if(bo(lt)||mn(lt)){nr(j,Ls(void 0));return}}else{if(bo(lt))if(We.delete(j),Qe>Vt){nr(j,Ls(void 0));return}else return ve.add(j),nr(j,$u(Te)),qt(pt,lt,!1,{fetcherSubmission:Te,preventScrollReset:ge});if(mn(lt)){ht(j,W,lt.error);return}}let mt=O.navigation.location||O.location,Un=xa(r.history,mt,He.signal),Bn=l||a,Ir=O.navigation.state!=="idle"?Ms(Bn,O.navigation.location,c):O.matches;it(Ir,"Didn't find any matches after fetcher action");let cr=++St;ue.set(j,cr);let Fi=$u(Te,lt.data);O.fetchers.set(j,Fi);let[mi,zn]=T1(r.history,O,Ir,Te,mt,!1,D,qe,ee,de,ve,Bn,c,[te.route.id,lt]);zn.filter(Pt=>Pt.key!==j).forEach(Pt=>{let Kr=Pt.key,Rr=O.fetchers.get(Kr),Xo=$u(void 0,Rr?Rr.data:void 0);O.fetchers.set(Kr,Xo),$t(Kr),Pt.controller&&We.set(Kr,Pt.controller)}),Be({fetchers:new Map(O.fetchers)});let gt=()=>zn.forEach(Pt=>$t(Pt.key));He.signal.addEventListener("abort",gt);let{loaderResults:ji,fetcherResults:ot}=await an(O,Ir,mi,zn,Un);if(He.signal.aborted)return;He.signal.removeEventListener("abort",gt),ue.delete(j),We.delete(j),zn.forEach(Pt=>We.delete(Pt.key));let Rt=Kc(ji);if(Rt)return qt(Un,Rt.result,!1,{preventScrollReset:ge});if(Rt=Kc(ot),Rt)return ve.add(Rt.key),qt(Un,Rt.result,!1,{preventScrollReset:ge});let{loaderData:fr,errors:qn}=C1(O,Ir,ji,void 0,zn,ot);if(O.fetchers.has(j)){let Pt=Ls(lt.data);O.fetchers.set(j,Pt)}$e(cr),O.navigation.state==="loading"&&cr>Qe?(it(H,"Expected pending action"),R&&R.abort(),_t(O.navigation.location,{matches:Ir,loaderData:fr,errors:qn,fetchers:new Map(O.fetchers)})):(Be({errors:qn,loaderData:A1(O.loaderData,fr,Ir,qn),fetchers:new Map(O.fetchers)}),D=!1)}async function Lr(j,W,X,te,pe,we,be,ge,Te){let ce=O.fetchers.get(j);nr(j,$u(Te,ce?ce.data:void 0),{flushSync:be});let Le=new AbortController,He=xa(r.history,X,Le.signal);if(we){let lt=await Fr(pe,X,He.signal);if(lt.type==="aborted")return;if(lt.type==="error"){ht(j,W,lt.error,{flushSync:be});return}else if(lt.matches)pe=lt.matches,te=Ku(pe,X);else{ht(j,W,xn(404,{pathname:X}),{flushSync:be});return}}We.set(j,Le);let pt=St,tt=(await Mr("loader",O,He,[te],pe,j))[te.route.id];if(We.get(j)===Le&&We.delete(j),!He.signal.aborted){if(ee.has(j)){nr(j,Ls(void 0));return}if(bo(tt))if(Qe>pt){nr(j,Ls(void 0));return}else{ve.add(j),await qt(He,tt,!1,{preventScrollReset:ge});return}if(mn(tt)){ht(j,W,tt.error);return}nr(j,Ls(tt.data))}}async function qt(j,W,X,{submission:te,fetcherSubmission:pe,preventScrollReset:we,replace:be}={}){W.response.headers.has("X-Remix-Revalidate")&&(D=!0);let ge=W.response.headers.get("Location");it(ge,"Expected a Location header on the redirect Response"),ge=R1(ge,new URL(j.url),c);let Te=al(O.location,ge,{_isRedirect:!0});if(t){let tt=!1;if(W.response.headers.has("X-Remix-Reload-Document"))tt=!0;else if(vv.test(ge)){const lt=r.history.createURL(ge);tt=lt.origin!==e.location.origin||si(lt.pathname,c)==null}if(tt){be?e.location.replace(ge):e.location.assign(ge);return}}R=null;let ce=be===!0||W.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Le,formAction:He,formEncType:pt}=O.navigation;!te&&!pe&&Le&&He&&pt&&(te=x1(O.navigation));let Vt=te||pe;if(Xk.has(W.response.status)&&Vt&&ti(Vt.formMethod))await Ot(ce,Te,{submission:{...Vt,formAction:ge},preventScrollReset:we||k,enableViewTransition:X?b:void 0});else{let tt=Ep(Te,te);await Ot(ce,Te,{overrideNavigation:tt,fetcherSubmission:pe,preventScrollReset:we||k,enableViewTransition:X?b:void 0})}}async function Mr(j,W,X,te,pe,we){let be,ge={};try{be=await aO(h,j,W,X,te,pe,we,s,n)}catch(Te){return te.forEach(ce=>{ge[ce.route.id]={type:"error",error:Te}}),ge}for(let[Te,ce]of Object.entries(be))if(hO(ce)){let Le=ce.result;ge[Te]={type:"redirect",response:cO(Le,X,Te,pe,c)}}else ge[Te]=await lO(ce);return ge}async function an(j,W,X,te,pe){let we=Mr("loader",j,pe,X,W,null),be=Promise.all(te.map(async ce=>{if(ce.matches&&ce.match&&ce.controller){let He=(await Mr("loader",j,xa(r.history,ce.path,ce.controller.signal),[ce.match],ce.matches,ce.key))[ce.match.route.id];return{[ce.key]:He}}else return Promise.resolve({[ce.key]:{type:"error",error:xn(404,{pathname:ce.path})}})})),ge=await we,Te=(await be).reduce((ce,Le)=>Object.assign(ce,Le),{});return{loaderResults:ge,fetcherResults:Te}}function Vr(){D=!0,de.forEach((j,W)=>{We.has(W)&&qe.add(W),$t(W)})}function nr(j,W,X={}){O.fetchers.set(j,W),Be({fetchers:new Map(O.fetchers)},{flushSync:(X&&X.flushSync)===!0})}function ht(j,W,X,te={}){let pe=Ao(O.matches,W);Sr(j),Be({errors:{[pe.route.id]:X},fetchers:new Map(O.fetchers)},{flushSync:(te&&te.flushSync)===!0})}function Et(j){return z.set(j,(z.get(j)||0)+1),ee.has(j)&&ee.delete(j),O.fetchers.get(j)||Zk}function Sr(j){let W=O.fetchers.get(j);We.has(j)&&!(W&&W.state==="loading"&&ue.has(j))&&$t(j),de.delete(j),ue.delete(j),ve.delete(j),ee.delete(j),qe.delete(j),O.fetchers.delete(j)}function pi(j){let W=(z.get(j)||0)-1;W<=0?(z.delete(j),ee.add(j)):z.set(j,W),Be({fetchers:new Map(O.fetchers)})}function $t(j){let W=We.get(j);W&&(W.abort(),We.delete(j))}function Xe(j){for(let W of j){let X=Et(W),te=Ls(X.data);O.fetchers.set(W,te)}}function Me(){let j=[],W=!1;for(let X of ve){let te=O.fetchers.get(X);it(te,`Expected fetcher: ${X}`),te.state==="loading"&&(ve.delete(X),j.push(X),W=!0)}return Xe(j),W}function $e(j){let W=[];for(let[X,te]of ue)if(te<j){let pe=O.fetchers.get(X);it(pe,`Expected fetcher: ${X}`),pe.state==="loading"&&($t(X),ue.delete(X),W.push(X))}return Xe(W),W.length>0}function Ke(j,W){let X=O.blockers.get(j)||qu;return me.get(j)!==W&&me.set(j,W),X}function st(j){O.blockers.delete(j),me.delete(j)}function It(j,W){let X=O.blockers.get(j)||qu;it(X.state==="unblocked"&&W.state==="blocked"||X.state==="blocked"&&W.state==="blocked"||X.state==="blocked"&&W.state==="proceeding"||X.state==="blocked"&&W.state==="unblocked"||X.state==="proceeding"&&W.state==="unblocked",`Invalid blocker state transition: ${X.state} -> ${W.state}`);let te=new Map(O.blockers);te.set(j,W),Be({blockers:te})}function Fn({currentLocation:j,nextLocation:W,historyAction:X}){if(me.size===0)return;me.size>1&&wr(!1,"A router only supports one blocker at a time");let te=Array.from(me.entries()),[pe,we]=te[te.length-1],be=O.blockers.get(pe);if(!(be&&be.state==="proceeding")&&we({currentLocation:j,nextLocation:W,historyAction:X}))return pe}function Wr(j){let W=xn(404,{pathname:j}),X=l||a,{matches:te,route:pe}=k1(X);return{notFoundMatches:te,route:pe,error:W}}function fs(j,W,X){if(T=j,A=W,I=X||null,!C&&O.navigation===wp){C=!0;let te=un(O.location,O.matches);te!=null&&Be({restoreScrollPosition:te})}return()=>{T=null,A=null,I=null}}function Mi(j,W){return I&&I(j,W.map(te=>kk(te,O.loaderData)))||j.key}function Gr(j,W){if(T&&A){let X=Mi(j,W);T[X]=A()}}function un(j,W){if(T){let X=Mi(j,W),te=T[X];if(typeof te=="number")return te}return null}function jn(j,W,X){if(p)if(j){if(Object.keys(j[0].params).length>0)return{active:!0,matches:of(W,X,c,!0)}}else return{active:!0,matches:of(W,X,c,!0)||[]};return{active:!1,matches:null}}async function Fr(j,W,X){if(!p)return{type:"success",matches:j};let te=j;for(;;){let pe=l==null,we=l||a,be=s;try{await p({path:W,matches:te,patch:(ce,Le)=>{X.aborted||I1(ce,Le,we,be,n)}})}catch(ce){return{type:"error",error:ce,partialMatches:te}}finally{pe&&!X.aborted&&(a=[...a])}if(X.aborted)return{type:"aborted"};let ge=Ms(we,W,c);if(ge)return{type:"success",matches:ge};let Te=of(we,W,c,!0);if(!Te||te.length===Te.length&&te.every((ce,Le)=>ce.route.id===Te[Le].route.id))return{type:"success",matches:null};te=Te}}function oo(j){s={},l=_f(j,n,void 0,s)}function Vi(j,W){let X=l==null;I1(j,W,l||a,s,n),X&&(a=[...a],Be({}))}return M={get basename(){return c},get future(){return g},get state(){return O},get routes(){return a},get window(){return e},initialize:Ne,subscribe:Ye,enableScrollRestoration:fs,navigate:Tr,fetch:Sn,revalidate:Mn,createHref:j=>r.history.createHref(j),encodeLocation:j=>r.history.encodeLocation(j),getFetcher:Et,deleteFetcher:pi,dispose:Ge,getBlocker:Ke,deleteBlocker:st,patchRoutes:Vi,_internalFetchControllers:We,_internalSetRoutes:oo},M}function rO(r){return r!=null&&("formData"in r&&r.formData!=null||"body"in r&&r.body!==void 0)}function xy(r,e,t,n,s,a){let l,c;if(s){l=[];for(let p of e)if(l.push(p),p.route.id===s){c=p;break}}else l=e,c=e[e.length-1];let h=yv(n||".",gv(l),si(r.pathname,t)||r.pathname,a==="path");if(n==null&&(h.search=r.search,h.hash=r.hash),(n==null||n===""||n===".")&&c){let p=_v(h.search);if(c.route.index&&!p)h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index";else if(!c.route.index&&p){let g=new URLSearchParams(h.search),_=g.getAll("index");g.delete("index"),_.filter(T=>T).forEach(T=>g.append("index",T));let w=g.toString();h.search=w?`?${w}`:""}}return t!=="/"&&(h.pathname=h.pathname==="/"?t:Pi([t,h.pathname])),Ws(h)}function w1(r,e,t){if(!t||!rO(t))return{path:e};if(t.formMethod&&!pO(t.formMethod))return{path:e,error:xn(405,{method:t.formMethod})};let n=()=>({path:e,error:xn(400,{type:"invalid-body"})}),a=(t.formMethod||"get").toUpperCase(),l=f2(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!ti(a))return n();let _=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((w,[T,I])=>`${w}${T}=${I}
`,""):String(t.body);return{path:e,submission:{formMethod:a,formAction:l,formEncType:t.formEncType,formData:void 0,json:void 0,text:_}}}else if(t.formEncType==="application/json"){if(!ti(a))return n();try{let _=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:a,formAction:l,formEncType:t.formEncType,formData:void 0,json:_,text:void 0}}}catch{return n()}}}it(typeof FormData=="function","FormData is not available in this environment");let c,h;if(t.formData)c=Ny(t.formData),h=t.formData;else if(t.body instanceof FormData)c=Ny(t.body),h=t.body;else if(t.body instanceof URLSearchParams)c=t.body,h=P1(c);else if(t.body==null)c=new URLSearchParams,h=new FormData;else try{c=new URLSearchParams(t.body),h=P1(c)}catch{return n()}let p={formMethod:a,formAction:l,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:h,json:void 0,text:void 0};if(ti(p.formMethod))return{path:e,submission:p};let g=eo(e);return r&&g.search&&_v(g.search)&&c.append("index",""),g.search=`?${c}`,{path:Ws(g),submission:p}}function E1(r,e,t=!1){let n=r.findIndex(s=>s.route.id===e);return n>=0?r.slice(0,t?n+1:n):r}function T1(r,e,t,n,s,a,l,c,h,p,g,_,w,T){let I=T?mn(T[1])?T[1].error:T[1].data:void 0,A=r.createURL(e.location),C=r.createURL(s),x=t;a&&e.errors?x=E1(t,Object.keys(e.errors)[0],!0):T&&mn(T[1])&&(x=E1(t,T[0]));let U=T?T[1].statusCode:void 0,$=U&&U>=400,M=x.filter((H,k)=>{let{route:R}=H;if(R.lazy)return!0;if(R.loader==null)return!1;if(a)return Dy(R,e.loaderData,e.errors);if(nO(e.loaderData,e.matches[k],H))return!0;let b=e.matches[k],N=H;return S1(H,{currentUrl:A,currentParams:b.params,nextUrl:C,nextParams:N.params,...n,actionResult:I,actionStatus:U,defaultShouldRevalidate:$?!1:l||A.pathname+A.search===C.pathname+C.search||A.search!==C.search||iO(b,N)})}),O=[];return p.forEach((H,k)=>{if(a||!t.some(B=>B.route.id===H.routeId)||h.has(k))return;let R=Ms(_,H.path,w);if(!R){O.push({key:k,routeId:H.routeId,path:H.path,matches:null,match:null,controller:null});return}let b=e.fetchers.get(k),N=Ku(R,H.path),V=!1;g.has(k)?V=!1:c.has(k)?(c.delete(k),V=!0):b&&b.state!=="idle"&&b.data===void 0?V=l:V=S1(N,{currentUrl:A,currentParams:e.matches[e.matches.length-1].params,nextUrl:C,nextParams:t[t.length-1].params,...n,actionResult:I,actionStatus:U,defaultShouldRevalidate:$?!1:l}),V&&O.push({key:k,routeId:H.routeId,path:H.path,matches:R,match:N,controller:new AbortController})}),[M,O]}function Dy(r,e,t){if(r.lazy)return!0;if(!r.loader)return!1;let n=e!=null&&e[r.id]!==void 0,s=t!=null&&t[r.id]!==void 0;return!n&&s?!1:typeof r.loader=="function"&&r.loader.hydrate===!0?!0:!n&&!s}function nO(r,e,t){let n=!e||t.route.id!==e.route.id,s=!r.hasOwnProperty(t.route.id);return n||s}function iO(r,e){let t=r.route.path;return r.pathname!==e.pathname||t!=null&&t.endsWith("*")&&r.params["*"]!==e.params["*"]}function S1(r,e){if(r.route.shouldRevalidate){let t=r.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function I1(r,e,t,n,s){let a;if(r){let h=n[r];it(h,`No route found to patch children into: routeId = ${r}`),h.children||(h.children=[]),a=h.children}else a=t;let l=e.filter(h=>!a.some(p=>c2(h,p))),c=_f(l,s,[r||"_","patch",String((a==null?void 0:a.length)||"0")],n);a.push(...c)}function c2(r,e){return"id"in r&&"id"in e&&r.id===e.id?!0:r.index===e.index&&r.path===e.path&&r.caseSensitive===e.caseSensitive?(!r.children||r.children.length===0)&&(!e.children||e.children.length===0)?!0:r.children.every((t,n)=>{var s;return(s=e.children)==null?void 0:s.some(a=>c2(t,a))}):!1}async function sO(r,e,t){if(!r.lazy)return;let n=await r.lazy();if(!r.lazy)return;let s=t[r.id];it(s,"No route found in manifest");let a={};for(let l in n){let h=s[l]!==void 0&&l!=="hasErrorBoundary";wr(!h,`Route "${s.id}" has a static property "${l}" defined but its lazy function is also returning a value for this property. The lazy route property "${l}" will be ignored.`),!h&&!Ak.has(l)&&(a[l]=n[l])}Object.assign(s,a),Object.assign(s,{...e(s),lazy:void 0})}async function oO({matches:r}){let e=r.filter(n=>n.shouldLoad);return(await Promise.all(e.map(n=>n.resolve()))).reduce((n,s,a)=>Object.assign(n,{[e[a].route.id]:s}),{})}async function aO(r,e,t,n,s,a,l,c,h,p){let g=a.map(T=>T.route.lazy?sO(T.route,h,c):void 0),_=a.map((T,I)=>{let A=g[I],C=s.some(U=>U.route.id===T.route.id);return{...T,shouldLoad:C,resolve:async U=>(U&&n.method==="GET"&&(T.route.lazy||T.route.loader)&&(C=!0),C?uO(e,n,T,A,U,p):Promise.resolve({type:"data",result:void 0}))}}),w=await r({matches:_,request:n,params:a[0].params,fetcherKey:l,context:p});try{await Promise.all(g)}catch{}return w}async function uO(r,e,t,n,s,a){let l,c,h=p=>{let g,_=new Promise((I,A)=>g=A);c=()=>g(),e.signal.addEventListener("abort",c);let w=I=>typeof p!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${r}" [routeId: ${t.route.id}]`)):p({request:e,params:t.params,context:a},...I!==void 0?[I]:[]),T=(async()=>{try{return{type:"data",result:await(s?s(A=>w(A)):w())}}catch(I){return{type:"error",result:I}}})();return Promise.race([T,_])};try{let p=t.route[r];if(n)if(p){let g,[_]=await Promise.all([h(p).catch(w=>{g=w}),n]);if(g!==void 0)throw g;l=_}else if(await n,p=t.route[r],p)l=await h(p);else if(r==="action"){let g=new URL(e.url),_=g.pathname+g.search;throw xn(405,{method:e.method,pathname:_,routeId:t.route.id})}else return{type:"data",result:void 0};else if(p)l=await h(p);else{let g=new URL(e.url),_=g.pathname+g.search;throw xn(404,{pathname:_})}}catch(p){return{type:"error",result:p}}finally{c&&e.signal.removeEventListener("abort",c)}return l}async function lO(r){var n,s,a,l;let{result:e,type:t}=r;if(d2(e)){let c;try{let h=e.headers.get("Content-Type");h&&/\bapplication\/json\b/.test(h)?e.body==null?c=null:c=await e.json():c=await e.text()}catch(h){return{type:"error",error:h}}return t==="error"?{type:"error",error:new Ef(e.status,e.statusText,c),statusCode:e.status,headers:e.headers}:{type:"data",data:c,statusCode:e.status,headers:e.headers}}if(t==="error"){if(O1(e)){if(e.data instanceof Error)return{type:"error",error:e.data,statusCode:(n=e.init)==null?void 0:n.status};e=new Ef(((s=e.init)==null?void 0:s.status)||500,void 0,e.data)}return{type:"error",error:e,statusCode:Jf(e)?e.status:void 0}}return O1(e)?{type:"data",data:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function cO(r,e,t,n,s){let a=r.headers.get("Location");if(it(a,"Redirects returned/thrown from loaders/actions must have a Location header"),!vv.test(a)){let l=n.slice(0,n.findIndex(c=>c.route.id===t)+1);a=xy(new URL(e.url),l,s,a),r.headers.set("Location",a)}return r}function R1(r,e,t){if(vv.test(r)){let n=r,s=n.startsWith("//")?new URL(e.protocol+n):new URL(n),a=si(s.pathname,t)!=null;if(s.origin===e.origin&&a)return s.pathname+s.search+s.hash}return r}function xa(r,e,t,n){let s=r.createURL(f2(e)).toString(),a={signal:t};if(n&&ti(n.formMethod)){let{formMethod:l,formEncType:c}=n;a.method=l.toUpperCase(),c==="application/json"?(a.headers=new Headers({"Content-Type":c}),a.body=JSON.stringify(n.json)):c==="text/plain"?a.body=n.text:c==="application/x-www-form-urlencoded"&&n.formData?a.body=Ny(n.formData):a.body=n.formData}return new Request(s,a)}function Ny(r){let e=new URLSearchParams;for(let[t,n]of r.entries())e.append(t,typeof n=="string"?n:n.name);return e}function P1(r){let e=new FormData;for(let[t,n]of r.entries())e.append(t,n);return e}function fO(r,e,t,n=!1,s=!1){let a={},l=null,c,h=!1,p={},g=t&&mn(t[1])?t[1].error:void 0;return r.forEach(_=>{if(!(_.route.id in e))return;let w=_.route.id,T=e[w];if(it(!bo(T),"Cannot handle redirect results in processLoaderData"),mn(T)){let I=T.error;if(g!==void 0&&(I=g,g=void 0),l=l||{},s)l[w]=I;else{let A=Ao(r,w);l[A.route.id]==null&&(l[A.route.id]=I)}n||(a[w]=l2),h||(h=!0,c=Jf(T.error)?T.error.status:500),T.headers&&(p[w]=T.headers)}else a[w]=T.data,T.statusCode&&T.statusCode!==200&&!h&&(c=T.statusCode),T.headers&&(p[w]=T.headers)}),g!==void 0&&t&&(l={[t[0]]:g},a[t[0]]=void 0),{loaderData:a,errors:l,statusCode:c||200,loaderHeaders:p}}function C1(r,e,t,n,s,a){let{loaderData:l,errors:c}=fO(e,t,n);return s.forEach(h=>{let{key:p,match:g,controller:_}=h,w=a[p];if(it(w,"Did not find corresponding fetcher result"),!(_&&_.signal.aborted))if(mn(w)){let T=Ao(r.matches,g==null?void 0:g.route.id);c&&c[T.route.id]||(c={...c,[T.route.id]:w.error}),r.fetchers.delete(p)}else if(bo(w))it(!1,"Unhandled fetcher revalidation redirect");else{let T=Ls(w.data);r.fetchers.set(p,T)}}),{loaderData:l,errors:c}}function A1(r,e,t,n){let s=Object.entries(e).filter(([,a])=>a!==l2).reduce((a,[l,c])=>(a[l]=c,a),{});for(let a of t){let l=a.route.id;if(!e.hasOwnProperty(l)&&r.hasOwnProperty(l)&&a.route.loader&&(s[l]=r[l]),n&&n.hasOwnProperty(l))break}return s}function b1(r){return r?mn(r[1])?{actionData:{}}:{actionData:{[r[0]]:r[1].data}}:{}}function Ao(r,e){return(e?r.slice(0,r.findIndex(n=>n.route.id===e)+1):[...r]).reverse().find(n=>n.route.hasErrorBoundary===!0)||r[0]}function k1(r){let e=r.length===1?r[0]:r.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function xn(r,{pathname:e,routeId:t,method:n,type:s,message:a}={}){let l="Unknown Server Error",c="Unknown @remix-run/router error";return r===400?(l="Bad Request",n&&e&&t?c=`You made a ${n} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:s==="invalid-body"&&(c="Unable to encode submission body")):r===403?(l="Forbidden",c=`Route "${t}" does not match URL "${e}"`):r===404?(l="Not Found",c=`No route matches URL "${e}"`):r===405&&(l="Method Not Allowed",n&&e&&t?c=`You made a ${n.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:n&&(c=`Invalid request method "${n.toUpperCase()}"`)),new Ef(r||500,l,new Error(c),!0)}function Kc(r){let e=Object.entries(r);for(let t=e.length-1;t>=0;t--){let[n,s]=e[t];if(bo(s))return{key:n,result:s}}}function f2(r){let e=typeof r=="string"?eo(r):r;return Ws({...e,hash:""})}function dO(r,e){return r.pathname!==e.pathname||r.search!==e.search?!1:r.hash===""?e.hash!=="":r.hash===e.hash?!0:e.hash!==""}function hO(r){return d2(r.result)&&Jk.has(r.result.status)}function mn(r){return r.type==="error"}function bo(r){return(r&&r.type)==="redirect"}function O1(r){return typeof r=="object"&&r!=null&&"type"in r&&"data"in r&&"init"in r&&r.type==="DataWithResponseInit"}function d2(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.headers=="object"&&typeof r.body<"u"}function pO(r){return Yk.has(r.toUpperCase())}function ti(r){return Kk.has(r.toUpperCase())}function _v(r){return new URLSearchParams(r).getAll("index").some(e=>e==="")}function Ku(r,e){let t=typeof e=="string"?eo(e).search:e.search;if(r[r.length-1].route.index&&_v(t||""))return r[r.length-1];let n=o2(r);return n[n.length-1]}function x1(r){let{formMethod:e,formAction:t,formEncType:n,text:s,formData:a,json:l}=r;if(!(!e||!t||!n)){if(s!=null)return{formMethod:e,formAction:t,formEncType:n,formData:void 0,json:void 0,text:s};if(a!=null)return{formMethod:e,formAction:t,formEncType:n,formData:a,json:void 0,text:void 0};if(l!==void 0)return{formMethod:e,formAction:t,formEncType:n,formData:void 0,json:l,text:void 0}}}function Ep(r,e){return e?{state:"loading",location:r,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:r,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function mO(r,e){return{state:"submitting",location:r,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function $u(r,e){return r?{state:"loading",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function gO(r,e){return{state:"submitting",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:e?e.data:void 0}}function Ls(r){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:r}}function yO(r,e){try{let t=r.sessionStorage.getItem(u2);if(t){let n=JSON.parse(t);for(let[s,a]of Object.entries(n||{}))a&&Array.isArray(a)&&e.set(s,new Set(a||[]))}}catch{}}function vO(r,e){if(e.size>0){let t={};for(let[n,s]of e)t[n]=[...s];try{r.sessionStorage.setItem(u2,JSON.stringify(t))}catch(n){wr(!1,`Failed to save applied view transitions in sessionStorage (${n}).`)}}}function _O(){let r,e,t=new Promise((n,s)=>{r=async a=>{n(a);try{await t}catch{}},e=async a=>{s(a);try{await t}catch{}}});return{promise:t,resolve:r,reject:e}}var Bo=Y.createContext(null);Bo.displayName="DataRouter";var El=Y.createContext(null);El.displayName="DataRouterState";var wv=Y.createContext({isTransitioning:!1});wv.displayName="ViewTransition";var h2=Y.createContext(new Map);h2.displayName="Fetchers";var wO=Y.createContext(null);wO.displayName="Await";var Ni=Y.createContext(null);Ni.displayName="Navigation";var Xf=Y.createContext(null);Xf.displayName="Location";var ui=Y.createContext({outlet:null,matches:[],isDataRoute:!1});ui.displayName="Route";var Ev=Y.createContext(null);Ev.displayName="RouteError";function EO(r,{relative:e}={}){it(Tl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:n}=Y.useContext(Ni),{hash:s,pathname:a,search:l}=Sl(r,{relative:e}),c=a;return t!=="/"&&(c=a==="/"?t:Pi([t,a])),n.createHref({pathname:c,search:l,hash:s})}function Tl(){return Y.useContext(Xf)!=null}function zo(){return it(Tl(),"useLocation() may be used only in the context of a <Router> component."),Y.useContext(Xf).location}var p2="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function m2(r){Y.useContext(Ni).static||Y.useLayoutEffect(r)}function Tv(){let{isDataRoute:r}=Y.useContext(ui);return r?VO():TO()}function TO(){it(Tl(),"useNavigate() may be used only in the context of a <Router> component.");let r=Y.useContext(Bo),{basename:e,navigator:t}=Y.useContext(Ni),{matches:n}=Y.useContext(ui),{pathname:s}=zo(),a=JSON.stringify(gv(n)),l=Y.useRef(!1);return m2(()=>{l.current=!0}),Y.useCallback((h,p={})=>{if(wr(l.current,p2),!l.current)return;if(typeof h=="number"){t.go(h);return}let g=yv(h,JSON.parse(a),s,p.relative==="path");r==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Pi([e,g.pathname])),(p.replace?t.replace:t.push)(g,p.state,p)},[e,t,a,s,r])}var SO=Y.createContext(null);function IO(r){let e=Y.useContext(ui).outlet;return e&&Y.createElement(SO.Provider,{value:r},e)}function RO(){let{matches:r}=Y.useContext(ui),e=r[r.length-1];return e?e.params:{}}function Sl(r,{relative:e}={}){let{matches:t}=Y.useContext(ui),{pathname:n}=zo(),s=JSON.stringify(gv(t));return Y.useMemo(()=>yv(r,JSON.parse(s),n,e==="path"),[r,s,n,e])}function PO(r,e,t,n){it(Tl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=Y.useContext(Ni),{matches:a}=Y.useContext(ui),l=a[a.length-1],c=l?l.params:{},h=l?l.pathname:"/",p=l?l.pathnameBase:"/",g=l&&l.route;{let x=g&&g.path||"";g2(h,!g||x.endsWith("*")||x.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${x}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${x}"> to <Route path="${x==="/"?"*":`${x}/*`}">.`)}let _=zo(),w;w=_;let T=w.pathname||"/",I=T;if(p!=="/"){let x=p.replace(/^\//,"").split("/");I="/"+T.replace(/^\//,"").split("/").slice(x.length).join("/")}let A=Ms(r,{pathname:I});return wr(g||A!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),wr(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),OO(A&&A.map(x=>Object.assign({},x,{params:Object.assign({},c,x.params),pathname:Pi([p,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?p:Pi([p,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),a,t,n)}function CO(){let r=MO(),e=Jf(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n},a={padding:"2px 4px",backgroundColor:n},l=null;return console.error("Error handled by React Router default ErrorBoundary:",r),l=Y.createElement(Y.Fragment,null,Y.createElement("p",null," Hey developer "),Y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Y.createElement("code",{style:a},"ErrorBoundary")," or"," ",Y.createElement("code",{style:a},"errorElement")," prop on your route.")),Y.createElement(Y.Fragment,null,Y.createElement("h2",null,"Unexpected Application Error!"),Y.createElement("h3",{style:{fontStyle:"italic"}},e),t?Y.createElement("pre",{style:s},t):null,l)}var AO=Y.createElement(CO,null),bO=class extends Y.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?Y.createElement(ui.Provider,{value:this.props.routeContext},Y.createElement(Ev.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function kO({routeContext:r,match:e,children:t}){let n=Y.useContext(Bo);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),Y.createElement(ui.Provider,{value:r},t)}function OO(r,e=[],t=null,n=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let s=r,a=t==null?void 0:t.errors;if(a!=null){let h=s.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);it(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,h+1))}let l=!1,c=-1;if(t)for(let h=0;h<s.length;h++){let p=s[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=h),p.route.id){let{loaderData:g,errors:_}=t,w=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!_||_[p.route.id]===void 0);if(p.route.lazy||w){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((h,p,g)=>{let _,w=!1,T=null,I=null;t&&(_=a&&p.route.id?a[p.route.id]:void 0,T=p.route.errorElement||AO,l&&(c<0&&g===0?(g2("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,I=null):c===g&&(w=!0,I=p.route.hydrateFallbackElement||null)));let A=e.concat(s.slice(0,g+1)),C=()=>{let x;return _?x=T:w?x=I:p.route.Component?x=Y.createElement(p.route.Component,null):p.route.element?x=p.route.element:x=h,Y.createElement(kO,{match:p,routeContext:{outlet:h,matches:A,isDataRoute:t!=null},children:x})};return t&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?Y.createElement(bO,{location:t.location,revalidation:t.revalidation,component:T,error:_,children:C(),routeContext:{outlet:null,matches:A,isDataRoute:!0}}):C()},null)}function Sv(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xO(r){let e=Y.useContext(Bo);return it(e,Sv(r)),e}function DO(r){let e=Y.useContext(El);return it(e,Sv(r)),e}function NO(r){let e=Y.useContext(ui);return it(e,Sv(r)),e}function Iv(r){let e=NO(r),t=e.matches[e.matches.length-1];return it(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function LO(){return Iv("useRouteId")}function MO(){var n;let r=Y.useContext(Ev),e=DO("useRouteError"),t=Iv("useRouteError");return r!==void 0?r:(n=e.errors)==null?void 0:n[t]}function VO(){let{router:r}=xO("useNavigate"),e=Iv("useNavigate"),t=Y.useRef(!1);return m2(()=>{t.current=!0}),Y.useCallback(async(s,a={})=>{wr(t.current,p2),t.current&&(typeof s=="number"?r.navigate(s):await r.navigate(s,{fromRouteId:e,...a}))},[r,e])}var D1={};function g2(r,e,t){!e&&!D1[r]&&(D1[r]=!0,wr(!1,t))}var N1={};function L1(r,e){!r&&!N1[e]&&(N1[e]=!0,console.warn(e))}function FO(r){let e={hasErrorBoundary:r.hasErrorBoundary||r.ErrorBoundary!=null||r.errorElement!=null};return r.Component&&(r.element&&wr(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:Y.createElement(r.Component),Component:void 0})),r.HydrateFallback&&(r.hydrateFallbackElement&&wr(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:Y.createElement(r.HydrateFallback),HydrateFallback:void 0})),r.ErrorBoundary&&(r.errorElement&&wr(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:Y.createElement(r.ErrorBoundary),ErrorBoundary:void 0})),e}var jO=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",e(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",t(n))}})}};function UO({router:r,flushSync:e}){let[t,n]=Y.useState(r.state),[s,a]=Y.useState(),[l,c]=Y.useState({isTransitioning:!1}),[h,p]=Y.useState(),[g,_]=Y.useState(),[w,T]=Y.useState(),I=Y.useRef(new Map),A=Y.useCallback(($,{deletedFetchers:M,flushSync:O,viewTransitionOpts:H})=>{$.fetchers.forEach((R,b)=>{R.data!==void 0&&I.current.set(b,R.data)}),M.forEach(R=>I.current.delete(R)),L1(O===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let k=r.window!=null&&r.window.document!=null&&typeof r.window.document.startViewTransition=="function";if(L1(H==null||k,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!H||!k){e&&O?e(()=>n($)):Y.startTransition(()=>n($));return}if(e&&O){e(()=>{g&&(h&&h.resolve(),g.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:H.currentLocation,nextLocation:H.nextLocation})});let R=r.window.document.startViewTransition(()=>{e(()=>n($))});R.finished.finally(()=>{e(()=>{p(void 0),_(void 0),a(void 0),c({isTransitioning:!1})})}),e(()=>_(R));return}g?(h&&h.resolve(),g.skipTransition(),T({state:$,currentLocation:H.currentLocation,nextLocation:H.nextLocation})):(a($),c({isTransitioning:!0,flushSync:!1,currentLocation:H.currentLocation,nextLocation:H.nextLocation}))},[r.window,e,g,h]);Y.useLayoutEffect(()=>r.subscribe(A),[r,A]),Y.useEffect(()=>{l.isTransitioning&&!l.flushSync&&p(new jO)},[l]),Y.useEffect(()=>{if(h&&s&&r.window){let $=s,M=h.promise,O=r.window.document.startViewTransition(async()=>{Y.startTransition(()=>n($)),await M});O.finished.finally(()=>{p(void 0),_(void 0),a(void 0),c({isTransitioning:!1})}),_(O)}},[s,h,r.window]),Y.useEffect(()=>{h&&s&&t.location.key===s.location.key&&h.resolve()},[h,g,t.location,s]),Y.useEffect(()=>{!l.isTransitioning&&w&&(a(w.state),c({isTransitioning:!0,flushSync:!1,currentLocation:w.currentLocation,nextLocation:w.nextLocation}),T(void 0))},[l.isTransitioning,w]);let C=Y.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:$=>r.navigate($),push:($,M,O)=>r.navigate($,{state:M,preventScrollReset:O==null?void 0:O.preventScrollReset}),replace:($,M,O)=>r.navigate($,{replace:!0,state:M,preventScrollReset:O==null?void 0:O.preventScrollReset})}),[r]),x=r.basename||"/",U=Y.useMemo(()=>({router:r,navigator:C,static:!1,basename:x}),[r,C,x]);return Y.createElement(Y.Fragment,null,Y.createElement(Bo.Provider,{value:U},Y.createElement(El.Provider,{value:t},Y.createElement(h2.Provider,{value:I.current},Y.createElement(wv.Provider,{value:l},Y.createElement($O,{basename:x,location:t.location,navigationType:t.historyAction,navigator:C},Y.createElement(BO,{routes:r.routes,future:r.future,state:t})))))),null)}var BO=Y.memo(zO);function zO({routes:r,future:e,state:t}){return PO(r,void 0,t,e)}function qO(r){return IO(r.context)}function $O({basename:r="/",children:e=null,location:t,navigationType:n="POP",navigator:s,static:a=!1}){it(!Tl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=r.replace(/^\/*/,"/"),c=Y.useMemo(()=>({basename:l,navigator:s,static:a,future:{}}),[l,s,a]);typeof t=="string"&&(t=eo(t));let{pathname:h="/",search:p="",hash:g="",state:_=null,key:w="default"}=t,T=Y.useMemo(()=>{let I=si(h,l);return I==null?null:{location:{pathname:I,search:p,hash:g,state:_,key:w},navigationType:n}},[l,h,p,g,_,w,n]);return wr(T!=null,`<Router basename="${l}"> is not able to match the URL "${h}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:Y.createElement(Ni.Provider,{value:c},Y.createElement(Xf.Provider,{children:e,value:T}))}var af="get",uf="application/x-www-form-urlencoded";function Zf(r){return r!=null&&typeof r.tagName=="string"}function HO(r){return Zf(r)&&r.tagName.toLowerCase()==="button"}function WO(r){return Zf(r)&&r.tagName.toLowerCase()==="form"}function GO(r){return Zf(r)&&r.tagName.toLowerCase()==="input"}function KO(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function QO(r,e){return r.button===0&&(!e||e==="_self")&&!KO(r)}var Qc=null;function YO(){if(Qc===null)try{new FormData(document.createElement("form"),0),Qc=!1}catch{Qc=!0}return Qc}var JO=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Tp(r){return r!=null&&!JO.has(r)?(wr(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${uf}"`),null):r}function XO(r,e){let t,n,s,a,l;if(WO(r)){let c=r.getAttribute("action");n=c?si(c,e):null,t=r.getAttribute("method")||af,s=Tp(r.getAttribute("enctype"))||uf,a=new FormData(r)}else if(HO(r)||GO(r)&&(r.type==="submit"||r.type==="image")){let c=r.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=r.getAttribute("formaction")||c.getAttribute("action");if(n=h?si(h,e):null,t=r.getAttribute("formmethod")||c.getAttribute("method")||af,s=Tp(r.getAttribute("formenctype"))||Tp(c.getAttribute("enctype"))||uf,a=new FormData(c,r),!YO()){let{name:p,type:g,value:_}=r;if(g==="image"){let w=p?`${p}.`:"";a.append(`${w}x`,"0"),a.append(`${w}y`,"0")}else p&&a.append(p,_)}}else{if(Zf(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=af,n=null,s=uf,l=r}return a&&s==="text/plain"&&(l=a,a=void 0),{action:n,method:t.toLowerCase(),encType:s,formData:a,body:l}}function Rv(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function ZO(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ex(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function tx(r,e,t){let n=await Promise.all(r.map(async s=>{let a=e.routes[s.route.id];if(a){let l=await ZO(a,t);return l.links?l.links():[]}return[]}));return sx(n.flat(1).filter(ex).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function M1(r,e,t,n,s,a){let l=(h,p)=>t[p]?h.route.id!==t[p].route.id:!0,c=(h,p)=>{var g;return t[p].pathname!==h.pathname||((g=t[p].route.path)==null?void 0:g.endsWith("*"))&&t[p].params["*"]!==h.params["*"]};return a==="assets"?e.filter((h,p)=>l(h,p)||c(h,p)):a==="data"?e.filter((h,p)=>{var _;let g=n.routes[h.route.id];if(!g||!g.hasLoader)return!1;if(l(h,p)||c(h,p))return!0;if(h.route.shouldRevalidate){let w=h.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((_=t[0])==null?void 0:_.params)||{},nextUrl:new URL(r,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function rx(r,e){return nx(r.map(t=>{let n=e.routes[t.route.id];if(!n)return[];let s=[n.module];return n.imports&&(s=s.concat(n.imports)),s}).flat(1))}function nx(r){return[...new Set(r)]}function ix(r){let e={},t=Object.keys(r).sort();for(let n of t)e[n]=r[n];return e}function sx(r,e){let t=new Set;return new Set(e),r.reduce((n,s)=>{let a=JSON.stringify(ix(s));return t.has(a)||(t.add(a),n.push({key:a,link:s})),n},[])}function ox(r){let e=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function ax(){let r=Y.useContext(Bo);return Rv(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function ux(){let r=Y.useContext(El);return Rv(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Pv=Y.createContext(void 0);Pv.displayName="FrameworkContext";function y2(){let r=Y.useContext(Pv);return Rv(r,"You must render this element inside a <HydratedRouter> element"),r}function lx(r,e){let t=Y.useContext(Pv),[n,s]=Y.useState(!1),[a,l]=Y.useState(!1),{onFocus:c,onBlur:h,onMouseEnter:p,onMouseLeave:g,onTouchStart:_}=e,w=Y.useRef(null);Y.useEffect(()=>{if(r==="render"&&l(!0),r==="viewport"){let A=x=>{x.forEach(U=>{l(U.isIntersecting)})},C=new IntersectionObserver(A,{threshold:.5});return w.current&&C.observe(w.current),()=>{C.disconnect()}}},[r]),Y.useEffect(()=>{if(n){let A=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(A)}}},[n]);let T=()=>{s(!0)},I=()=>{s(!1),l(!1)};return t?r!=="intent"?[a,w,{}]:[a,w,{onFocus:Hu(c,T),onBlur:Hu(h,I),onMouseEnter:Hu(p,T),onMouseLeave:Hu(g,I),onTouchStart:Hu(_,T)}]:[!1,w,{}]}function Hu(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function cx({page:r,...e}){let{router:t}=ax(),n=Y.useMemo(()=>Ms(t.routes,r,t.basename),[t.routes,r,t.basename]);return n?Y.createElement(dx,{page:r,matches:n,...e}):null}function fx(r){let{manifest:e,routeModules:t}=y2(),[n,s]=Y.useState([]);return Y.useEffect(()=>{let a=!1;return tx(r,e,t).then(l=>{a||s(l)}),()=>{a=!0}},[r,e,t]),n}function dx({page:r,matches:e,...t}){let n=zo(),{manifest:s,routeModules:a}=y2(),{loaderData:l,matches:c}=ux(),h=Y.useMemo(()=>M1(r,e,c,s,n,"data"),[r,e,c,s,n]),p=Y.useMemo(()=>M1(r,e,c,s,n,"assets"),[r,e,c,s,n]),g=Y.useMemo(()=>{if(r===n.pathname+n.search+n.hash)return[];let T=new Set,I=!1;if(e.forEach(C=>{var U;let x=s.routes[C.route.id];!x||!x.hasLoader||(!h.some($=>$.route.id===C.route.id)&&C.route.id in l&&((U=a[C.route.id])!=null&&U.shouldRevalidate)||x.hasClientLoader?I=!0:T.add(C.route.id))}),T.size===0)return[];let A=ox(r);return I&&T.size>0&&A.searchParams.set("_routes",e.filter(C=>T.has(C.route.id)).map(C=>C.route.id).join(",")),[A.pathname+A.search]},[l,n,s,h,e,r,a]),_=Y.useMemo(()=>rx(p,s),[p,s]),w=fx(p);return Y.createElement(Y.Fragment,null,g.map(T=>Y.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...t})),_.map(T=>Y.createElement("link",{key:T,rel:"modulepreload",href:T,...t})),w.map(({key:T,link:I})=>Y.createElement("link",{key:T,...I})))}function hx(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var v2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{v2&&(window.__reactRouterVersion="7.1.2")}catch{}function px(r,e){return tO({basename:e==null?void 0:e.basename,future:e==null?void 0:e.future,history:Rk({window:e==null?void 0:e.window}),hydrationData:mx(),routes:r,mapRouteProperties:FO,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function mx(){let r=window==null?void 0:window.__staticRouterHydrationData;return r&&r.errors&&(r={...r,errors:gx(r.errors)}),r}function gx(r){if(!r)return null;let e=Object.entries(r),t={};for(let[n,s]of e)if(s&&s.__type==="RouteErrorResponse")t[n]=new Ef(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let a=window[s.__subType];if(typeof a=="function")try{let l=new a(s.message);l.stack="",t[n]=l}catch{}}if(t[n]==null){let a=new Error(s.message);a.stack="",t[n]=a}}else t[n]=s;return t}var _2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,w2=Y.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:s,reloadDocument:a,replace:l,state:c,target:h,to:p,preventScrollReset:g,viewTransition:_,...w},T){let{basename:I}=Y.useContext(Ni),A=typeof p=="string"&&_2.test(p),C,x=!1;if(typeof p=="string"&&A&&(C=p,v2))try{let b=new URL(window.location.href),N=p.startsWith("//")?new URL(b.protocol+p):new URL(p),V=si(N.pathname,I);N.origin===b.origin&&V!=null?p=V+N.search+N.hash:x=!0}catch{wr(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let U=EO(p,{relative:s}),[$,M,O]=lx(n,w),H=wx(p,{replace:l,state:c,target:h,preventScrollReset:g,relative:s,viewTransition:_});function k(b){e&&e(b),b.defaultPrevented||H(b)}let R=Y.createElement("a",{...w,...O,href:C||U,onClick:x||a?e:k,ref:hx(T,M),target:h,"data-discover":!A&&t==="render"?"true":void 0});return $&&!A?Y.createElement(Y.Fragment,null,R,Y.createElement(cx,{page:U})):R});w2.displayName="Link";var yx=Y.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:s=!1,style:a,to:l,viewTransition:c,children:h,...p},g){let _=Sl(l,{relative:p.relative}),w=zo(),T=Y.useContext(El),{navigator:I,basename:A}=Y.useContext(Ni),C=T!=null&&Rx(_)&&c===!0,x=I.encodeLocation?I.encodeLocation(_).pathname:_.pathname,U=w.pathname,$=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;t||(U=U.toLowerCase(),$=$?$.toLowerCase():null,x=x.toLowerCase()),$&&A&&($=si($,A)||$);const M=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let O=U===x||!s&&U.startsWith(x)&&U.charAt(M)==="/",H=$!=null&&($===x||!s&&$.startsWith(x)&&$.charAt(x.length)==="/"),k={isActive:O,isPending:H,isTransitioning:C},R=O?e:void 0,b;typeof n=="function"?b=n(k):b=[n,O?"active":null,H?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let N=typeof a=="function"?a(k):a;return Y.createElement(w2,{...p,"aria-current":R,className:b,ref:g,style:N,to:l,viewTransition:c},typeof h=="function"?h(k):h)});yx.displayName="NavLink";var vx=Y.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:n,replace:s,state:a,method:l=af,action:c,onSubmit:h,relative:p,preventScrollReset:g,viewTransition:_,...w},T)=>{let I=Sx(),A=Ix(c,{relative:p}),C=l.toLowerCase()==="get"?"get":"post",x=typeof c=="string"&&_2.test(c),U=$=>{if(h&&h($),$.defaultPrevented)return;$.preventDefault();let M=$.nativeEvent.submitter,O=(M==null?void 0:M.getAttribute("formmethod"))||l;I(M||$.currentTarget,{fetcherKey:e,method:O,navigate:t,replace:s,state:a,relative:p,preventScrollReset:g,viewTransition:_})};return Y.createElement("form",{ref:T,method:C,action:A,onSubmit:n?h:U,...w,"data-discover":!x&&r==="render"?"true":void 0})});vx.displayName="Form";function _x(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function E2(r){let e=Y.useContext(Bo);return it(e,_x(r)),e}function wx(r,{target:e,replace:t,state:n,preventScrollReset:s,relative:a,viewTransition:l}={}){let c=Tv(),h=zo(),p=Sl(r,{relative:a});return Y.useCallback(g=>{if(QO(g,e)){g.preventDefault();let _=t!==void 0?t:Ws(h)===Ws(p);c(r,{replace:_,state:n,preventScrollReset:s,relative:a,viewTransition:l})}},[h,c,p,t,n,e,r,s,a,l])}var Ex=0,Tx=()=>`__${String(++Ex)}__`;function Sx(){let{router:r}=E2("useSubmit"),{basename:e}=Y.useContext(Ni),t=LO();return Y.useCallback(async(n,s={})=>{let{action:a,method:l,encType:c,formData:h,body:p}=XO(n,e);if(s.navigate===!1){let g=s.fetcherKey||Tx();await r.fetch(g,t,s.action||a,{preventScrollReset:s.preventScrollReset,formData:h,body:p,formMethod:s.method||l,formEncType:s.encType||c,flushSync:s.flushSync})}else await r.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:h,body:p,formMethod:s.method||l,formEncType:s.encType||c,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[r,e,t])}function Ix(r,{relative:e}={}){let{basename:t}=Y.useContext(Ni),n=Y.useContext(ui);it(n,"useFormAction must be used inside a RouteContext");let[s]=n.matches.slice(-1),a={...Sl(r||".",{relative:e})},l=zo();if(r==null){a.search=l.search;let c=new URLSearchParams(a.search),h=c.getAll("index");if(h.some(g=>g==="")){c.delete("index"),h.filter(_=>_).forEach(_=>c.append("index",_));let g=c.toString();a.search=g?`?${g}`:""}}return(!r||r===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:Pi([t,a.pathname])),Ws(a)}function Rx(r,e={}){let t=Y.useContext(wv);it(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=E2("useViewTransitionState"),s=Sl(r,{relative:e.relative});if(!t.isTransitioning)return!1;let a=si(t.currentLocation.pathname,n)||t.currentLocation.pathname,l=si(t.nextLocation.pathname,n)||t.nextLocation.pathname;return wf(s.pathname,l)!=null||wf(s.pathname,a)!=null}new TextEncoder;function za(){return za=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},za.apply(null,arguments)}var V1={},Wu,F1;function qr(){if(F1)return Wu;F1=1;var r=function(e){return e&&e.Math===Math&&e};return Wu=r(typeof globalThis=="object"&&globalThis)||r(typeof window=="object"&&window)||r(typeof self=="object"&&self)||r(typeof o1=="object"&&o1)||r(typeof Wu=="object"&&Wu)||function(){return this}()||Function("return this")(),Wu}var Sp,j1;function Bt(){return j1||(j1=1,Sp=function(r){try{return!!r()}catch{return!0}}),Sp}var Ip,U1;function Il(){if(U1)return Ip;U1=1;var r=Bt();return Ip=!r(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),Ip}var Rp,B1;function ed(){if(B1)return Rp;B1=1;var r=Il(),e=Function.prototype,t=e.apply,n=e.call;return Rp=typeof Reflect=="object"&&Reflect.apply||(r?n.bind(t):function(){return n.apply(t,arguments)}),Rp}var Pp,z1;function zt(){if(z1)return Pp;z1=1;var r=Il(),e=Function.prototype,t=e.call,n=r&&e.bind.bind(t,t);return Pp=r?n:function(s){return function(){return t.apply(s,arguments)}},Pp}var Cp,q1;function to(){if(q1)return Cp;q1=1;var r=zt(),e=r({}.toString),t=r("".slice);return Cp=function(n){return t(e(n),8,-1)},Cp}var Ap,$1;function T2(){if($1)return Ap;$1=1;var r=to(),e=zt();return Ap=function(t){if(r(t)==="Function")return e(t)},Ap}var bp,H1;function wn(){if(H1)return bp;H1=1;var r=typeof document=="object"&&document.all;return bp=typeof r>"u"&&r!==void 0?function(e){return typeof e=="function"||e===r}:function(e){return typeof e=="function"},bp}var kp={},Op,W1;function En(){if(W1)return Op;W1=1;var r=Bt();return Op=!r(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),Op}var xp,G1;function ro(){if(G1)return xp;G1=1;var r=Il(),e=Function.prototype.call;return xp=r?e.bind(e):function(){return e.apply(e,arguments)},xp}var Dp={},K1;function Cv(){if(K1)return Dp;K1=1;var r={}.propertyIsEnumerable,e=Object.getOwnPropertyDescriptor,t=e&&!r.call({1:2},1);return Dp.f=t?function(s){var a=e(this,s);return!!a&&a.enumerable}:r,Dp}var Np,Q1;function td(){return Q1||(Q1=1,Np=function(r,e){return{enumerable:!(r&1),configurable:!(r&2),writable:!(r&4),value:e}}),Np}var Lp,Y1;function rd(){if(Y1)return Lp;Y1=1;var r=zt(),e=Bt(),t=to(),n=Object,s=r("".split);return Lp=e(function(){return!n("z").propertyIsEnumerable(0)})?function(a){return t(a)==="String"?s(a,""):n(a)}:n,Lp}var Mp,J1;function S2(){return J1||(J1=1,Mp=function(r){return r==null}),Mp}var Vp,X1;function Rl(){if(X1)return Vp;X1=1;var r=S2(),e=TypeError;return Vp=function(t){if(r(t))throw new e("Can't call method on "+t);return t},Vp}var Fp,Z1;function cs(){if(Z1)return Fp;Z1=1;var r=rd(),e=Rl();return Fp=function(t){return r(e(t))},Fp}var jp,eE;function Li(){if(eE)return jp;eE=1;var r=wn();return jp=function(e){return typeof e=="object"?e!==null:r(e)},jp}var Up,tE;function on(){return tE||(tE=1,Up={}),Up}var Bp,rE;function no(){if(rE)return Bp;rE=1;var r=on(),e=qr(),t=wn(),n=function(s){return t(s)?s:void 0};return Bp=function(s,a){return arguments.length<2?n(r[s])||n(e[s]):r[s]&&r[s][a]||e[s]&&e[s][a]},Bp}var zp,nE;function qo(){if(nE)return zp;nE=1;var r=zt();return zp=r({}.isPrototypeOf),zp}var qp,iE;function I2(){if(iE)return qp;iE=1;var r=qr(),e=r.navigator,t=e&&e.userAgent;return qp=t?String(t):"",qp}var $p,sE;function nd(){if(sE)return $p;sE=1;var r=qr(),e=I2(),t=r.process,n=r.Deno,s=t&&t.versions||n&&n.version,a=s&&s.v8,l,c;return a&&(l=a.split("."),c=l[0]>0&&l[0]<4?1:+(l[0]+l[1])),!c&&e&&(l=e.match(/Edge\/(\d+)/),(!l||l[1]>=74)&&(l=e.match(/Chrome\/(\d+)/),l&&(c=+l[1]))),$p=c,$p}var Hp,oE;function eu(){if(oE)return Hp;oE=1;var r=nd(),e=Bt(),t=qr(),n=t.String;return Hp=!!Object.getOwnPropertySymbols&&!e(function(){var s=Symbol("symbol detection");return!n(s)||!(Object(s)instanceof Symbol)||!Symbol.sham&&r&&r<41}),Hp}var Wp,aE;function R2(){if(aE)return Wp;aE=1;var r=eu();return Wp=r&&!Symbol.sham&&typeof Symbol.iterator=="symbol",Wp}var Gp,uE;function id(){if(uE)return Gp;uE=1;var r=no(),e=wn(),t=qo(),n=R2(),s=Object;return Gp=n?function(a){return typeof a=="symbol"}:function(a){var l=r("Symbol");return e(l)&&t(l.prototype,s(a))},Gp}var Kp,lE;function Av(){if(lE)return Kp;lE=1;var r=String;return Kp=function(e){try{return r(e)}catch{return"Object"}},Kp}var Qp,cE;function sd(){if(cE)return Qp;cE=1;var r=wn(),e=Av(),t=TypeError;return Qp=function(n){if(r(n))return n;throw new t(e(n)+" is not a function")},Qp}var Yp,fE;function Px(){if(fE)return Yp;fE=1;var r=sd(),e=S2();return Yp=function(t,n){var s=t[n];return e(s)?void 0:r(s)},Yp}var Jp,dE;function Cx(){if(dE)return Jp;dE=1;var r=ro(),e=wn(),t=Li(),n=TypeError;return Jp=function(s,a){var l,c;if(a==="string"&&e(l=s.toString)&&!t(c=r(l,s))||e(l=s.valueOf)&&!t(c=r(l,s))||a!=="string"&&e(l=s.toString)&&!t(c=r(l,s)))return c;throw new n("Can't convert object to primitive value")},Jp}var Xp={exports:{}},Zp,hE;function P2(){return hE||(hE=1,Zp=!0),Zp}var em,pE;function Ax(){if(pE)return em;pE=1;var r=qr(),e=Object.defineProperty;return em=function(t,n){try{e(r,t,{value:n,configurable:!0,writable:!0})}catch{r[t]=n}return n},em}var mE;function bv(){if(mE)return Xp.exports;mE=1;var r=P2(),e=qr(),t=Ax(),n="__core-js_shared__",s=Xp.exports=e[n]||t(n,{});return(s.versions||(s.versions=[])).push({version:"3.40.0",mode:r?"pure":"global",copyright:" 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.40.0/LICENSE",source:"https://github.com/zloirock/core-js"}),Xp.exports}var tm,gE;function Pl(){if(gE)return tm;gE=1;var r=bv();return tm=function(e,t){return r[e]||(r[e]=t||{})},tm}var rm,yE;function io(){if(yE)return rm;yE=1;var r=Rl(),e=Object;return rm=function(t){return e(r(t))},rm}var nm,vE;function li(){if(vE)return nm;vE=1;var r=zt(),e=io(),t=r({}.hasOwnProperty);return nm=Object.hasOwn||function(s,a){return t(e(s),a)},nm}var im,_E;function kv(){if(_E)return im;_E=1;var r=zt(),e=0,t=Math.random(),n=r(1 .toString);return im=function(s){return"Symbol("+(s===void 0?"":s)+")_"+n(++e+t,36)},im}var sm,wE;function ci(){if(wE)return sm;wE=1;var r=qr(),e=Pl(),t=li(),n=kv(),s=eu(),a=R2(),l=r.Symbol,c=e("wks"),h=a?l.for||l:l&&l.withoutSetter||n;return sm=function(p){return t(c,p)||(c[p]=s&&t(l,p)?l[p]:h("Symbol."+p)),c[p]},sm}var om,EE;function C2(){if(EE)return om;EE=1;var r=ro(),e=Li(),t=id(),n=Px(),s=Cx(),a=ci(),l=TypeError,c=a("toPrimitive");return om=function(h,p){if(!e(h)||t(h))return h;var g=n(h,c),_;if(g){if(p===void 0&&(p="default"),_=r(g,h,p),!e(_)||t(_))return _;throw new l("Can't convert object to primitive value")}return p===void 0&&(p="number"),s(h,p)},om}var am,TE;function Ov(){if(TE)return am;TE=1;var r=C2(),e=id();return am=function(t){var n=r(t,"string");return e(n)?n:n+""},am}var um,SE;function A2(){if(SE)return um;SE=1;var r=qr(),e=Li(),t=r.document,n=e(t)&&e(t.createElement);return um=function(s){return n?t.createElement(s):{}},um}var lm,IE;function b2(){if(IE)return lm;IE=1;var r=En(),e=Bt(),t=A2();return lm=!r&&!e(function(){return Object.defineProperty(t("div"),"a",{get:function(){return 7}}).a!==7}),lm}var RE;function od(){if(RE)return kp;RE=1;var r=En(),e=ro(),t=Cv(),n=td(),s=cs(),a=Ov(),l=li(),c=b2(),h=Object.getOwnPropertyDescriptor;return kp.f=r?h:function(g,_){if(g=s(g),_=a(_),c)try{return h(g,_)}catch{}if(l(g,_))return n(!e(t.f,g,_),g[_])},kp}var cm,PE;function bx(){if(PE)return cm;PE=1;var r=Bt(),e=wn(),t=/#|\.prototype\./,n=function(h,p){var g=a[s(h)];return g===c?!0:g===l?!1:e(p)?r(p):!!p},s=n.normalize=function(h){return String(h).replace(t,".").toLowerCase()},a=n.data={},l=n.NATIVE="N",c=n.POLYFILL="P";return cm=n,cm}var fm,CE;function k2(){if(CE)return fm;CE=1;var r=T2(),e=sd(),t=Il(),n=r(r.bind);return fm=function(s,a){return e(s),a===void 0?s:t?n(s,a):function(){return s.apply(a,arguments)}},fm}var dm={},hm,AE;function O2(){if(AE)return hm;AE=1;var r=En(),e=Bt();return hm=r&&e(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),hm}var pm,bE;function tu(){if(bE)return pm;bE=1;var r=Li(),e=String,t=TypeError;return pm=function(n){if(r(n))return n;throw new t(e(n)+" is not an object")},pm}var kE;function so(){if(kE)return dm;kE=1;var r=En(),e=b2(),t=O2(),n=tu(),s=Ov(),a=TypeError,l=Object.defineProperty,c=Object.getOwnPropertyDescriptor,h="enumerable",p="configurable",g="writable";return dm.f=r?t?function(w,T,I){if(n(w),T=s(T),n(I),typeof w=="function"&&T==="prototype"&&"value"in I&&g in I&&!I[g]){var A=c(w,T);A&&A[g]&&(w[T]=I.value,I={configurable:p in I?I[p]:A[p],enumerable:h in I?I[h]:A[h],writable:!1})}return l(w,T,I)}:l:function(w,T,I){if(n(w),T=s(T),n(I),e)try{return l(w,T,I)}catch{}if("get"in I||"set"in I)throw new a("Accessors not supported");return"value"in I&&(w[T]=I.value),w},dm}var mm,OE;function ad(){if(OE)return mm;OE=1;var r=En(),e=so(),t=td();return mm=r?function(n,s,a){return e.f(n,s,t(1,a))}:function(n,s,a){return n[s]=a,n},mm}var gm,xE;function rr(){if(xE)return gm;xE=1;var r=qr(),e=ed(),t=T2(),n=wn(),s=od().f,a=bx(),l=on(),c=k2(),h=ad(),p=li(),g=function(_){var w=function(T,I,A){if(this instanceof w){switch(arguments.length){case 0:return new _;case 1:return new _(T);case 2:return new _(T,I)}return new _(T,I,A)}return e(_,this,arguments)};return w.prototype=_.prototype,w};return gm=function(_,w){var T=_.target,I=_.global,A=_.stat,C=_.proto,x=I?r:A?r[T]:r[T]&&r[T].prototype,U=I?l:l[T]||h(l,T,{})[T],$=U.prototype,M,O,H,k,R,b,N,V,B;for(k in w)M=a(I?k:T+(A?".":"#")+k,_.forced),O=!M&&x&&p(x,k),b=U[k],O&&(_.dontCallGetSet?(B=s(x,k),N=B&&B.value):N=x[k]),R=O&&N?N:w[k],!(!M&&!C&&typeof b==typeof R)&&(_.bind&&O?V=c(R,r):_.wrap&&O?V=g(R):C&&n(R)?V=t(R):V=R,(_.sham||R&&R.sham||b&&b.sham)&&h(V,"sham",!0),h(U,k,V),C&&(H=T+"Prototype",p(l,H)||h(l,H,{}),h(l[H],k,R),_.real&&$&&(M||!$[k])&&h($,k,R)))},gm}var ym,DE;function kx(){if(DE)return ym;DE=1;var r=Math.ceil,e=Math.floor;return ym=Math.trunc||function(n){var s=+n;return(s>0?e:r)(s)},ym}var vm,NE;function xv(){if(NE)return vm;NE=1;var r=kx();return vm=function(e){var t=+e;return t!==t||t===0?0:r(t)},vm}var _m,LE;function x2(){if(LE)return _m;LE=1;var r=xv(),e=Math.max,t=Math.min;return _m=function(n,s){var a=r(n);return a<0?e(a+s,0):t(a,s)},_m}var wm,ME;function D2(){if(ME)return wm;ME=1;var r=xv(),e=Math.min;return wm=function(t){var n=r(t);return n>0?e(n,9007199254740991):0},wm}var Em,VE;function Cl(){if(VE)return Em;VE=1;var r=D2();return Em=function(e){return r(e.length)},Em}var Tm,FE;function Ox(){if(FE)return Tm;FE=1;var r=cs(),e=x2(),t=Cl(),n=function(s){return function(a,l,c){var h=r(a),p=t(h);if(p===0)return!s&&-1;var g=e(c,p),_;if(s&&l!==l){for(;p>g;)if(_=h[g++],_!==_)return!0}else for(;p>g;g++)if((s||g in h)&&h[g]===l)return s||g||0;return!s&&-1}};return Tm={includes:n(!0),indexOf:n(!1)},Tm}var Sm,jE;function ud(){return jE||(jE=1,Sm={}),Sm}var Im,UE;function N2(){if(UE)return Im;UE=1;var r=zt(),e=li(),t=cs(),n=Ox().indexOf,s=ud(),a=r([].push);return Im=function(l,c){var h=t(l),p=0,g=[],_;for(_ in h)!e(s,_)&&e(h,_)&&a(g,_);for(;c.length>p;)e(h,_=c[p++])&&(~n(g,_)||a(g,_));return g},Im}var Rm,BE;function Dv(){return BE||(BE=1,Rm=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),Rm}var Pm,zE;function ld(){if(zE)return Pm;zE=1;var r=N2(),e=Dv();return Pm=Object.keys||function(n){return r(n,e)},Pm}var Cm={},qE;function cd(){return qE||(qE=1,Cm.f=Object.getOwnPropertySymbols),Cm}var Am,$E;function xx(){if($E)return Am;$E=1;var r=En(),e=zt(),t=ro(),n=Bt(),s=ld(),a=cd(),l=Cv(),c=io(),h=rd(),p=Object.assign,g=Object.defineProperty,_=e([].concat);return Am=!p||n(function(){if(r&&p({b:1},p(g({},"a",{enumerable:!0,get:function(){g(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var w={},T={},I=Symbol("assign detection"),A="abcdefghijklmnopqrst";return w[I]=7,A.split("").forEach(function(C){T[C]=C}),p({},w)[I]!==7||s(p({},T)).join("")!==A})?function(T,I){for(var A=c(T),C=arguments.length,x=1,U=a.f,$=l.f;C>x;)for(var M=h(arguments[x++]),O=U?_(s(M),U(M)):s(M),H=O.length,k=0,R;H>k;)R=O[k++],(!r||t($,M,R))&&(A[R]=M[R]);return A}:p,Am}var HE;function Dx(){if(HE)return V1;HE=1;var r=rr(),e=xx();return r({target:"Object",stat:!0,arity:2,forced:Object.assign!==e},{assign:e}),V1}var bm,WE;function Nx(){if(WE)return bm;WE=1,Dx();var r=on();return bm=r.Object.assign,bm}var km,GE;function Lx(){if(GE)return km;GE=1;var r=Nx();return km=r,km}var Mx=Lx();const Ly=Yt(Mx);function $r(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function qa(r){"@babel/helpers - typeof";return qa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qa(r)}function Vx(r,e){if(qa(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e||"default");if(qa(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function L2(r){var e=Vx(r,"string");return qa(e)=="symbol"?e:e+""}function Fx(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,L2(n.key),n)}}function Hr(r,e,t){return e&&Fx(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}var KE={},Om,QE;function Nv(){if(QE)return Om;QE=1;var r=ci(),e=r("toStringTag"),t={};return t[e]="z",Om=String(t)==="[object z]",Om}var xm,YE;function Lv(){if(YE)return xm;YE=1;var r=Nv(),e=wn(),t=to(),n=ci(),s=n("toStringTag"),a=Object,l=t(function(){return arguments}())==="Arguments",c=function(h,p){try{return h[p]}catch{}};return xm=r?t:function(h){var p,g,_;return h===void 0?"Undefined":h===null?"Null":typeof(g=c(p=a(h),s))=="string"?g:l?t(p):(_=t(p))==="Object"&&e(p.callee)?"Arguments":_},xm}var Dm,JE;function $o(){if(JE)return Dm;JE=1;var r=Lv(),e=String;return Dm=function(t){if(r(t)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return e(t)},Dm}var Nm,XE;function jx(){if(XE)return Nm;XE=1;var r=xv(),e=$o(),t=Rl(),n=RangeError;return Nm=function(a){var l=e(t(this)),c="",h=r(a);if(h<0||h===1/0)throw new n("Wrong number of repetitions");for(;h>0;(h>>>=1)&&(l+=l))h&1&&(c+=l);return c},Nm}var Lm,ZE;function Ux(){if(ZE)return Lm;ZE=1;var r=zt(),e=D2(),t=$o(),n=jx(),s=Rl(),a=r(n),l=r("".slice),c=Math.ceil,h=function(p){return function(g,_,w){var T=t(s(g)),I=e(_),A=T.length,C=w===void 0?" ":t(w),x,U;return I<=A||C===""?T:(x=I-A,U=a(C,c(x/C.length)),U.length>x&&(U=l(U,0,x)),p?T+U:U+T)}};return Lm={start:h(!1),end:h(!0)},Lm}var Mm,eT;function Bx(){if(eT)return Mm;eT=1;var r=zt(),e=Bt(),t=Ux().start,n=RangeError,s=isFinite,a=Math.abs,l=Date.prototype,c=l.toISOString,h=r(l.getTime),p=r(l.getUTCDate),g=r(l.getUTCFullYear),_=r(l.getUTCHours),w=r(l.getUTCMilliseconds),T=r(l.getUTCMinutes),I=r(l.getUTCMonth),A=r(l.getUTCSeconds);return Mm=e(function(){return c.call(new Date(-5e13-1))!=="0385-07-25T07:06:39.999Z"})||!e(function(){c.call(new Date(NaN))})?function(){if(!s(h(this)))throw new n("Invalid time value");var x=this,U=g(x),$=w(x),M=U<0?"-":U>9999?"+":"";return M+t(a(U),M?6:4,0)+"-"+t(I(x)+1,2,0)+"-"+t(p(x),2,0)+"T"+t(_(x),2,0)+":"+t(T(x),2,0)+":"+t(A(x),2,0)+"."+t($,3,0)+"Z"}:c,Mm}var tT;function zx(){if(tT)return KE;tT=1;var r=rr(),e=ro(),t=io(),n=C2(),s=Bx(),a=to(),l=Bt(),c=l(function(){return new Date(NaN).toJSON()!==null||e(Date.prototype.toJSON,{toISOString:function(){return 1}})!==1});return r({target:"Date",proto:!0,forced:c},{toJSON:function(p){var g=t(this),_=n(g,"number");return typeof _=="number"&&!isFinite(_)?null:!("toISOString"in g)&&a(g)==="Date"?e(s,g):g.toISOString()}}),KE}var rT={},Vm,nT;function fd(){if(nT)return Vm;nT=1;var r=zt();return Vm=r([].slice),Vm}var Fm,iT;function dd(){if(iT)return Fm;iT=1;var r=to();return Fm=Array.isArray||function(t){return r(t)==="Array"},Fm}var jm,sT;function qx(){if(sT)return jm;sT=1;var r=zt(),e=dd(),t=wn(),n=to(),s=$o(),a=r([].push);return jm=function(l){if(t(l))return l;if(e(l)){for(var c=l.length,h=[],p=0;p<c;p++){var g=l[p];typeof g=="string"?a(h,g):(typeof g=="number"||n(g)==="Number"||n(g)==="String")&&a(h,s(g))}var _=h.length,w=!0;return function(T,I){if(w)return w=!1,I;if(e(this))return I;for(var A=0;A<_;A++)if(h[A]===T)return I}}},jm}var oT;function M2(){if(oT)return rT;oT=1;var r=rr(),e=no(),t=ed(),n=ro(),s=zt(),a=Bt(),l=wn(),c=id(),h=fd(),p=qx(),g=eu(),_=String,w=e("JSON","stringify"),T=s(/./.exec),I=s("".charAt),A=s("".charCodeAt),C=s("".replace),x=s(1 .toString),U=/[\uD800-\uDFFF]/g,$=/^[\uD800-\uDBFF]$/,M=/^[\uDC00-\uDFFF]$/,O=!g||a(function(){var b=e("Symbol")("stringify detection");return w([b])!=="[null]"||w({a:b})!=="{}"||w(Object(b))!=="{}"}),H=a(function(){return w("\uDF06\uD834")!=='"\\udf06\\ud834"'||w("\uDEAD")!=='"\\udead"'}),k=function(b,N){var V=h(arguments),B=p(N);if(!(!l(B)&&(b===void 0||c(b))))return V[1]=function(D,qe){if(l(B)&&(qe=n(B,this,_(D),qe)),!c(qe))return qe},t(w,null,V)},R=function(b,N,V){var B=I(V,N-1),D=I(V,N+1);return T($,b)&&!T(M,D)||T(M,b)&&!T($,B)?"\\u"+x(A(b,0),16):b};return w&&r({target:"JSON",stat:!0,arity:3,forced:O||H},{stringify:function(N,V,B){var D=h(arguments),qe=t(O?k:w,null,D);return H&&typeof qe=="string"?C(qe,U,R):qe}}),rT}var Um,aT;function $x(){if(aT)return Um;aT=1,zx(),M2();var r=on(),e=ed();return r.JSON||(r.JSON={stringify:JSON.stringify}),Um=function(n,s,a){return e(r.JSON.stringify,null,arguments)},Um}var Bm,uT;function Hx(){if(uT)return Bm;uT=1;var r=$x();return Bm=r,Bm}var Wx=Hx();const Gx=Yt(Wx);var lT={},zm,cT;function Kx(){if(cT)return zm;cT=1;var r=zt(),e=wn(),t=bv(),n=r(Function.toString);return e(t.inspectSource)||(t.inspectSource=function(s){return n(s)}),zm=t.inspectSource,zm}var qm,fT;function Mv(){if(fT)return qm;fT=1;var r=zt(),e=Bt(),t=wn(),n=Lv(),s=no(),a=Kx(),l=function(){},c=s("Reflect","construct"),h=/^\s*(?:class|function)\b/,p=r(h.exec),g=!h.test(l),_=function(I){if(!t(I))return!1;try{return c(l,[],I),!0}catch{return!1}},w=function(I){if(!t(I))return!1;switch(n(I)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return g||!!p(h,a(I))}catch{return!0}};return w.sham=!0,qm=!c||e(function(){var T;return _(_.call)||!_(Object)||!_(function(){T=!0})||T})?w:_,qm}var $m,dT;function Qx(){if(dT)return $m;dT=1;var r=dd(),e=Mv(),t=Li(),n=ci(),s=n("species"),a=Array;return $m=function(l){var c;return r(l)&&(c=l.constructor,e(c)&&(c===a||r(c.prototype))?c=void 0:t(c)&&(c=c[s],c===null&&(c=void 0))),c===void 0?a:c},$m}var Hm,hT;function V2(){if(hT)return Hm;hT=1;var r=Qx();return Hm=function(e,t){return new(r(e))(t===0?0:t)},Hm}var Wm,pT;function Vv(){if(pT)return Wm;pT=1;var r=k2(),e=zt(),t=rd(),n=io(),s=Cl(),a=V2(),l=e([].push),c=function(h){var p=h===1,g=h===2,_=h===3,w=h===4,T=h===6,I=h===7,A=h===5||T;return function(C,x,U,$){for(var M=n(C),O=t(M),H=s(O),k=r(x,U),R=0,b=$||a,N=p?b(C,H):g||I?b(C,0):void 0,V,B;H>R;R++)if((A||R in O)&&(V=O[R],B=k(V,R,M),h))if(p)N[R]=B;else if(B)switch(h){case 3:return!0;case 5:return V;case 6:return R;case 2:l(N,V)}else switch(h){case 4:return!1;case 7:l(N,V)}return T?-1:_||w?w:N}};return Wm={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6),filterReject:c(7)},Wm}var Gm,mT;function hd(){if(mT)return Gm;mT=1;var r=Bt(),e=ci(),t=nd(),n=e("species");return Gm=function(s){return t>=51||!r(function(){var a=[],l=a.constructor={};return l[n]=function(){return{foo:1}},a[s](Boolean).foo!==1})},Gm}var gT;function Yx(){if(gT)return lT;gT=1;var r=rr(),e=Vv().filter,t=hd(),n=t("filter");return r({target:"Array",proto:!0,forced:!n},{filter:function(a){return e(this,a,arguments.length>1?arguments[1]:void 0)}}),lT}var Km,yT;function Al(){if(yT)return Km;yT=1;var r=qr(),e=on();return Km=function(t,n){var s=e[t+"Prototype"],a=s&&s[n];if(a)return a;var l=r[t],c=l&&l.prototype;return c&&c[n]},Km}var Qm,vT;function Jx(){if(vT)return Qm;vT=1,Yx();var r=Al();return Qm=r("Array","filter"),Qm}var Ym,_T;function Xx(){if(_T)return Ym;_T=1;var r=qo(),e=Jx(),t=Array.prototype;return Ym=function(n){var s=n.filter;return n===t||r(t,n)&&s===t.filter?e:s},Ym}var Jm,wT;function Zx(){if(wT)return Jm;wT=1;var r=Xx();return Jm=r,Jm}var e4=Zx();const pd=Yt(e4);var ET={},Xm,TT;function Fv(){if(TT)return Xm;TT=1;var r=En(),e=so(),t=td();return Xm=function(n,s,a){r?e.f(n,s,t(0,a)):n[s]=a},Xm}var ST;function t4(){if(ST)return ET;ST=1;var r=rr(),e=dd(),t=Mv(),n=Li(),s=x2(),a=Cl(),l=cs(),c=Fv(),h=ci(),p=hd(),g=fd(),_=p("slice"),w=h("species"),T=Array,I=Math.max;return r({target:"Array",proto:!0,forced:!_},{slice:function(C,x){var U=l(this),$=a(U),M=s(C,$),O=s(x===void 0?$:x,$),H,k,R;if(e(U)&&(H=U.constructor,t(H)&&(H===T||e(H.prototype))?H=void 0:n(H)&&(H=H[w],H===null&&(H=void 0)),H===T||H===void 0))return g(U,M,O);for(k=new(H===void 0?T:H)(I(O-M,0)),R=0;M<O;M++,R++)M in U&&c(k,R,U[M]);return k.length=R,k}}),ET}var Zm,IT;function r4(){if(IT)return Zm;IT=1,t4();var r=Al();return Zm=r("Array","slice"),Zm}var eg,RT;function n4(){if(RT)return eg;RT=1;var r=qo(),e=r4(),t=Array.prototype;return eg=function(n){var s=n.slice;return n===t||r(t,n)&&s===t.slice?e:s},eg}var tg,PT;function i4(){if(PT)return tg;PT=1;var r=n4();return tg=r,tg}var s4=i4();const F2=Yt(s4);var o4="react-avatar/",rg="failing",CT=function(){try{return"localStorage"in window&&window.localStorage}catch{return!1}}(),Tf=function(){function r(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};$r(this,r);var t=e.cachePrefix,n=t===void 0?o4:t,s=e.sourceTTL,a=s===void 0?7*24*3600*1e3:s,l=e.sourceSize,c=l===void 0?20:l;this.cachePrefix=n,this.sourceTTL=a,this.sourceSize=c}return Hr(r,[{key:"set",value:function(t,n){if(CT){n=Gx(n);try{localStorage.setItem(this.cachePrefix+t,n)}catch(s){console.error(s)}}}},{key:"get",value:function(t){if(!CT)return null;var n=localStorage.getItem(this.cachePrefix+t);return n?JSON.parse(n):null}},{key:"sourceFailed",value:function(t){var n=this.get(rg)||[];return n=pd(n).call(n,function(s){var a=s.expires>0&&s.expires<Date.now(),l=s===t||s.url==t;return!a&&!l}),n.unshift({url:t,expires:Date.now()+this.sourceTTL}),n=F2(n).call(n,0,this.sourceSize-1),this.set(rg,n)}},{key:"hasSourceFailedBefore",value:function(t){var n=this.get(rg)||[];return n.some(function(s){var a=s.expires>0&&s.expires<Date.now(),l=s===t||s.url==t;return l&&!a})}}]),r}();const a4=new Tf;var AT={},ng,bT;function u4(){if(bT)return ng;bT=1;var r=zt(),e=sd(),t=Li(),n=li(),s=fd(),a=Il(),l=Function,c=r([].concat),h=r([].join),p={},g=function(_,w,T){if(!n(p,w)){for(var I=[],A=0;A<w;A++)I[A]="a["+A+"]";p[w]=l("C,a","return new C("+h(I,",")+")")}return p[w](_,T)};return ng=a?l.bind:function(w){var T=e(this),I=T.prototype,A=s(arguments,1),C=function(){var U=c(A,s(arguments));return this instanceof C?g(T,U.length,U):T.apply(w,U)};return t(I)&&(C.prototype=I),C},ng}var ig,kT;function l4(){if(kT)return ig;kT=1;var r=Mv(),e=Av(),t=TypeError;return ig=function(n){if(r(n))return n;throw new t(e(n)+" is not a constructor")},ig}var sg={},OT;function jv(){if(OT)return sg;OT=1;var r=En(),e=O2(),t=so(),n=tu(),s=cs(),a=ld();return sg.f=r&&!e?Object.defineProperties:function(c,h){n(c);for(var p=s(h),g=a(h),_=g.length,w=0,T;_>w;)t.f(c,T=g[w++],p[T]);return c},sg}var og,xT;function c4(){if(xT)return og;xT=1;var r=no();return og=r("document","documentElement"),og}var ag,DT;function Uv(){if(DT)return ag;DT=1;var r=Pl(),e=kv(),t=r("keys");return ag=function(n){return t[n]||(t[n]=e(n))},ag}var ug,NT;function j2(){if(NT)return ug;NT=1;var r=tu(),e=jv(),t=Dv(),n=ud(),s=c4(),a=A2(),l=Uv(),c=">",h="<",p="prototype",g="script",_=l("IE_PROTO"),w=function(){},T=function(U){return h+g+c+U+h+"/"+g+c},I=function(U){U.write(T("")),U.close();var $=U.parentWindow.Object;return U=null,$},A=function(){var U=a("iframe"),$="java"+g+":",M;return U.style.display="none",s.appendChild(U),U.src=String($),M=U.contentWindow.document,M.open(),M.write(T("document.F=Object")),M.close(),M.F},C,x=function(){try{C=new ActiveXObject("htmlfile")}catch{}x=typeof document<"u"?document.domain&&C?I(C):A():I(C);for(var U=t.length;U--;)delete x[p][t[U]];return x()};return n[_]=!0,ug=Object.create||function($,M){var O;return $!==null?(w[p]=r($),O=new w,w[p]=null,O[_]=$):O=x(),M===void 0?O:e.f(O,M)},ug}var LT;function f4(){if(LT)return AT;LT=1;var r=rr(),e=no(),t=ed(),n=u4(),s=l4(),a=tu(),l=Li(),c=j2(),h=Bt(),p=e("Reflect","construct"),g=Object.prototype,_=[].push,w=h(function(){function A(){}return!(p(function(){},[],A)instanceof A)}),T=!h(function(){p(function(){})}),I=w||T;return r({target:"Reflect",stat:!0,forced:I,sham:I},{construct:function(C,x){s(C),a(x);var U=arguments.length<3?C:s(arguments[2]);if(T&&!w)return p(C,x,U);if(C===U){switch(x.length){case 0:return new C;case 1:return new C(x[0]);case 2:return new C(x[0],x[1]);case 3:return new C(x[0],x[1],x[2]);case 4:return new C(x[0],x[1],x[2],x[3])}var $=[null];return t(_,$,x),new(t(n,C,$))}var M=U.prototype,O=c(l(M)?M:g),H=t(C,O,x);return l(H)?H:O}}),AT}var lg,MT;function d4(){if(MT)return lg;MT=1,f4();var r=on();return lg=r.Reflect.construct,lg}var cg,VT;function h4(){if(VT)return cg;VT=1;var r=d4();return cg=r,cg}var p4=h4();const Qt=Yt(p4);function My(r,e){return My=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t},My(r,e)}function bl(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&My(r,e)}function Sf(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function kl(r,e){if(e&&(qa(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sf(r)}function Ln(r){return Ln=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ln(r)}function xe(r,e,t){return(e=L2(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var FT={},jT;function m4(){if(jT)return FT;jT=1;var r=rr(),e=io(),t=ld(),n=Bt(),s=n(function(){t(1)});return r({target:"Object",stat:!0,forced:s},{keys:function(l){return t(e(l))}}),FT}var fg,UT;function g4(){if(UT)return fg;UT=1,m4();var r=on();return fg=r.Object.keys,fg}var dg,BT;function y4(){if(BT)return dg;BT=1;var r=g4();return dg=r,dg}var v4=y4();const Bv=Yt(v4);var hg={exports:{}},pg,zT;function _4(){if(zT)return pg;zT=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return pg=r,pg}var mg,qT;function w4(){if(qT)return mg;qT=1;var r=_4();function e(){}function t(){}return t.resetWarningCache=e,mg=function(){function n(l,c,h,p,g,_){if(_!==r){var w=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw w.name="Invariant Violation",w}}n.isRequired=n;function s(){return n}var a={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:s,element:n,elementType:n,instanceOf:s,node:n,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:t,resetWarningCache:e};return a.PropTypes=a,a},mg}var $T;function zv(){return $T||($T=1,hg.exports=w4()()),hg.exports}var E4=zv();const he=Yt(E4);function T4(r){if(Array.isArray(r))return r}function S4(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var n,s,a,l,c=[],h=!0,p=!1;try{if(a=(t=t.call(r)).next,e!==0)for(;!(h=(n=a.call(t)).done)&&(c.push(n.value),c.length!==e);h=!0);}catch(g){p=!0,s=g}finally{try{if(!h&&t.return!=null&&(l=t.return(),Object(l)!==l))return}finally{if(p)throw s}}return c}}function Vy(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=Array(e);t<e;t++)n[t]=r[t];return n}function U2(r,e){if(r){if(typeof r=="string")return Vy(r,e);var t={}.toString.call(r).slice(8,-1);return t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set"?Array.from(r):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Vy(r,e):void 0}}function I4(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R4(r,e){return T4(r)||S4(r,e)||U2(r,e)||I4()}function P4(r){if(Array.isArray(r))return Vy(r)}function C4(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function A4(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b4(r){return P4(r)||C4(r)||U2(r)||A4()}var gg,HT;function k4(){if(HT)return gg;HT=1;var r=Bt();return gg=function(e,t){var n=[][e];return!!n&&r(function(){n.call(null,t||function(){return 1},1)})},gg}var WT={},GT;function O4(){if(GT)return WT;GT=1;var r=rr(),e=Vv().map,t=hd(),n=t("map");return r({target:"Array",proto:!0,forced:!n},{map:function(a){return e(this,a,arguments.length>1?arguments[1]:void 0)}}),WT}var yg,KT;function x4(){if(KT)return yg;KT=1,O4();var r=Al();return yg=r("Array","map"),yg}var vg,QT;function D4(){if(QT)return vg;QT=1;var r=qo(),e=x4(),t=Array.prototype;return vg=function(n){var s=n.map;return n===t||r(t,n)&&s===t.map?e:s},vg}var _g,YT;function N4(){if(YT)return _g;YT=1;var r=D4();return _g=r,_g}var L4=N4();const B2=Yt(L4);var JT={},wg,XT;function M4(){if(XT)return wg;XT=1;var r=sd(),e=io(),t=rd(),n=Cl(),s=TypeError,a="Reduce of empty array with no initial value",l=function(c){return function(h,p,g,_){var w=e(h),T=t(w),I=n(w);if(r(p),I===0&&g<2)throw new s(a);var A=c?I-1:0,C=c?-1:1;if(g<2)for(;;){if(A in T){_=T[A],A+=C;break}if(A+=C,c?A<0:I<=A)throw new s(a)}for(;c?A>=0:I>A;A+=C)A in T&&(_=p(_,T[A],A,w));return _}};return wg={left:l(!1),right:l(!0)},wg}var Eg,ZT;function V4(){if(ZT)return Eg;ZT=1;var r=qr(),e=I2(),t=to(),n=function(s){return e.slice(0,s.length)===s};return Eg=function(){return n("Bun/")?"BUN":n("Cloudflare-Workers")?"CLOUDFLARE":n("Deno/")?"DENO":n("Node.js/")?"NODE":r.Bun&&typeof Bun.version=="string"?"BUN":r.Deno&&typeof Deno.version=="object"?"DENO":t(r.process)==="process"?"NODE":r.window&&r.document?"BROWSER":"REST"}(),Eg}var Tg,eS;function F4(){if(eS)return Tg;eS=1;var r=V4();return Tg=r==="NODE",Tg}var tS;function j4(){if(tS)return JT;tS=1;var r=rr(),e=M4().left,t=k4(),n=nd(),s=F4(),a=!s&&n>79&&n<83,l=a||!t("reduce");return r({target:"Array",proto:!0,forced:l},{reduce:function(h){var p=arguments.length;return e(this,h,p,p>1?arguments[1]:void 0)}}),JT}var Sg,rS;function U4(){if(rS)return Sg;rS=1,j4();var r=Al();return Sg=r("Array","reduce"),Sg}var Ig,nS;function B4(){if(nS)return Ig;nS=1;var r=qo(),e=U4(),t=Array.prototype;return Ig=function(n){var s=n.reduce;return n===t||r(t,n)&&s===t.reduce?e:s},Ig}var Rg,iS;function z4(){if(iS)return Rg;iS=1;var r=B4();return Rg=r,Rg}var q4=z4();const z2=Yt(q4);var sS={},Pg,oS;function q2(){return oS||(oS=1,Pg=`	
\v\f\r \u2028\u2029\uFEFF`),Pg}var Cg,aS;function $4(){if(aS)return Cg;aS=1;var r=zt(),e=Rl(),t=$o(),n=q2(),s=r("".replace),a=RegExp("^["+n+"]+"),l=RegExp("(^|[^"+n+"])["+n+"]+$"),c=function(h){return function(p){var g=t(e(p));return h&1&&(g=s(g,a,"")),h&2&&(g=s(g,l,"$1")),g}};return Cg={start:c(1),end:c(2),trim:c(3)},Cg}var Ag,uS;function H4(){if(uS)return Ag;uS=1;var r=qr(),e=Bt(),t=zt(),n=$o(),s=$4().trim,a=q2(),l=t("".charAt),c=r.parseFloat,h=r.Symbol,p=h&&h.iterator,g=1/c(a+"-0")!==-1/0||p&&!e(function(){c(Object(p))});return Ag=g?function(w){var T=s(n(w)),I=c(T);return I===0&&l(T,0)==="-"?-0:I}:c,Ag}var lS;function W4(){if(lS)return sS;lS=1;var r=rr(),e=H4();return r({global:!0,forced:parseFloat!==e},{parseFloat:e}),sS}var bg,cS;function G4(){if(cS)return bg;cS=1,W4();var r=on();return bg=r.parseFloat,bg}var kg,fS;function K4(){if(fS)return kg;fS=1;var r=G4();return kg=r,kg}var Q4=K4();const Y4=Yt(Q4);var Og,dS;function J4(){return dS||(dS=1,Og=function(){var r;return!!(typeof window<"u"&&window!==null&&(r="(-webkit-min-device-pixel-ratio: 1.25), (min--moz-device-pixel-ratio: 1.25), (-o-min-device-pixel-ratio: 5/4), (min-resolution: 1.25dppx)",window.devicePixelRatio>1.25||window.matchMedia&&window.matchMedia(r).matches))}),Og}var X4=J4();const Z4=Yt(X4);var eD=Z4(),$2=["#A62A21","#7e3794","#0B51C1","#3A6024","#A81563","#B3003C"],tD=/^([-+]?(?:\d+(?:\.\d+)?|\.\d+))([a-z]{2,4}|%)?$/;function rD(r,e){for(var t,n=B2(t=b4(r)).call(t,function(p){return p.charCodeAt(0)}),s=n.length,a=s%(e-1)+1,l=z2(n).call(n,function(p,g){return p+g})%e,c=n[0]%e,h=0;h<s;h++)c=(a*c+l)%e;return c}function qv(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:$2;if(!r)return"transparent";var t=rD(r,e.length);return e[t]}function md(r){r=""+r;var e=tD.exec(r)||[],t=R4(e,3),n=t[1],s=n===void 0?0:n,a=t[2],l=a===void 0?"px":a;return{value:Y4(s),str:s+l,unit:l}}function gd(r){return r=md(r),isNaN(r.value)?r=512:r.unit==="px"?r=r.value:r.value===0?r=0:r=512,eD&&(r=r*2),r}function H2(r,e){var t,n,s,a=e.maxInitials;return F2(t=pd(n=B2(s=r.split(/\s/)).call(s,function(l){return l.substring(0,1).toUpperCase()})).call(n,function(l){return!!l})).call(t,0,a).join("").toUpperCase()}var Yc={};function nD(r,e){if(Yc[e]){Yc[e].push(r);return}var t=Yc[e]=[r];setTimeout(function(){delete Yc[e],t.forEach(function(n){return n()})},e)}function Fy(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];for(var n=0,s=e;n<s.length;n++){var a=s[n];if(a||a==="")return a;if(a===!1||a===null)return null}}function $v(r){if(r===!0)return"100%";if(r!==!1)return r}function iD(r){var e=sD();return function(){var n=Ln(r),s;if(e){var a=Ln(this).constructor;s=Qt(n,arguments,a)}else s=n.apply(this,arguments);return kl(this,s)}}function sD(){if(typeof Reflect>"u"||!Qt||Qt.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Qt(Boolean,[],function(){})),!0}catch{return!1}}var jy={cache:a4,colors:$2,initials:H2,avatarRedirectUrl:null},oD=Bv(jy),Hv=ft.createContext&&ft.createContext(),yd=!Hv,aD=yd?null:Hv.Consumer,uD=ft.forwardRef||function(r){return r},Gs=function(r){bl(t,r);var e=iD(t);function t(){return $r(this,t),e.apply(this,arguments)}return Hr(t,[{key:"_getContext",value:function(){var s=this,a={};return oD.forEach(function(l){typeof s.props[l]<"u"&&(a[l]=s.props[l])}),a}},{key:"render",value:function(){var s=this.props.children;return yd?ft.Children.only(s):ft.createElement(Hv.Provider,{value:this._getContext()},ft.Children.only(s))}}]),t}(ft.Component);xe(Gs,"displayName","ConfigProvider");xe(Gs,"propTypes",{cache:he.object,colors:he.arrayOf(he.string),initials:he.func,avatarRedirectUrl:he.string,children:he.node});var W2=function(e){function t(n,s){if(yd){var a=s&&s.reactAvatar;return ft.createElement(e,za({},jy,a,n))}return ft.createElement(aD,null,function(l){return ft.createElement(e,za({ref:s},jy,l,n))})}return t.contextTypes=Gs.childContextTypes,uD(t)};yd&&(Gs.childContextTypes={reactAvatar:he.object},Gs.prototype.getChildContext=function(){return{reactAvatar:this._getContext()}});var hS={},pS={},xg={},mS;function Wv(){if(mS)return xg;mS=1;var r=N2(),e=Dv(),t=e.concat("length","prototype");return xg.f=Object.getOwnPropertyNames||function(s){return r(s,t)},xg}var Dg={},gS;function lD(){if(gS)return Dg;gS=1;var r=to(),e=cs(),t=Wv().f,n=fd(),s=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],a=function(l){try{return t(l)}catch{return n(s)}};return Dg.f=function(c){return s&&r(c)==="Window"?a(c):t(e(c))},Dg}var Ng,yS;function G2(){if(yS)return Ng;yS=1;var r=ad();return Ng=function(e,t,n,s){return s&&s.enumerable?e[t]=n:r(e,t,n),e},Ng}var Lg,vS;function cD(){if(vS)return Lg;vS=1;var r=so();return Lg=function(e,t,n){return r.f(e,t,n)},Lg}var Mg={},_S;function K2(){if(_S)return Mg;_S=1;var r=ci();return Mg.f=r,Mg}var Vg,wS;function fD(){if(wS)return Vg;wS=1;var r=on(),e=li(),t=K2(),n=so().f;return Vg=function(s){var a=r.Symbol||(r.Symbol={});e(a,s)||n(a,s,{value:t.f(s)})},Vg}var Fg,ES;function dD(){if(ES)return Fg;ES=1;var r=ro(),e=no(),t=ci(),n=G2();return Fg=function(){var s=e("Symbol"),a=s&&s.prototype,l=a&&a.valueOf,c=t("toPrimitive");a&&!a[c]&&n(a,c,function(h){return r(l,this)},{arity:1})},Fg}var jg,TS;function hD(){if(TS)return jg;TS=1;var r=Nv(),e=Lv();return jg=r?{}.toString:function(){return"[object "+e(this)+"]"},jg}var Ug,SS;function pD(){if(SS)return Ug;SS=1;var r=Nv(),e=so().f,t=ad(),n=li(),s=hD(),a=ci(),l=a("toStringTag");return Ug=function(c,h,p,g){var _=p?c:c&&c.prototype;_&&(n(_,l)||e(_,l,{configurable:!0,value:h}),g&&!r&&t(_,"toString",s))},Ug}var Bg,IS;function mD(){if(IS)return Bg;IS=1;var r=qr(),e=wn(),t=r.WeakMap;return Bg=e(t)&&/native code/.test(String(t)),Bg}var zg,RS;function gD(){if(RS)return zg;RS=1;var r=mD(),e=qr(),t=Li(),n=ad(),s=li(),a=bv(),l=Uv(),c=ud(),h="Object already initialized",p=e.TypeError,g=e.WeakMap,_,w,T,I=function(U){return T(U)?w(U):_(U,{})},A=function(U){return function($){var M;if(!t($)||(M=w($)).type!==U)throw new p("Incompatible receiver, "+U+" required");return M}};if(r||a.state){var C=a.state||(a.state=new g);C.get=C.get,C.has=C.has,C.set=C.set,_=function(U,$){if(C.has(U))throw new p(h);return $.facade=U,C.set(U,$),$},w=function(U){return C.get(U)||{}},T=function(U){return C.has(U)}}else{var x=l("state");c[x]=!0,_=function(U,$){if(s(U,x))throw new p(h);return $.facade=U,n(U,x,$),$},w=function(U){return s(U,x)?U[x]:{}},T=function(U){return s(U,x)}}return zg={set:_,get:w,has:T,enforce:I,getterFor:A},zg}var PS;function yD(){if(PS)return pS;PS=1;var r=rr(),e=qr(),t=ro(),n=zt(),s=P2(),a=En(),l=eu(),c=Bt(),h=li(),p=qo(),g=tu(),_=cs(),w=Ov(),T=$o(),I=td(),A=j2(),C=ld(),x=Wv(),U=lD(),$=cd(),M=od(),O=so(),H=jv(),k=Cv(),R=G2(),b=cD(),N=Pl(),V=Uv(),B=ud(),D=kv(),qe=ci(),We=K2(),St=fD(),Qe=dD(),ue=pD(),ve=gD(),de=Vv().forEach,z=V("hidden"),ee="Symbol",me="prototype",De=ve.set,Ce=ve.getterFor(ee),Ne=Object[me],Ge=e.Symbol,Ye=Ge&&Ge[me],Be=e.RangeError,_t=e.TypeError,Tr=e.QObject,Mn=M.f,Ot=O.f,Tn=U.f,di=k.f,Vn=n([].push),lr=N("symbols"),Sn=N("op-symbols"),hi=N("wks"),Lr=!Tr||!Tr[me]||!Tr[me].findChild,qt=function(Xe,Me,$e){var Ke=Mn(Ne,Me);Ke&&delete Ne[Me],Ot(Xe,Me,$e),Ke&&Xe!==Ne&&Ot(Ne,Me,Ke)},Mr=a&&c(function(){return A(Ot({},"a",{get:function(){return Ot(this,"a",{value:7}).a}})).a!==7})?qt:Ot,an=function(Xe,Me){var $e=lr[Xe]=A(Ye);return De($e,{type:ee,tag:Xe,description:Me}),a||($e.description=Me),$e},Vr=function(Me,$e,Ke){Me===Ne&&Vr(Sn,$e,Ke),g(Me);var st=w($e);return g(Ke),h(lr,st)?(Ke.enumerable?(h(Me,z)&&Me[z][st]&&(Me[z][st]=!1),Ke=A(Ke,{enumerable:I(0,!1)})):(h(Me,z)||Ot(Me,z,I(1,A(null))),Me[z][st]=!0),Mr(Me,st,Ke)):Ot(Me,st,Ke)},nr=function(Me,$e){g(Me);var Ke=_($e),st=C(Ke).concat($t(Ke));return de(st,function(It){(!a||t(Et,Ke,It))&&Vr(Me,It,Ke[It])}),Me},ht=function(Me,$e){return $e===void 0?A(Me):nr(A(Me),$e)},Et=function(Me){var $e=w(Me),Ke=t(di,this,$e);return this===Ne&&h(lr,$e)&&!h(Sn,$e)?!1:Ke||!h(this,$e)||!h(lr,$e)||h(this,z)&&this[z][$e]?Ke:!0},Sr=function(Me,$e){var Ke=_(Me),st=w($e);if(!(Ke===Ne&&h(lr,st)&&!h(Sn,st))){var It=Mn(Ke,st);return It&&h(lr,st)&&!(h(Ke,z)&&Ke[z][st])&&(It.enumerable=!0),It}},pi=function(Me){var $e=Tn(_(Me)),Ke=[];return de($e,function(st){!h(lr,st)&&!h(B,st)&&Vn(Ke,st)}),Ke},$t=function(Xe){var Me=Xe===Ne,$e=Tn(Me?Sn:_(Xe)),Ke=[];return de($e,function(st){h(lr,st)&&(!Me||h(Ne,st))&&Vn(Ke,lr[st])}),Ke};return l||(Ge=function(){if(p(Ye,this))throw new _t("Symbol is not a constructor");var Me=!arguments.length||arguments[0]===void 0?void 0:T(arguments[0]),$e=D(Me),Ke=function(st){var It=this===void 0?e:this;It===Ne&&t(Ke,Sn,st),h(It,z)&&h(It[z],$e)&&(It[z][$e]=!1);var Fn=I(1,st);try{Mr(It,$e,Fn)}catch(Wr){if(!(Wr instanceof Be))throw Wr;qt(It,$e,Fn)}};return a&&Lr&&Mr(Ne,$e,{configurable:!0,set:Ke}),an($e,Me)},Ye=Ge[me],R(Ye,"toString",function(){return Ce(this).tag}),R(Ge,"withoutSetter",function(Xe){return an(D(Xe),Xe)}),k.f=Et,O.f=Vr,H.f=nr,M.f=Sr,x.f=U.f=pi,$.f=$t,We.f=function(Xe){return an(qe(Xe),Xe)},a&&(b(Ye,"description",{configurable:!0,get:function(){return Ce(this).description}}),s||R(Ne,"propertyIsEnumerable",Et,{unsafe:!0}))),r({global:!0,constructor:!0,wrap:!0,forced:!l,sham:!l},{Symbol:Ge}),de(C(hi),function(Xe){St(Xe)}),r({target:ee,stat:!0,forced:!l},{useSetter:function(){Lr=!0},useSimple:function(){Lr=!1}}),r({target:"Object",stat:!0,forced:!l,sham:!a},{create:ht,defineProperty:Vr,defineProperties:nr,getOwnPropertyDescriptor:Sr}),r({target:"Object",stat:!0,forced:!l},{getOwnPropertyNames:pi}),Qe(),ue(Ge,ee),B[z]=!0,pS}var CS={},qg,AS;function Q2(){if(AS)return qg;AS=1;var r=eu();return qg=r&&!!Symbol.for&&!!Symbol.keyFor,qg}var bS;function vD(){if(bS)return CS;bS=1;var r=rr(),e=no(),t=li(),n=$o(),s=Pl(),a=Q2(),l=s("string-to-symbol-registry"),c=s("symbol-to-string-registry");return r({target:"Symbol",stat:!0,forced:!a},{for:function(h){var p=n(h);if(t(l,p))return l[p];var g=e("Symbol")(p);return l[p]=g,c[g]=p,g}}),CS}var kS={},OS;function _D(){if(OS)return kS;OS=1;var r=rr(),e=li(),t=id(),n=Av(),s=Pl(),a=Q2(),l=s("symbol-to-string-registry");return r({target:"Symbol",stat:!0,forced:!a},{keyFor:function(h){if(!t(h))throw new TypeError(n(h)+" is not a symbol");if(e(l,h))return l[h]}}),kS}var xS={},DS;function wD(){if(DS)return xS;DS=1;var r=rr(),e=eu(),t=Bt(),n=cd(),s=io(),a=!e||t(function(){n.f(1)});return r({target:"Object",stat:!0,forced:a},{getOwnPropertySymbols:function(c){var h=n.f;return h?h(s(c)):[]}}),xS}var NS;function ED(){return NS||(NS=1,yD(),vD(),_D(),M2(),wD()),hS}var $g,LS;function TD(){if(LS)return $g;LS=1,ED();var r=on();return $g=r.Object.getOwnPropertySymbols,$g}var Hg,MS;function SD(){if(MS)return Hg;MS=1;var r=TD();return Hg=r,Hg}var ID=SD();const If=Yt(ID);var Wg={exports:{}},VS={},FS;function RD(){if(FS)return VS;FS=1;var r=rr(),e=Bt(),t=cs(),n=od().f,s=En(),a=!s||e(function(){n(1)});return r({target:"Object",stat:!0,forced:a,sham:!s},{getOwnPropertyDescriptor:function(c,h){return n(t(c),h)}}),VS}var jS;function PD(){if(jS)return Wg.exports;jS=1,RD();var r=on(),e=r.Object,t=Wg.exports=function(s,a){return e.getOwnPropertyDescriptor(s,a)};return e.getOwnPropertyDescriptor.sham&&(t.sham=!0),Wg.exports}var Gg,US;function CD(){if(US)return Gg;US=1;var r=PD();return Gg=r,Gg}var AD=CD();const vd=Yt(AD);var BS={},Kg,zS;function bD(){if(zS)return Kg;zS=1;var r=no(),e=zt(),t=Wv(),n=cd(),s=tu(),a=e([].concat);return Kg=r("Reflect","ownKeys")||function(c){var h=t.f(s(c)),p=n.f;return p?a(h,p(c)):h},Kg}var qS;function kD(){if(qS)return BS;qS=1;var r=rr(),e=En(),t=bD(),n=cs(),s=od(),a=Fv();return r({target:"Object",stat:!0,sham:!e},{getOwnPropertyDescriptors:function(c){for(var h=n(c),p=s.f,g=t(h),_={},w=0,T,I;g.length>w;)I=p(h,T=g[w++]),I!==void 0&&a(_,T,I);return _}}),BS}var Qg,$S;function OD(){if($S)return Qg;$S=1,kD();var r=on();return Qg=r.Object.getOwnPropertyDescriptors,Qg}var Yg,HS;function xD(){if(HS)return Yg;HS=1;var r=OD();return Yg=r,Yg}var DD=xD();const Rf=Yt(DD);var Jg={exports:{}},WS={},GS;function ND(){if(GS)return WS;GS=1;var r=rr(),e=En(),t=jv().f;return r({target:"Object",stat:!0,forced:Object.defineProperties!==t,sham:!e},{defineProperties:t}),WS}var KS;function LD(){if(KS)return Jg.exports;KS=1,ND();var r=on(),e=r.Object,t=Jg.exports=function(s,a){return e.defineProperties(s,a)};return e.defineProperties.sham&&(t.sham=!0),Jg.exports}var Xg,QS;function MD(){if(QS)return Xg;QS=1;var r=LD();return Xg=r,Xg}var VD=MD();const Y2=Yt(VD);var Zg={exports:{}},YS={},JS;function FD(){if(JS)return YS;JS=1;var r=rr(),e=En(),t=so().f;return r({target:"Object",stat:!0,forced:Object.defineProperty!==t,sham:!e},{defineProperty:t}),YS}var XS;function jD(){if(XS)return Zg.exports;XS=1,FD();var r=on(),e=r.Object,t=Zg.exports=function(s,a,l){return e.defineProperty(s,a,l)};return e.defineProperty.sham&&(t.sham=!0),Zg.exports}var ey,ZS;function UD(){if(ZS)return ey;ZS=1;var r=jD();return ey=r,ey}var BD=UD();const J2=Yt(BD);var zD=function(){function r(){$r(this,r),this.sourcePointer=0,this.active=!0,this.fetch=null}return Hr(r,[{key:"isActive",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return!(t.internal!==this||!this.fetch||this.active!==!0)}}]),r}();function eI(r,e){var t=Bv(r);if(If){var n=If(r);e&&(n=pd(n).call(n,function(s){return vd(r,s).enumerable})),t.push.apply(t,n)}return t}function ty(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?eI(Object(t),!0).forEach(function(n){xe(r,n,t[n])}):Rf?Y2(r,Rf(t)):eI(Object(t)).forEach(function(n){J2(r,n,vd(t,n))})}return r}function qD(r){var e=$D();return function(){var n=Ln(r),s;if(e){var a=Ln(this).constructor;s=Qt(n,arguments,a)}else s=n.apply(this,arguments);return kl(this,s)}}function $D(){if(typeof Reflect>"u"||!Qt||Qt.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Qt(Boolean,[],function(){})),!0}catch{return!1}}function HD(r,e,t){var n=e.cache,s=new r(e);if(!s.isCompatible(e))return t();s.get(function(a){var l=a&&a.src&&n.hasSourceFailedBefore(a.src);!l&&a?t(a):t()})}function WD(r){var e=r.sources,t=e===void 0?[]:e,n=z2(t).call(t,function(a,l){return Ly(a,l.propTypes)},{}),s=function(a){bl(c,a);var l=qD(c);function c(h){var p;return $r(this,c),p=l.call(this,h),xe(Sf(p),"_createFetcher",function(g){return function(_){var w=p.props.cache;if(g.isActive(p.state)){_&&_.type==="error"&&w.sourceFailed(_.target.src);var T=g.sourcePointer;if(t.length!==T){var I=t[T];g.sourcePointer++,HD(I,p.props,function(A){if(!A)return setTimeout(g.fetch,0);g.isActive(p.state)&&(A=ty({src:null,value:null,color:null},A),p.setState(function(C){return g.isActive(C)?A:{}}))})}}}}),xe(Sf(p),"fetch",function(){var g=new zD;g.fetch=p._createFetcher(g),p.setState({internal:g},g.fetch)}),p.state={internal:null,src:null,value:null,color:h.color},p}return Hr(c,[{key:"componentDidMount",value:function(){this.fetch()}},{key:"componentDidUpdate",value:function(p){var g=!1;for(var _ in n)g=g||p[_]!==this.props[_];g&&setTimeout(this.fetch,0)}},{key:"componentWillUnmount",value:function(){this.state.internal&&(this.state.internal.active=!1)}},{key:"render",value:function(){var p=this.props,g=p.children,_=p.propertyName,w=this.state,T=w.src,I=w.value,A=w.color,C=w.sourceName,x=w.internal,U={src:T,value:I,color:A,sourceName:C,onRenderFailed:function(){return x&&x.fetch()}};if(typeof g=="function")return g(U);var $=ft.Children.only(g);return ft.cloneElement($,xe({},_,U))}}]),c}(Y.PureComponent);return xe(s,"displayName","AvatarDataProvider"),xe(s,"propTypes",ty(ty({},n),{},{cache:he.object,propertyName:he.string})),xe(s,"defaultProps",{propertyName:"avatar"}),xe(s,"Cache",Tf),xe(s,"ConfigProvider",Gs),Ly(W2(s),{ConfigProvider:Gs,Cache:Tf})}function tI(r,e){var t=Bv(r);if(If){var n=If(r);e&&(n=pd(n).call(n,function(s){return vd(r,s).enumerable})),t.push.apply(t,n)}return t}function GD(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?tI(Object(t),!0).forEach(function(n){xe(r,n,t[n])}):Rf?Y2(r,Rf(t)):tI(Object(t)).forEach(function(n){J2(r,n,vd(t,n))})}return r}function KD(r){var e=QD();return function(){var n=Ln(r),s;if(e){var a=Ln(this).constructor;s=Qt(n,arguments,a)}else s=n.apply(this,arguments);return kl(this,s)}}function QD(){if(typeof Reflect>"u"||!Qt||Qt.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Qt(Boolean,[],function(){})),!0}catch{return!1}}var Gv=function(r){bl(t,r);var e=KD(t);function t(){return $r(this,t),e.apply(this,arguments)}return Hr(t,[{key:"render",value:function(){var s=this.props,a=s.className,l=s.unstyled,c=s.round,h=s.style,p=s.avatar,g=s.onClick,_=s.children,w=p.sourceName,T=md(this.props.size),I=l?null:GD({display:"inline-block",verticalAlign:"middle",width:T.str,height:T.str,borderRadius:$v(c),fontFamily:"Helvetica, Arial, sans-serif"},h),A=[a,"sb-avatar"];if(w){var C=w.toLowerCase().replace(/[^a-z0-9-]+/g,"-").replace(/^-+|-+$/g,"");A.push("sb-avatar--"+C)}return ft.createElement("div",{className:A.join(" "),onClick:g,style:I},_)}}]),t}(ft.PureComponent);xe(Gv,"propTypes",{className:he.string,round:he.oneOfType([he.bool,he.string]),style:he.object,size:he.oneOfType([he.number,he.string]),unstyled:he.bool,avatar:he.object,onClick:he.func,children:he.node});function YD(r){var e=JD();return function(){var n=Ln(r),s;if(e){var a=Ln(this).constructor;s=Qt(n,arguments,a)}else s=n.apply(this,arguments);return kl(this,s)}}function JD(){if(typeof Reflect>"u"||!Qt||Qt.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Qt(Boolean,[],function(){})),!0}catch{return!1}}var Kv=function(r){bl(t,r);var e=YD(t);function t(){return $r(this,t),e.apply(this,arguments)}return Hr(t,[{key:"render",value:function(){var s=this.props,a=s.className,l=s.round,c=s.unstyled,h=s.alt,p=s.title,g=s.name,_=s.value,w=s.avatar,T=md(this.props.size),I=c?null:{maxWidth:"100%",width:T.str,height:T.str,borderRadius:$v(l)};return ft.createElement(Gv,this.props,ft.createElement("img",{className:a+" sb-avatar__image",width:T.str,height:T.str,style:I,src:w.src,alt:Fy(h,g||_),title:Fy(p,g||_),onError:w.onRenderFailed}))}}]),t}(ft.PureComponent);xe(Kv,"propTypes",{alt:he.oneOfType([he.string,he.bool]),title:he.oneOfType([he.string,he.bool]),name:he.string,value:he.string,avatar:he.object,className:he.string,unstyled:he.bool,round:he.oneOfType([he.bool,he.string,he.number]),size:he.oneOfType([he.number,he.string])});xe(Kv,"defaultProps",{className:"",round:!1,size:100,unstyled:!1});var rI={},ry,nI;function XD(){if(nI)return ry;nI=1;var r=TypeError,e=9007199254740991;return ry=function(t){if(t>e)throw r("Maximum allowed index exceeded");return t},ry}var iI;function ZD(){if(iI)return rI;iI=1;var r=rr(),e=Bt(),t=dd(),n=Li(),s=io(),a=Cl(),l=XD(),c=Fv(),h=V2(),p=hd(),g=ci(),_=nd(),w=g("isConcatSpreadable"),T=_>=51||!e(function(){var C=[];return C[w]=!1,C.concat()[0]!==C}),I=function(C){if(!n(C))return!1;var x=C[w];return x!==void 0?!!x:t(C)},A=!T||!p("concat");return r({target:"Array",proto:!0,arity:1,forced:A},{concat:function(x){var U=s(this),$=h(U,0),M=0,O,H,k,R,b;for(O=-1,k=arguments.length;O<k;O++)if(b=O===-1?U:arguments[O],I(b))for(R=a(b),l(M+R),H=0;H<R;H++,M++)H in b&&c($,M,b[H]);else l(M+1),c($,M++,b);return $.length=M,$}}),rI}var ny,sI;function eN(){if(sI)return ny;sI=1,ZD();var r=Al();return ny=r("Array","concat"),ny}var iy,oI;function tN(){if(oI)return iy;oI=1;var r=qo(),e=eN(),t=Array.prototype;return iy=function(n){var s=n.concat;return n===t||r(t,n)&&s===t.concat?e:s},iy}var sy,aI;function rN(){if(aI)return sy;aI=1;var r=tN();return sy=r,sy}var nN=rN();const el=Yt(nN);function iN(r){var e=sN();return function(){var n=Ln(r),s;if(e){var a=Ln(this).constructor;s=Qt(n,arguments,a)}else s=n.apply(this,arguments);return kl(this,s)}}function sN(){if(typeof Reflect>"u"||!Qt||Qt.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Qt(Boolean,[],function(){})),!0}catch{return!1}}var Qv=function(r){bl(t,r);var e=iN(t);function t(){var n,s;$r(this,t);for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return s=e.call.apply(e,el(n=[this]).call(n,l)),xe(Sf(s),"_scaleTextNode",function(h){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:16,g=s.props,_=g.unstyled,w=g.textSizeRatio,T=g.textMarginRatio,I=g.avatar;if(s._node=h,!(!h||!h.parentNode||_||I.src||!s._mounted)){var A=h.parentNode,C=A.parentNode,x=A.getBoundingClientRect(),U=x.width,$=x.height;if(U==0&&$==0){var M=Math.min(p*1.5,500);nD(function(){return s._scaleTextNode(h,M)},M);return}if(!C.style.fontSize){var O=$/w;C.style.fontSize="".concat(O,"px")}A.style.fontSize=null;var H=h.getBoundingClientRect(),k=H.width;if(!(k<0)){var R=U*(1-2*T);k>R&&(A.style.fontSize="calc(1em * ".concat(R/k,")"))}}}),s}return Hr(t,[{key:"componentDidMount",value:function(){this._mounted=!0,this._scaleTextNode(this._node)}},{key:"componentWillUnmount",value:function(){this._mounted=!1}},{key:"render",value:function(){var s=this.props,a=s.className,l=s.round,c=s.unstyled,h=s.title,p=s.name,g=s.value,_=s.avatar,w=md(this.props.size),T=c?null:{width:w.str,height:w.str,lineHeight:"initial",textAlign:"center",color:this.props.fgColor,background:_.color,borderRadius:$v(l)},I=c?null:{display:"table",tableLayout:"fixed",width:"100%",height:"100%"},A=c?null:{display:"table-cell",verticalAlign:"middle",fontSize:"100%",whiteSpace:"nowrap"},C=[_.value,this.props.size].join("");return ft.createElement(Gv,this.props,ft.createElement("div",{className:a+" sb-avatar__text",style:T,title:Fy(h,p||g)},ft.createElement("div",{style:I},ft.createElement("span",{style:A},ft.createElement("span",{ref:this._scaleTextNode,key:C},_.value)))))}}]),t}(ft.PureComponent);xe(Qv,"propTypes",{name:he.string,value:he.string,avatar:he.object,title:he.oneOfType([he.string,he.bool]),className:he.string,unstyled:he.bool,fgColor:he.string,textSizeRatio:he.number,textMarginRatio:he.number,round:he.oneOfType([he.bool,he.string,he.number]),size:he.oneOfType([he.number,he.string])});xe(Qv,"defaultProps",{className:"",fgColor:"#FFF",round:!1,size:100,textSizeRatio:3,textMarginRatio:.15,unstyled:!1});function oN(r){var e=WD(r),t=W2(ft.forwardRef(function(n,s){return ft.createElement(e,za({},n,{propertyName:"avatar"}),function(a){var l=a.src?Kv:Qv;return ft.createElement(l,za({},n,{avatar:a,ref:s}))})}));return Ly(t,{getRandomColor:qv,ConfigProvider:Gs,Cache:Tf})}var oy={exports:{}},ay={exports:{}},uI;function aN(){return uI||(uI=1,function(){var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e={rotl:function(t,n){return t<<n|t>>>32-n},rotr:function(t,n){return t<<32-n|t>>>n},endian:function(t){if(t.constructor==Number)return e.rotl(t,8)&16711935|e.rotl(t,24)&4278255360;for(var n=0;n<t.length;n++)t[n]=e.endian(t[n]);return t},randomBytes:function(t){for(var n=[];t>0;t--)n.push(Math.floor(Math.random()*256));return n},bytesToWords:function(t){for(var n=[],s=0,a=0;s<t.length;s++,a+=8)n[a>>>5]|=t[s]<<24-a%32;return n},wordsToBytes:function(t){for(var n=[],s=0;s<t.length*32;s+=8)n.push(t[s>>>5]>>>24-s%32&255);return n},bytesToHex:function(t){for(var n=[],s=0;s<t.length;s++)n.push((t[s]>>>4).toString(16)),n.push((t[s]&15).toString(16));return n.join("")},hexToBytes:function(t){for(var n=[],s=0;s<t.length;s+=2)n.push(parseInt(t.substr(s,2),16));return n},bytesToBase64:function(t){for(var n=[],s=0;s<t.length;s+=3)for(var a=t[s]<<16|t[s+1]<<8|t[s+2],l=0;l<4;l++)s*8+l*6<=t.length*8?n.push(r.charAt(a>>>6*(3-l)&63)):n.push("=");return n.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/ig,"");for(var n=[],s=0,a=0;s<t.length;a=++s%4)a!=0&&n.push((r.indexOf(t.charAt(s-1))&Math.pow(2,-2*a+8)-1)<<a*2|r.indexOf(t.charAt(s))>>>6-a*2);return n}};ay.exports=e}()),ay.exports}var uy,lI;function cI(){if(lI)return uy;lI=1;var r={utf8:{stringToBytes:function(e){return r.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(r.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(e.charCodeAt(n)&255);return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}};return uy=r,uy}/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var ly,fI;function uN(){if(fI)return ly;fI=1,ly=function(t){return t!=null&&(r(t)||e(t)||!!t._isBuffer)};function r(t){return!!t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function e(t){return typeof t.readFloatLE=="function"&&typeof t.slice=="function"&&r(t.slice(0,0))}return ly}var dI;function lN(){return dI||(dI=1,function(){var r=aN(),e=cI().utf8,t=uN(),n=cI().bin,s=function(a,l){a.constructor==String?l&&l.encoding==="binary"?a=n.stringToBytes(a):a=e.stringToBytes(a):t(a)?a=Array.prototype.slice.call(a,0):!Array.isArray(a)&&a.constructor!==Uint8Array&&(a=a.toString());for(var c=r.bytesToWords(a),h=a.length*8,p=1732584193,g=-271733879,_=-1732584194,w=271733878,T=0;T<c.length;T++)c[T]=(c[T]<<8|c[T]>>>24)&16711935|(c[T]<<24|c[T]>>>8)&4278255360;c[h>>>5]|=128<<h%32,c[(h+64>>>9<<4)+14]=h;for(var I=s._ff,A=s._gg,C=s._hh,x=s._ii,T=0;T<c.length;T+=16){var U=p,$=g,M=_,O=w;p=I(p,g,_,w,c[T+0],7,-680876936),w=I(w,p,g,_,c[T+1],12,-389564586),_=I(_,w,p,g,c[T+2],17,606105819),g=I(g,_,w,p,c[T+3],22,-1044525330),p=I(p,g,_,w,c[T+4],7,-176418897),w=I(w,p,g,_,c[T+5],12,1200080426),_=I(_,w,p,g,c[T+6],17,-1473231341),g=I(g,_,w,p,c[T+7],22,-45705983),p=I(p,g,_,w,c[T+8],7,1770035416),w=I(w,p,g,_,c[T+9],12,-1958414417),_=I(_,w,p,g,c[T+10],17,-42063),g=I(g,_,w,p,c[T+11],22,-1990404162),p=I(p,g,_,w,c[T+12],7,1804603682),w=I(w,p,g,_,c[T+13],12,-40341101),_=I(_,w,p,g,c[T+14],17,-1502002290),g=I(g,_,w,p,c[T+15],22,1236535329),p=A(p,g,_,w,c[T+1],5,-165796510),w=A(w,p,g,_,c[T+6],9,-1069501632),_=A(_,w,p,g,c[T+11],14,643717713),g=A(g,_,w,p,c[T+0],20,-373897302),p=A(p,g,_,w,c[T+5],5,-701558691),w=A(w,p,g,_,c[T+10],9,38016083),_=A(_,w,p,g,c[T+15],14,-660478335),g=A(g,_,w,p,c[T+4],20,-405537848),p=A(p,g,_,w,c[T+9],5,568446438),w=A(w,p,g,_,c[T+14],9,-1019803690),_=A(_,w,p,g,c[T+3],14,-187363961),g=A(g,_,w,p,c[T+8],20,1163531501),p=A(p,g,_,w,c[T+13],5,-1444681467),w=A(w,p,g,_,c[T+2],9,-51403784),_=A(_,w,p,g,c[T+7],14,1735328473),g=A(g,_,w,p,c[T+12],20,-1926607734),p=C(p,g,_,w,c[T+5],4,-378558),w=C(w,p,g,_,c[T+8],11,-2022574463),_=C(_,w,p,g,c[T+11],16,1839030562),g=C(g,_,w,p,c[T+14],23,-35309556),p=C(p,g,_,w,c[T+1],4,-1530992060),w=C(w,p,g,_,c[T+4],11,1272893353),_=C(_,w,p,g,c[T+7],16,-155497632),g=C(g,_,w,p,c[T+10],23,-1094730640),p=C(p,g,_,w,c[T+13],4,681279174),w=C(w,p,g,_,c[T+0],11,-358537222),_=C(_,w,p,g,c[T+3],16,-722521979),g=C(g,_,w,p,c[T+6],23,76029189),p=C(p,g,_,w,c[T+9],4,-640364487),w=C(w,p,g,_,c[T+12],11,-421815835),_=C(_,w,p,g,c[T+15],16,530742520),g=C(g,_,w,p,c[T+2],23,-995338651),p=x(p,g,_,w,c[T+0],6,-198630844),w=x(w,p,g,_,c[T+7],10,1126891415),_=x(_,w,p,g,c[T+14],15,-1416354905),g=x(g,_,w,p,c[T+5],21,-57434055),p=x(p,g,_,w,c[T+12],6,1700485571),w=x(w,p,g,_,c[T+3],10,-1894986606),_=x(_,w,p,g,c[T+10],15,-1051523),g=x(g,_,w,p,c[T+1],21,-2054922799),p=x(p,g,_,w,c[T+8],6,1873313359),w=x(w,p,g,_,c[T+15],10,-30611744),_=x(_,w,p,g,c[T+6],15,-1560198380),g=x(g,_,w,p,c[T+13],21,1309151649),p=x(p,g,_,w,c[T+4],6,-145523070),w=x(w,p,g,_,c[T+11],10,-1120210379),_=x(_,w,p,g,c[T+2],15,718787259),g=x(g,_,w,p,c[T+9],21,-343485551),p=p+U>>>0,g=g+$>>>0,_=_+M>>>0,w=w+O>>>0}return r.endian([p,g,_,w])};s._ff=function(a,l,c,h,p,g,_){var w=a+(l&c|~l&h)+(p>>>0)+_;return(w<<g|w>>>32-g)+l},s._gg=function(a,l,c,h,p,g,_){var w=a+(l&h|c&~h)+(p>>>0)+_;return(w<<g|w>>>32-g)+l},s._hh=function(a,l,c,h,p,g,_){var w=a+(l^c^h)+(p>>>0)+_;return(w<<g|w>>>32-g)+l},s._ii=function(a,l,c,h,p,g,_){var w=a+(c^(l|~h))+(p>>>0)+_;return(w<<g|w>>>32-g)+l},s._blocksize=16,s._digestsize=16,oy.exports=function(a,l){if(a==null)throw new Error("Illegal argument "+a);var c=r.wordsToBytes(s(a,l));return l&&l.asBytes?c:l&&l.asString?n.bytesToString(c):r.bytesToHex(c)}}()),oy.exports}var cN=lN();const fN=Yt(cN);var X2=Hr(function r(e){var t=this;$r(this,r),xe(this,"props",null),xe(this,"isCompatible",function(){return!!t.props.email||!!t.props.md5Email}),xe(this,"get",function(n){var s=t.props,a=s.md5Email||fN(s.email),l=gd(s.size),c="https://secure.gravatar.com/avatar/".concat(a,"?d=404");l&&(c+="&s=".concat(l)),n({sourceName:"gravatar",src:c})}),this.props=e});xe(X2,"propTypes",{email:he.string,md5Email:he.string});var Z2=Hr(function r(e){var t=this;$r(this,r),xe(this,"props",null),xe(this,"isCompatible",function(){return!!t.props.facebookId}),xe(this,"get",function(n){var s,a=t.props.facebookId,l=gd(t.props.size),c="https://graph.facebook.com/".concat(a,"/picture");l&&(c+=el(s="?width=".concat(l,"&height=")).call(s,l)),n({sourceName:"facebook",src:c})}),this.props=e});xe(Z2,"propTypes",{facebookId:he.string});var eP=Hr(function r(e){var t=this;$r(this,r),xe(this,"props",null),xe(this,"isCompatible",function(){return!!t.props.githubHandle}),xe(this,"get",function(n){var s=t.props.githubHandle,a=gd(t.props.size),l="https://avatars.githubusercontent.com/".concat(s,"?v=4");a&&(l+="&s=".concat(a)),n({sourceName:"github",src:l})}),this.props=e});xe(eP,"propTypes",{githubHandle:he.string});var tP=Hr(function r(e){var t=this;$r(this,r),xe(this,"props",null),xe(this,"isCompatible",function(){return!!t.props.skypeId}),xe(this,"get",function(n){var s=t.props.skypeId,a="https://api.skype.com/users/".concat(s,"/profile/avatar");n({sourceName:"skype",src:a})}),this.props=e});xe(tP,"propTypes",{skypeId:he.string});var rP=function(){function r(e){var t=this;$r(this,r),xe(this,"props",null),xe(this,"isCompatible",function(){return!!(t.props.name||t.props.value||t.props.email)}),xe(this,"get",function(n){var s=t.getValue();if(!s)return n(null);n({sourceName:"text",value:s,color:t.getColor()})}),this.props=e}return Hr(r,[{key:"getInitials",value:function(){var t=this.props,n=t.name,s=t.initials;return typeof s=="string"?s:typeof s=="function"?s(n,this.props):H2(n,this.props)}},{key:"getValue",value:function(){return this.props.name?this.getInitials():this.props.value?this.props.value:null}},{key:"getColor",value:function(){var t=this.props,n=t.color,s=t.colors,a=t.name,l=t.email,c=t.value,h=a||l||c;return n||qv(h,s)}}]),r}();xe(rP,"propTypes",{color:he.string,name:he.string,value:he.string,email:he.string,maxInitials:he.number,initials:he.oneOfType([he.string,he.func])});var nP=Hr(function r(e){var t=this;$r(this,r),xe(this,"props",null),xe(this,"isCompatible",function(){return!!t.props.src}),xe(this,"get",function(n){n({sourceName:"src",src:t.props.src})}),this.props=e});xe(nP,"propTypes",{src:he.string});var iP=Hr(function r(e){var t=this;$r(this,r),xe(this,"props",null),xe(this,"icon",""),xe(this,"isCompatible",function(){return!0}),xe(this,"get",function(n){var s=t.props,a=s.color,l=s.colors;n({sourceName:"icon",value:t.icon,color:a||qv(t.icon,l)})}),this.props=e});xe(iP,"propTypes",{color:he.string});function _d(r,e){var t;return t=Hr(function n(s){var a=this;$r(this,n),xe(this,"props",null),xe(this,"isCompatible",function(){return!!a.props.avatarRedirectUrl&&!!a.props[e]}),xe(this,"get",function(l){var c,h,p,g=a.props.avatarRedirectUrl,_=gd(a.props.size),w=g.replace(/\/*$/,"/"),T=a.props[e],I=_?"size=".concat(_):"",A=el(c=el(h=el(p="".concat(w)).call(p,r,"/")).call(h,T,"?")).call(c,I);l({sourceName:r,src:A})}),this.props=s}),xe(t,"propTypes",xe({},e,he.oneOfType([he.string,he.number]))),t}const dN=_d("twitter","twitterHandle"),hN=_d("vkontakte","vkontakteId"),pN=_d("instagram","instagramId"),mN=_d("google","googleId");var gN=[Z2,mN,eP,dN,pN,hN,tP,X2,nP,rP,iP];const yN=oN({sources:gN});var sP={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},hI=ft.createContext&&ft.createContext(sP),vN=["attr","size","title"];function _N(r,e){if(r==null)return{};var t=wN(r,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}function wN(r,e){if(r==null)return{};var t={};for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)){if(e.indexOf(n)>=0)continue;t[n]=r[n]}return t}function Pf(){return Pf=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Pf.apply(this,arguments)}function pI(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),t.push.apply(t,n)}return t}function Cf(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?pI(Object(t),!0).forEach(function(n){EN(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):pI(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function EN(r,e,t){return e=TN(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function TN(r){var e=SN(r,"string");return typeof e=="symbol"?e:e+""}function SN(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function oP(r){return r&&r.map((e,t)=>ft.createElement(e.tag,Cf({key:t},e.attr),oP(e.child)))}function kt(r){return e=>ft.createElement(IN,Pf({attr:Cf({},r.attr)},e),oP(r.child))}function IN(r){var e=t=>{var{attr:n,size:s,title:a}=r,l=_N(r,vN),c=s||t.size||"1em",h;return t.className&&(h=t.className),r.className&&(h=(h?h+" ":"")+r.className),ft.createElement("svg",Pf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,n,l,{className:h,style:Cf(Cf({color:r.color||t.color},t.style),r.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),a&&ft.createElement("title",null,a),r.children)};return hI!==void 0?ft.createElement(hI.Consumer,null,t=>e(t)):e(sP)}function RN(r){return kt({tag:"svg",attr:{version:"1.1",id:"search",x:"0px",y:"0px",viewBox:"0 0 24 24",style:"enable-background:new 0 0 24 24;"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{d:`M20.031,20.79c0.46,0.46,1.17-0.25,0.71-0.7l-3.75-3.76c1.27-1.41,2.04-3.27,2.04-5.31
		c0-4.39-3.57-7.96-7.96-7.96s-7.96,3.57-7.96,7.96c0,4.39,3.57,7.96,7.96,7.96c1.98,0,3.81-0.73,5.21-1.94L20.031,20.79z
		 M4.11,11.02c0-3.84,3.13-6.96,6.96-6.96c3.84,0,6.96,3.12,6.96,6.96c0,3.84-3.12,6.96-6.96,6.96C7.24,17.98,4.11,14.86,4.11,11.02
		z`},child:[]}]}]})(r)}function aP(r){return kt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Star"},child:[{tag:"path",attr:{d:"M16.6,20.463a1.5,1.5,0,0,1-.7-.174l-3.666-1.927a.5.5,0,0,0-.464,0L8.1,20.289a1.5,1.5,0,0,1-2.177-1.581l.7-4.082a.5.5,0,0,0-.143-.442L3.516,11.293a1.5,1.5,0,0,1,.832-2.559l4.1-.6a.5.5,0,0,0,.376-.273l1.833-3.714a1.5,1.5,0,0,1,2.69,0l1.833,3.714a.5.5,0,0,0,.376.274l4.1.6a1.5,1.5,0,0,1,.832,2.559l-2.965,2.891a.5.5,0,0,0-.144.442l.7,4.082A1.5,1.5,0,0,1,16.6,20.463Zm-3.9-2.986L16.364,19.4a.5.5,0,0,0,.725-.527l-.7-4.082a1.5,1.5,0,0,1,.432-1.328l2.965-2.89a.5.5,0,0,0-.277-.853l-4.1-.6a1.5,1.5,0,0,1-1.13-.821L12.449,4.594a.516.516,0,0,0-.9,0L9.719,8.308a1.5,1.5,0,0,1-1.13.82l-4.1.6a.5.5,0,0,0-.277.853L7.18,13.468A1.5,1.5,0,0,1,7.611,14.8l-.7,4.082a.5.5,0,0,0,.726.527L11.3,17.477a1.5,1.5,0,0,1,1.4,0Z"},child:[]}]}]})(r)}function uP(r){return kt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M32 96v64h448V96H32zm0 128v64h448v-64H32zm0 128v64h448v-64H32z"},child:[]}]})(r)}var cy={exports:{}},fy={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mI;function PN(){if(mI)return fy;mI=1;var r=Za();function e(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var t=typeof Object.is=="function"?Object.is:e,n=r.useSyncExternalStore,s=r.useRef,a=r.useEffect,l=r.useMemo,c=r.useDebugValue;return fy.useSyncExternalStoreWithSelector=function(h,p,g,_,w){var T=s(null);if(T.current===null){var I={hasValue:!1,value:null};T.current=I}else I=T.current;T=l(function(){function C(O){if(!x){if(x=!0,U=O,O=_(O),w!==void 0&&I.hasValue){var H=I.value;if(w(H,O))return $=H}return $=O}if(H=$,t(U,O))return H;var k=_(O);return w!==void 0&&w(H,k)?(U=O,H):(U=O,$=k)}var x=!1,U,$,M=g===void 0?null:g;return[function(){return C(p())},M===null?void 0:function(){return C(M())}]},[p,g,_,w]);var A=n(h,T[0],T[1]);return a(function(){I.hasValue=!0,I.value=A},[A]),c(A),A},fy}var gI;function CN(){return gI||(gI=1,cy.exports=PN()),cy.exports}var AN=CN();function bN(r){r()}function kN(){let r=null,e=null;return{clear(){r=null,e=null},notify(){bN(()=>{let t=r;for(;t;)t.callback(),t=t.next})},get(){const t=[];let n=r;for(;n;)t.push(n),n=n.next;return t},subscribe(t){let n=!0;const s=e={callback:t,next:null,prev:e};return s.prev?s.prev.next=s:r=s,function(){!n||r===null||(n=!1,s.next?s.next.prev=s.prev:e=s.prev,s.prev?s.prev.next=s.next:r=s.next)}}}}var yI={notify(){},get:()=>[]};function ON(r,e){let t,n=yI,s=0,a=!1;function l(A){g();const C=n.subscribe(A);let x=!1;return()=>{x||(x=!0,C(),_())}}function c(){n.notify()}function h(){I.onStateChange&&I.onStateChange()}function p(){return a}function g(){s++,t||(t=r.subscribe(h),n=kN())}function _(){s--,t&&s===0&&(t(),t=void 0,n.clear(),n=yI)}function w(){a||(a=!0,g())}function T(){a&&(a=!1,_())}const I={addNestedSub:l,notifyNestedSubs:c,handleChangeWrapper:h,isSubscribed:p,trySubscribe:w,tryUnsubscribe:T,getListeners:()=>n};return I}var xN=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",DN=xN(),NN=()=>typeof navigator<"u"&&navigator.product==="ReactNative",LN=NN(),MN=()=>DN||LN?Y.useLayoutEffect:Y.useEffect,VN=MN(),dy=Symbol.for("react-redux-context"),hy=typeof globalThis<"u"?globalThis:{};function FN(){if(!Y.createContext)return{};const r=hy[dy]??(hy[dy]=new Map);let e=r.get(Y.createContext);return e||(e=Y.createContext(null),r.set(Y.createContext,e)),e}var Ks=FN();function jN(r){const{children:e,context:t,serverState:n,store:s}=r,a=Y.useMemo(()=>{const h=ON(s);return{store:s,subscription:h,getServerState:n?()=>n:void 0}},[s,n]),l=Y.useMemo(()=>s.getState(),[s]);VN(()=>{const{subscription:h}=a;return h.onStateChange=h.notifyNestedSubs,h.trySubscribe(),l!==s.getState()&&h.notifyNestedSubs(),()=>{h.tryUnsubscribe(),h.onStateChange=void 0}},[a,l]);const c=t||Ks;return Y.createElement(c.Provider,{value:a},e)}var UN=jN;function Yv(r=Ks){return function(){return Y.useContext(r)}}var lP=Yv();function cP(r=Ks){const e=r===Ks?lP:Yv(r),t=()=>{const{store:n}=e();return n};return Object.assign(t,{withTypes:()=>t}),t}var BN=cP();function zN(r=Ks){const e=r===Ks?BN:cP(r),t=()=>e().dispatch;return Object.assign(t,{withTypes:()=>t}),t}var ru=zN(),qN=(r,e)=>r===e;function $N(r=Ks){const e=r===Ks?lP:Yv(r),t=(n,s={})=>{const{equalityFn:a=qN}=typeof s=="function"?{equalityFn:s}:s,l=e(),{store:c,subscription:h,getServerState:p}=l;Y.useRef(!0);const g=Y.useCallback({[n.name](w){return n(w)}}[n.name],[n]),_=AN.useSyncExternalStoreWithSelector(h.addNestedSub,c.getState,p||c.getState,g,a);return Y.useDebugValue(_),_};return Object.assign(t,{withTypes:()=>t}),t}var Bs=$N();function yr(r){return`Minified Redux error #${r}; visit https://redux.js.org/Errors?code=${r} for the full message or use the non-minified dev environment for full errors. `}var HN=typeof Symbol=="function"&&Symbol.observable||"@@observable",vI=HN,py=()=>Math.random().toString(36).substring(7).split("").join("."),WN={INIT:`@@redux/INIT${py()}`,REPLACE:`@@redux/REPLACE${py()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${py()}`},Af=WN;function Jv(r){if(typeof r!="object"||r===null)return!1;let e=r;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(r)===e||Object.getPrototypeOf(r)===null}function fP(r,e,t){if(typeof r!="function")throw new Error(yr(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(yr(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(yr(1));return t(fP)(r,e)}let n=r,s=e,a=new Map,l=a,c=0,h=!1;function p(){l===a&&(l=new Map,a.forEach((C,x)=>{l.set(x,C)}))}function g(){if(h)throw new Error(yr(3));return s}function _(C){if(typeof C!="function")throw new Error(yr(4));if(h)throw new Error(yr(5));let x=!0;p();const U=c++;return l.set(U,C),function(){if(x){if(h)throw new Error(yr(6));x=!1,p(),l.delete(U),a=null}}}function w(C){if(!Jv(C))throw new Error(yr(7));if(typeof C.type>"u")throw new Error(yr(8));if(typeof C.type!="string")throw new Error(yr(17));if(h)throw new Error(yr(9));try{h=!0,s=n(s,C)}finally{h=!1}return(a=l).forEach(U=>{U()}),C}function T(C){if(typeof C!="function")throw new Error(yr(10));n=C,w({type:Af.REPLACE})}function I(){const C=_;return{subscribe(x){if(typeof x!="object"||x===null)throw new Error(yr(11));function U(){const M=x;M.next&&M.next(g())}return U(),{unsubscribe:C(U)}},[vI](){return this}}}return w({type:Af.INIT}),{dispatch:w,subscribe:_,getState:g,replaceReducer:T,[vI]:I}}function GN(r){Object.keys(r).forEach(e=>{const t=r[e];if(typeof t(void 0,{type:Af.INIT})>"u")throw new Error(yr(12));if(typeof t(void 0,{type:Af.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(yr(13))})}function KN(r){const e=Object.keys(r),t={};for(let a=0;a<e.length;a++){const l=e[a];typeof r[l]=="function"&&(t[l]=r[l])}const n=Object.keys(t);let s;try{GN(t)}catch(a){s=a}return function(l={},c){if(s)throw s;let h=!1;const p={};for(let g=0;g<n.length;g++){const _=n[g],w=t[_],T=l[_],I=w(T,c);if(typeof I>"u")throw c&&c.type,new Error(yr(14));p[_]=I,h=h||I!==T}return h=h||n.length!==Object.keys(l).length,h?p:l}}function bf(...r){return r.length===0?e=>e:r.length===1?r[0]:r.reduce((e,t)=>(...n)=>e(t(...n)))}function QN(...r){return e=>(t,n)=>{const s=e(t,n);let a=()=>{throw new Error(yr(15))};const l={getState:s.getState,dispatch:(h,...p)=>a(h,...p)},c=r.map(h=>h(l));return a=bf(...c)(s.dispatch),{...s,dispatch:a}}}function YN(r){return Jv(r)&&"type"in r&&typeof r.type=="string"}var dP=Symbol.for("immer-nothing"),_I=Symbol.for("immer-draftable"),vn=Symbol.for("immer-state");function ri(r,...e){throw new Error(`[Immer] minified error nr: ${r}. Full error at: https://bit.ly/3cXEKWf`)}var $a=Object.getPrototypeOf;function Lo(r){return!!r&&!!r[vn]}function ss(r){var e;return r?hP(r)||Array.isArray(r)||!!r[_I]||!!((e=r.constructor)!=null&&e[_I])||Ed(r)||Td(r):!1}var JN=Object.prototype.constructor.toString();function hP(r){if(!r||typeof r!="object")return!1;const e=$a(r);if(e===null)return!0;const t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return t===Object?!0:typeof t=="function"&&Function.toString.call(t)===JN}function kf(r,e){wd(r)===0?Reflect.ownKeys(r).forEach(t=>{e(t,r[t],r)}):r.forEach((t,n)=>e(n,t,r))}function wd(r){const e=r[vn];return e?e.type_:Array.isArray(r)?1:Ed(r)?2:Td(r)?3:0}function Uy(r,e){return wd(r)===2?r.has(e):Object.prototype.hasOwnProperty.call(r,e)}function pP(r,e,t){const n=wd(r);n===2?r.set(e,t):n===3?r.add(t):r[e]=t}function XN(r,e){return r===e?r!==0||1/r===1/e:r!==r&&e!==e}function Ed(r){return r instanceof Map}function Td(r){return r instanceof Set}function Po(r){return r.copy_||r.base_}function By(r,e){if(Ed(r))return new Map(r);if(Td(r))return new Set(r);if(Array.isArray(r))return Array.prototype.slice.call(r);const t=hP(r);if(e===!0||e==="class_only"&&!t){const n=Object.getOwnPropertyDescriptors(r);delete n[vn];let s=Reflect.ownKeys(n);for(let a=0;a<s.length;a++){const l=s[a],c=n[l];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(n[l]={configurable:!0,writable:!0,enumerable:c.enumerable,value:r[l]})}return Object.create($a(r),n)}else{const n=$a(r);if(n!==null&&t)return{...r};const s=Object.create(n);return Object.assign(s,r)}}function Xv(r,e=!1){return Sd(r)||Lo(r)||!ss(r)||(wd(r)>1&&(r.set=r.add=r.clear=r.delete=ZN),Object.freeze(r),e&&Object.entries(r).forEach(([t,n])=>Xv(n,!0))),r}function ZN(){ri(2)}function Sd(r){return Object.isFrozen(r)}var eL={};function Mo(r){const e=eL[r];return e||ri(0,r),e}var ul;function mP(){return ul}function tL(r,e){return{drafts_:[],parent_:r,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function wI(r,e){e&&(Mo("Patches"),r.patches_=[],r.inversePatches_=[],r.patchListener_=e)}function zy(r){qy(r),r.drafts_.forEach(rL),r.drafts_=null}function qy(r){r===ul&&(ul=r.parent_)}function EI(r){return ul=tL(ul,r)}function rL(r){const e=r[vn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function TI(r,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];return r!==void 0&&r!==t?(t[vn].modified_&&(zy(e),ri(4)),ss(r)&&(r=Of(e,r),e.parent_||xf(e,r)),e.patches_&&Mo("Patches").generateReplacementPatches_(t[vn].base_,r,e.patches_,e.inversePatches_)):r=Of(e,t,[]),zy(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),r!==dP?r:void 0}function Of(r,e,t){if(Sd(e))return e;const n=e[vn];if(!n)return kf(e,(s,a)=>SI(r,n,e,s,a,t)),e;if(n.scope_!==r)return e;if(!n.modified_)return xf(r,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const s=n.copy_;let a=s,l=!1;n.type_===3&&(a=new Set(s),s.clear(),l=!0),kf(a,(c,h)=>SI(r,n,s,c,h,t,l)),xf(r,s,!1),t&&r.patches_&&Mo("Patches").generatePatches_(n,t,r.patches_,r.inversePatches_)}return n.copy_}function SI(r,e,t,n,s,a,l){if(Lo(s)){const c=a&&e&&e.type_!==3&&!Uy(e.assigned_,n)?a.concat(n):void 0,h=Of(r,s,c);if(pP(t,n,h),Lo(h))r.canAutoFreeze_=!1;else return}else l&&t.add(s);if(ss(s)&&!Sd(s)){if(!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1)return;Of(r,s),(!e||!e.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(t,n)&&xf(r,s)}}function xf(r,e,t=!1){!r.parent_&&r.immer_.autoFreeze_&&r.canAutoFreeze_&&Xv(e,t)}function nL(r,e){const t=Array.isArray(r),n={type_:t?1:0,scope_:e?e.scope_:mP(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:r,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=n,a=Zv;t&&(s=[n],a=ll);const{revoke:l,proxy:c}=Proxy.revocable(s,a);return n.draft_=c,n.revoke_=l,c}var Zv={get(r,e){if(e===vn)return r;const t=Po(r);if(!Uy(t,e))return iL(r,t,e);const n=t[e];return r.finalized_||!ss(n)?n:n===my(r.base_,e)?(gy(r),r.copy_[e]=Hy(n,r)):n},has(r,e){return e in Po(r)},ownKeys(r){return Reflect.ownKeys(Po(r))},set(r,e,t){const n=gP(Po(r),e);if(n!=null&&n.set)return n.set.call(r.draft_,t),!0;if(!r.modified_){const s=my(Po(r),e),a=s==null?void 0:s[vn];if(a&&a.base_===t)return r.copy_[e]=t,r.assigned_[e]=!1,!0;if(XN(t,s)&&(t!==void 0||Uy(r.base_,e)))return!0;gy(r),$y(r)}return r.copy_[e]===t&&(t!==void 0||e in r.copy_)||Number.isNaN(t)&&Number.isNaN(r.copy_[e])||(r.copy_[e]=t,r.assigned_[e]=!0),!0},deleteProperty(r,e){return my(r.base_,e)!==void 0||e in r.base_?(r.assigned_[e]=!1,gy(r),$y(r)):delete r.assigned_[e],r.copy_&&delete r.copy_[e],!0},getOwnPropertyDescriptor(r,e){const t=Po(r),n=Reflect.getOwnPropertyDescriptor(t,e);return n&&{writable:!0,configurable:r.type_!==1||e!=="length",enumerable:n.enumerable,value:t[e]}},defineProperty(){ri(11)},getPrototypeOf(r){return $a(r.base_)},setPrototypeOf(){ri(12)}},ll={};kf(Zv,(r,e)=>{ll[r]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});ll.deleteProperty=function(r,e){return ll.set.call(this,r,e,void 0)};ll.set=function(r,e,t){return Zv.set.call(this,r[0],e,t,r[0])};function my(r,e){const t=r[vn];return(t?Po(t):r)[e]}function iL(r,e,t){var s;const n=gP(e,t);return n?"value"in n?n.value:(s=n.get)==null?void 0:s.call(r.draft_):void 0}function gP(r,e){if(!(e in r))return;let t=$a(r);for(;t;){const n=Object.getOwnPropertyDescriptor(t,e);if(n)return n;t=$a(t)}}function $y(r){r.modified_||(r.modified_=!0,r.parent_&&$y(r.parent_))}function gy(r){r.copy_||(r.copy_=By(r.base_,r.scope_.immer_.useStrictShallowCopy_))}var sL=class{constructor(r){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,n)=>{if(typeof e=="function"&&typeof t!="function"){const a=t;t=e;const l=this;return function(h=a,...p){return l.produce(h,g=>t.call(this,g,...p))}}typeof t!="function"&&ri(6),n!==void 0&&typeof n!="function"&&ri(7);let s;if(ss(e)){const a=EI(this),l=Hy(e,void 0);let c=!0;try{s=t(l),c=!1}finally{c?zy(a):qy(a)}return wI(a,n),TI(s,a)}else if(!e||typeof e!="object"){if(s=t(e),s===void 0&&(s=e),s===dP&&(s=void 0),this.autoFreeze_&&Xv(s,!0),n){const a=[],l=[];Mo("Patches").generateReplacementPatches_(e,s,a,l),n(a,l)}return s}else ri(1,e)},this.produceWithPatches=(e,t)=>{if(typeof e=="function")return(l,...c)=>this.produceWithPatches(l,h=>e(h,...c));let n,s;return[this.produce(e,t,(l,c)=>{n=l,s=c}),n,s]},typeof(r==null?void 0:r.autoFreeze)=="boolean"&&this.setAutoFreeze(r.autoFreeze),typeof(r==null?void 0:r.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(r.useStrictShallowCopy)}createDraft(r){ss(r)||ri(8),Lo(r)&&(r=oL(r));const e=EI(this),t=Hy(r,void 0);return t[vn].isManual_=!0,qy(e),t}finishDraft(r,e){const t=r&&r[vn];(!t||!t.isManual_)&&ri(9);const{scope_:n}=t;return wI(n,e),TI(void 0,n)}setAutoFreeze(r){this.autoFreeze_=r}setUseStrictShallowCopy(r){this.useStrictShallowCopy_=r}applyPatches(r,e){let t;for(t=e.length-1;t>=0;t--){const s=e[t];if(s.path.length===0&&s.op==="replace"){r=s.value;break}}t>-1&&(e=e.slice(t+1));const n=Mo("Patches").applyPatches_;return Lo(r)?n(r,e):this.produce(r,s=>n(s,e))}};function Hy(r,e){const t=Ed(r)?Mo("MapSet").proxyMap_(r,e):Td(r)?Mo("MapSet").proxySet_(r,e):nL(r,e);return(e?e.scope_:mP()).drafts_.push(t),t}function oL(r){return Lo(r)||ri(10,r),yP(r)}function yP(r){if(!ss(r)||Sd(r))return r;const e=r[vn];let t;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=By(r,e.scope_.immer_.useStrictShallowCopy_)}else t=By(r,!0);return kf(t,(n,s)=>{pP(t,n,yP(s))}),e&&(e.finalized_=!1),t}var _n=new sL,vP=_n.produce;_n.produceWithPatches.bind(_n);_n.setAutoFreeze.bind(_n);_n.setUseStrictShallowCopy.bind(_n);_n.applyPatches.bind(_n);_n.createDraft.bind(_n);_n.finishDraft.bind(_n);function _P(r){return({dispatch:t,getState:n})=>s=>a=>typeof a=="function"?a(t,n,r):s(a)}var aL=_P(),uL=_P,lL=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?bf:bf.apply(null,arguments)};function II(r,e){function t(...n){if(e){let s=e(...n);if(!s)throw new Error(is(0));return{type:r,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:r,payload:n[0]}}return t.toString=()=>`${r}`,t.type=r,t.match=n=>YN(n)&&n.type===r,t}var wP=class Qu extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Qu.prototype)}static get[Symbol.species](){return Qu}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Qu(...e[0].concat(this)):new Qu(...e.concat(this))}};function RI(r){return ss(r)?vP(r,()=>{}):r}function PI(r,e,t){return r.has(e)?r.get(e):r.set(e,t(e)).get(e)}function cL(r){return typeof r=="boolean"}var fL=()=>function(e){const{thunk:t=!0,immutableCheck:n=!0,serializableCheck:s=!0,actionCreatorCheck:a=!0}=e??{};let l=new wP;return t&&(cL(t)?l.push(aL):l.push(uL(t.extraArgument))),l},dL="RTK_autoBatch",CI=r=>e=>{setTimeout(e,r)},hL=(r={type:"raf"})=>e=>(...t)=>{const n=e(...t);let s=!0,a=!1,l=!1;const c=new Set,h=r.type==="tick"?queueMicrotask:r.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:CI(10):r.type==="callback"?r.queueNotification:CI(r.timeout),p=()=>{l=!1,a&&(a=!1,c.forEach(g=>g()))};return Object.assign({},n,{subscribe(g){const _=()=>s&&g(),w=n.subscribe(_);return c.add(g),()=>{w(),c.delete(g)}},dispatch(g){var _;try{return s=!((_=g==null?void 0:g.meta)!=null&&_[dL]),a=!s,a&&(l||(l=!0,h(p))),n.dispatch(g)}finally{s=!0}}})},pL=r=>function(t){const{autoBatch:n=!0}=t??{};let s=new wP(r);return n&&s.push(hL(typeof n=="object"?n:void 0)),s};function mL(r){const e=fL(),{reducer:t=void 0,middleware:n,devTools:s=!0,preloadedState:a=void 0,enhancers:l=void 0}=r;let c;if(typeof t=="function")c=t;else if(Jv(t))c=KN(t);else throw new Error(is(1));let h;typeof n=="function"?h=n(e):h=e();let p=bf;s&&(p=lL({trace:!1,...typeof s=="object"&&s}));const g=QN(...h),_=pL(g);let w=typeof l=="function"?l(_):_();const T=p(...w);return fP(c,a,T)}function EP(r){const e={},t=[];let n;const s={addCase(a,l){const c=typeof a=="string"?a:a.type;if(!c)throw new Error(is(28));if(c in e)throw new Error(is(29));return e[c]=l,s},addMatcher(a,l){return t.push({matcher:a,reducer:l}),s},addDefaultCase(a){return n=a,s}};return r(s),[e,t,n]}function gL(r){return typeof r=="function"}function yL(r,e){let[t,n,s]=EP(e),a;if(gL(r))a=()=>RI(r());else{const c=RI(r);a=()=>c}function l(c=a(),h){let p=[t[h.type],...n.filter(({matcher:g})=>g(h)).map(({reducer:g})=>g)];return p.filter(g=>!!g).length===0&&(p=[s]),p.reduce((g,_)=>{if(_)if(Lo(g)){const T=_(g,h);return T===void 0?g:T}else{if(ss(g))return vP(g,w=>_(w,h));{const w=_(g,h);if(w===void 0){if(g===null)return g;throw Error("A case reducer on a non-draftable value must not return undefined")}return w}}return g},c)}return l.getInitialState=a,l}var vL=Symbol.for("rtk-slice-createasyncthunk");function _L(r,e){return`${r}/${e}`}function wL({creators:r}={}){var t;const e=(t=r==null?void 0:r.asyncThunk)==null?void 0:t[vL];return function(s){const{name:a,reducerPath:l=a}=s;if(!a)throw new Error(is(11));const c=(typeof s.reducers=="function"?s.reducers(SL()):s.reducers)||{},h=Object.keys(c),p={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},g={addCase($,M){const O=typeof $=="string"?$:$.type;if(!O)throw new Error(is(12));if(O in p.sliceCaseReducersByType)throw new Error(is(13));return p.sliceCaseReducersByType[O]=M,g},addMatcher($,M){return p.sliceMatchers.push({matcher:$,reducer:M}),g},exposeAction($,M){return p.actionCreators[$]=M,g},exposeCaseReducer($,M){return p.sliceCaseReducersByName[$]=M,g}};h.forEach($=>{const M=c[$],O={reducerName:$,type:_L(a,$),createNotation:typeof s.reducers=="function"};RL(M)?CL(O,M,g,e):IL(O,M,g)});function _(){const[$={},M=[],O=void 0]=typeof s.extraReducers=="function"?EP(s.extraReducers):[s.extraReducers],H={...$,...p.sliceCaseReducersByType};return yL(s.initialState,k=>{for(let R in H)k.addCase(R,H[R]);for(let R of p.sliceMatchers)k.addMatcher(R.matcher,R.reducer);for(let R of M)k.addMatcher(R.matcher,R.reducer);O&&k.addDefaultCase(O)})}const w=$=>$,T=new Map;let I;function A($,M){return I||(I=_()),I($,M)}function C(){return I||(I=_()),I.getInitialState()}function x($,M=!1){function O(k){let R=k[$];return typeof R>"u"&&M&&(R=C()),R}function H(k=w){const R=PI(T,M,()=>new WeakMap);return PI(R,k,()=>{const b={};for(const[N,V]of Object.entries(s.selectors??{}))b[N]=EL(V,k,C,M);return b})}return{reducerPath:$,getSelectors:H,get selectors(){return H(O)},selectSlice:O}}const U={name:a,reducer:A,actions:p.actionCreators,caseReducers:p.sliceCaseReducersByName,getInitialState:C,...x(l),injectInto($,{reducerPath:M,...O}={}){const H=M??l;return $.inject({reducerPath:H,reducer:A},O),{...U,...x(H,!0)}}};return U}}function EL(r,e,t,n){function s(a,...l){let c=e(a);return typeof c>"u"&&n&&(c=t()),r(c,...l)}return s.unwrapped=r,s}var TL=wL();function SL(){function r(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return r.withTypes=()=>r,{reducer(e){return Object.assign({[e.name](...t){return e(...t)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,t){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}},asyncThunk:r}}function IL({type:r,reducerName:e,createNotation:t},n,s){let a,l;if("reducer"in n){if(t&&!PL(n))throw new Error(is(17));a=n.reducer,l=n.prepare}else a=n;s.addCase(r,a).exposeCaseReducer(e,a).exposeAction(e,l?II(r,l):II(r))}function RL(r){return r._reducerDefinitionType==="asyncThunk"}function PL(r){return r._reducerDefinitionType==="reducerWithPrepare"}function CL({type:r,reducerName:e},t,n,s){if(!s)throw new Error(is(18));const{payloadCreator:a,fulfilled:l,pending:c,rejected:h,settled:p,options:g}=t,_=s(r,a,g);n.exposeAction(e,_),l&&n.addCase(_.fulfilled,l),c&&n.addCase(_.pending,c),h&&n.addCase(_.rejected,h),p&&n.addMatcher(_.settled,p),n.exposeCaseReducer(e,{fulfilled:l||Jc,pending:c||Jc,rejected:h||Jc,settled:p||Jc})}function Jc(){}function is(r){return`Minified Redux Toolkit error #${r}; visit https://redux-toolkit.js.org/Errors?code=${r} for the full message or use the non-minified dev environment for full errors. `}const TP=TL({name:"open",initialState:{value:!1,allemails:[],selectedmails:null,searchtext:"",user:null},reducers:{open:(r,e)=>{r.value=e.payload},setemail:(r,e)=>{r.allemails=e.payload},setselectedemail:(r,e)=>{r.selectedmails=e.payload},setsearchtext:(r,e)=>{r.searchtext=e.payload},setuser:(r,e)=>{r.user=e.payload}}}),{open:Df,setemail:AL,setselectedemail:bL,setsearchtext:kL,setuser:SP}=TP.actions,OL=TP.reducer;var AI={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP=function(r){const e=[];let t=0;for(let n=0;n<r.length;n++){let s=r.charCodeAt(n);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&n+1<r.length&&(r.charCodeAt(n+1)&64512)===56320?(s=65536+((s&1023)<<10)+(r.charCodeAt(++n)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},xL=function(r){const e=[];let t=0,n=0;for(;t<r.length;){const s=r[t++];if(s<128)e[n++]=String.fromCharCode(s);else if(s>191&&s<224){const a=r[t++];e[n++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=r[t++],l=r[t++],c=r[t++],h=((s&7)<<18|(a&63)<<12|(l&63)<<6|c&63)-65536;e[n++]=String.fromCharCode(55296+(h>>10)),e[n++]=String.fromCharCode(56320+(h&1023))}else{const a=r[t++],l=r[t++];e[n++]=String.fromCharCode((s&15)<<12|(a&63)<<6|l&63)}}return e.join("")},RP={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let s=0;s<r.length;s+=3){const a=r[s],l=s+1<r.length,c=l?r[s+1]:0,h=s+2<r.length,p=h?r[s+2]:0,g=a>>2,_=(a&3)<<4|c>>4;let w=(c&15)<<2|p>>6,T=p&63;h||(T=64,l||(w=64)),n.push(t[g],t[_],t[w],t[T])}return n.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(IP(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):xL(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let s=0;s<r.length;){const a=t[r.charAt(s++)],c=s<r.length?t[r.charAt(s)]:0;++s;const p=s<r.length?t[r.charAt(s)]:64;++s;const _=s<r.length?t[r.charAt(s)]:64;if(++s,a==null||c==null||p==null||_==null)throw new DL;const w=a<<2|c>>4;if(n.push(w),p!==64){const T=c<<4&240|p>>2;if(n.push(T),_!==64){const I=p<<6&192|_;n.push(I)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class DL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const NL=function(r){const e=IP(r);return RP.encodeByteArray(e,!0)},Nf=function(r){return NL(r).replace(/\./g,"")},PP=function(r){try{return RP.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ML=()=>LL().__FIREBASE_DEFAULTS__,VL=()=>{if(typeof process>"u"||typeof AI>"u")return;const r=AI.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},FL=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&PP(r[1]);return e&&JSON.parse(e)},Id=()=>{try{return ML()||VL()||FL()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},CP=r=>{var e,t;return(t=(e=Id())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},jL=r=>{const e=CP(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),n]:[e.substring(0,t),n]},AP=()=>{var r;return(r=Id())===null||r===void 0?void 0:r.config},bP=r=>{var e;return(e=Id())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UL{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BL(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},n=e||"demo-project",s=r.iat||0,a=r.sub||r.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Nf(JSON.stringify(t)),Nf(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zL(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Dr())}function qL(){var r;const e=(r=Id())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $L(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function kP(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function HL(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function WL(){const r=Dr();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function GL(){return!qL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function OP(){try{return typeof indexedDB=="object"}catch{return!1}}function xP(){return new Promise((r,e)=>{try{let t=!0;const n="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(n);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(n),r(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var a;e(((a=s.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}function KL(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QL="FirebaseError";class fi extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name=QL,Object.setPrototypeOf(this,fi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ho.prototype.create)}}class Ho{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},s=`${this.service}/${e}`,a=this.errors[e],l=a?YL(a,n):"Error",c=`${this.serviceName}: ${l} (${s}).`;return new fi(s,c,n)}}function YL(r,e){return r.replace(JL,(t,n)=>{const s=e[n];return s!=null?String(s):`<${n}?>`})}const JL=/\{\$([^}]+)}/g;function XL(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function cl(r,e){if(r===e)return!0;const t=Object.keys(r),n=Object.keys(e);for(const s of t){if(!n.includes(s))return!1;const a=r[s],l=e[s];if(bI(a)&&bI(l)){if(!cl(a,l))return!1}else if(a!==l)return!1}for(const s of n)if(!t.includes(s))return!1;return!0}function bI(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ol(r){const e=[];for(const[t,n]of Object.entries(r))Array.isArray(n)?n.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function ZL(r,e){const t=new eM(r,e);return t.subscribe.bind(t)}class eM{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let s;if(e===void 0&&t===void 0&&n===void 0)throw new Error("Missing Observer.");tM(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:n},s.next===void 0&&(s.next=yy),s.error===void 0&&(s.error=yy),s.complete===void 0&&(s.complete=yy);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function tM(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function yy(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rM=1e3,nM=2,iM=4*60*60*1e3,sM=.5;function kI(r,e=rM,t=nM){const n=e*Math.pow(t,r),s=Math.round(sM*n*(Math.random()-.5)*2);return Math.min(iM,n+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nr(r){return r&&r._delegate?r._delegate:r}class oi{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Co="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const n=new UL;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&n.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(uM(e))try{this.getOrInitializeService({instanceIdentifier:Co})}catch{}for(const[t,n]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:s});n.resolve(a)}catch{}}}}clearInstance(e=Co){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Co){return this.instances.has(e)}getOptions(e=Co){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[a,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);n===c&&l.resolve(s)}return s}onInit(e,t){var n;const s=this.normalizeInstanceIdentifier(t),a=(n=this.onInitCallbacks.get(s))!==null&&n!==void 0?n:new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const s of n)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:aM(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Co){return this.component?this.component.multipleInstances?e:Co:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function aM(r){return r===Co?void 0:r}function uM(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new oM(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ze;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ze||(Ze={}));const cM={debug:Ze.DEBUG,verbose:Ze.VERBOSE,info:Ze.INFO,warn:Ze.WARN,error:Ze.ERROR,silent:Ze.SILENT},fM=Ze.INFO,dM={[Ze.DEBUG]:"log",[Ze.VERBOSE]:"log",[Ze.INFO]:"info",[Ze.WARN]:"warn",[Ze.ERROR]:"error"},hM=(r,e,...t)=>{if(e<r.logLevel)return;const n=new Date().toISOString(),s=dM[e];if(s)console[s](`[${n}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Rd{constructor(e){this.name=e,this._logLevel=fM,this._logHandler=hM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?cM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ze.DEBUG,...e),this._logHandler(this,Ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ze.VERBOSE,...e),this._logHandler(this,Ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ze.INFO,...e),this._logHandler(this,Ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ze.WARN,...e),this._logHandler(this,Ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ze.ERROR,...e),this._logHandler(this,Ze.ERROR,...e)}}const pM=(r,e)=>e.some(t=>r instanceof t);let OI,xI;function mM(){return OI||(OI=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gM(){return xI||(xI=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const DP=new WeakMap,Wy=new WeakMap,NP=new WeakMap,vy=new WeakMap,e_=new WeakMap;function yM(r){const e=new Promise((t,n)=>{const s=()=>{r.removeEventListener("success",a),r.removeEventListener("error",l)},a=()=>{t(zs(r.result)),s()},l=()=>{n(r.error),s()};r.addEventListener("success",a),r.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&DP.set(t,r)}).catch(()=>{}),e_.set(e,r),e}function vM(r){if(Wy.has(r))return;const e=new Promise((t,n)=>{const s=()=>{r.removeEventListener("complete",a),r.removeEventListener("error",l),r.removeEventListener("abort",l)},a=()=>{t(),s()},l=()=>{n(r.error||new DOMException("AbortError","AbortError")),s()};r.addEventListener("complete",a),r.addEventListener("error",l),r.addEventListener("abort",l)});Wy.set(r,e)}let Gy={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return Wy.get(r);if(e==="objectStoreNames")return r.objectStoreNames||NP.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return zs(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function _M(r){Gy=r(Gy)}function wM(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const n=r.call(_y(this),e,...t);return NP.set(n,e.sort?e.sort():[e]),zs(n)}:gM().includes(r)?function(...e){return r.apply(_y(this),e),zs(DP.get(this))}:function(...e){return zs(r.apply(_y(this),e))}}function EM(r){return typeof r=="function"?wM(r):(r instanceof IDBTransaction&&vM(r),pM(r,mM())?new Proxy(r,Gy):r)}function zs(r){if(r instanceof IDBRequest)return yM(r);if(vy.has(r))return vy.get(r);const e=EM(r);return e!==r&&(vy.set(r,e),e_.set(e,r)),e}const _y=r=>e_.get(r);function LP(r,e,{blocked:t,upgrade:n,blocking:s,terminated:a}={}){const l=indexedDB.open(r,e),c=zs(l);return n&&l.addEventListener("upgradeneeded",h=>{n(zs(l.result),h.oldVersion,h.newVersion,zs(l.transaction),h)}),t&&l.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),c.then(h=>{a&&h.addEventListener("close",()=>a()),s&&h.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),c}const TM=["get","getKey","getAll","getAllKeys","count"],SM=["put","add","delete","clear"],wy=new Map;function DI(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(wy.get(e))return wy.get(e);const t=e.replace(/FromIndex$/,""),n=e!==t,s=SM.includes(t);if(!(t in(n?IDBIndex:IDBObjectStore).prototype)||!(s||TM.includes(t)))return;const a=async function(l,...c){const h=this.transaction(l,s?"readwrite":"readonly");let p=h.store;return n&&(p=p.index(c.shift())),(await Promise.all([p[t](...c),s&&h.done]))[0]};return wy.set(e,a),a}_M(r=>({...r,get:(e,t,n)=>DI(e,t)||r.get(e,t,n),has:(e,t)=>!!DI(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(RM(t)){const n=t.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(t=>t).join(" ")}}function RM(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ky="@firebase/app",NI="0.10.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const os=new Rd("@firebase/app"),PM="@firebase/app-compat",CM="@firebase/analytics-compat",AM="@firebase/analytics",bM="@firebase/app-check-compat",kM="@firebase/app-check",OM="@firebase/auth",xM="@firebase/auth-compat",DM="@firebase/database",NM="@firebase/data-connect",LM="@firebase/database-compat",MM="@firebase/functions",VM="@firebase/functions-compat",FM="@firebase/installations",jM="@firebase/installations-compat",UM="@firebase/messaging",BM="@firebase/messaging-compat",zM="@firebase/performance",qM="@firebase/performance-compat",$M="@firebase/remote-config",HM="@firebase/remote-config-compat",WM="@firebase/storage",GM="@firebase/storage-compat",KM="@firebase/firestore",QM="@firebase/vertexai",YM="@firebase/firestore-compat",JM="firebase",XM="11.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qy="[DEFAULT]",ZM={[Ky]:"fire-core",[PM]:"fire-core-compat",[AM]:"fire-analytics",[CM]:"fire-analytics-compat",[kM]:"fire-app-check",[bM]:"fire-app-check-compat",[OM]:"fire-auth",[xM]:"fire-auth-compat",[DM]:"fire-rtdb",[NM]:"fire-data-connect",[LM]:"fire-rtdb-compat",[MM]:"fire-fn",[VM]:"fire-fn-compat",[FM]:"fire-iid",[jM]:"fire-iid-compat",[UM]:"fire-fcm",[BM]:"fire-fcm-compat",[zM]:"fire-perf",[qM]:"fire-perf-compat",[$M]:"fire-rc",[HM]:"fire-rc-compat",[WM]:"fire-gcs",[GM]:"fire-gcs-compat",[KM]:"fire-fst",[YM]:"fire-fst-compat",[QM]:"fire-vertex","fire-js":"fire-js",[JM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lf=new Map,e3=new Map,Yy=new Map;function LI(r,e){try{r.container.addComponent(e)}catch(t){os.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function Oi(r){const e=r.name;if(Yy.has(e))return os.debug(`There were multiple attempts to register component ${e}.`),!1;Yy.set(e,r);for(const t of Lf.values())LI(t,r);for(const t of e3.values())LI(t,r);return!0}function Wo(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function es(r){return r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qs=new Ho("app","Firebase",t3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r3{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new oi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nu=XM;function MP(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const n=Object.assign({name:Qy,automaticDataCollectionEnabled:!1},e),s=n.name;if(typeof s!="string"||!s)throw qs.create("bad-app-name",{appName:String(s)});if(t||(t=AP()),!t)throw qs.create("no-options");const a=Lf.get(s);if(a){if(cl(t,a.options)&&cl(n,a.config))return a;throw qs.create("duplicate-app",{appName:s})}const l=new lM(s);for(const h of Yy.values())l.addComponent(h);const c=new r3(t,n,l);return Lf.set(s,c),c}function t_(r=Qy){const e=Lf.get(r);if(!e&&r===Qy&&AP())return MP();if(!e)throw qs.create("no-app",{appName:r});return e}function Nn(r,e,t){var n;let s=(n=ZM[r])!==null&&n!==void 0?n:r;t&&(s+=`-${t}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${s}" with version "${e}":`];a&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),os.warn(c.join(" "));return}Oi(new oi(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n3="firebase-heartbeat-database",i3=1,fl="firebase-heartbeat-store";let Ey=null;function VP(){return Ey||(Ey=LP(n3,i3,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(fl)}catch(t){console.warn(t)}}}}).catch(r=>{throw qs.create("idb-open",{originalErrorMessage:r.message})})),Ey}async function s3(r){try{const t=(await VP()).transaction(fl),n=await t.objectStore(fl).get(FP(r));return await t.done,n}catch(e){if(e instanceof fi)os.warn(e.message);else{const t=qs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});os.warn(t.message)}}}async function MI(r,e){try{const n=(await VP()).transaction(fl,"readwrite");await n.objectStore(fl).put(e,FP(r)),await n.done}catch(t){if(t instanceof fi)os.warn(t.message);else{const n=qs.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});os.warn(n.message)}}}function FP(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o3=1024,a3=30*24*60*60*1e3;class u3{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new c3(t),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=VI();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(l=>{const c=new Date(l.date).valueOf();return Date.now()-c<=a3}),this._storage.overwrite(this._heartbeatsCache))}catch(n){os.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=VI(),{heartbeatsToSend:n,unsentEntries:s}=l3(this._heartbeatsCache.heartbeats),a=Nf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return os.warn(t),""}}}function VI(){return new Date().toISOString().substring(0,10)}function l3(r,e=o3){const t=[];let n=r.slice();for(const s of r){const a=t.find(l=>l.agent===s.agent);if(a){if(a.dates.push(s.date),FI(t)>e){a.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),FI(t)>e){t.pop();break}n=n.slice(1)}return{heartbeatsToSend:t,unsentEntries:n}}class c3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return OP()?xP().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await s3(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return MI(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return MI(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function FI(r){return Nf(JSON.stringify({version:2,heartbeats:r})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f3(r){Oi(new oi("platform-logger",e=>new IM(e),"PRIVATE")),Oi(new oi("heartbeat",e=>new u3(e),"PRIVATE")),Nn(Ky,NI,r),Nn(Ky,NI,"esm2017"),Nn("fire-js","")}f3("");function r_(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(r);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(r,n[s])&&(t[n[s]]=r[n[s]]);return t}function jP(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const d3=jP,UP=new Ho("auth","Firebase",jP());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mf=new Rd("@firebase/auth");function h3(r,...e){Mf.logLevel<=Ze.WARN&&Mf.warn(`Auth (${nu}): ${r}`,...e)}function lf(r,...e){Mf.logLevel<=Ze.ERROR&&Mf.error(`Auth (${nu}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xi(r,...e){throw i_(r,...e)}function ii(r,...e){return i_(r,...e)}function n_(r,e,t){const n=Object.assign(Object.assign({},d3()),{[e]:t});return new Ho("auth","Firebase",n).create(e,{appName:r.name})}function Do(r){return n_(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function p3(r,e,t){const n=t;if(!(e instanceof n))throw n.name!==e.constructor.name&&xi(r,"argument-error"),n_(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function i_(r,...e){if(typeof r!="string"){const t=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=r.name),r._errorFactory.create(t,...n)}return UP.create(r,...e)}function je(r,e,...t){if(!r)throw i_(e,...t)}function ts(r){const e="INTERNAL ASSERTION FAILED: "+r;throw lf(e),new Error(e)}function as(r,e){r||ts(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jy(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function m3(){return jI()==="http:"||jI()==="https:"}function jI(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(m3()||kP()||"connection"in navigator)?navigator.onLine:!0}function y3(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(e,t){this.shortDelay=e,this.longDelay=t,as(t>e,"Short delay should be less than long delay!"),this.isMobile=zL()||HL()}get(){return g3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s_(r,e){as(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ts("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ts("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ts("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _3=new xl(3e4,6e4);function o_(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function iu(r,e,t,n,s={}){return zP(r,s,async()=>{let a={},l={};n&&(e==="GET"?l=n:a={body:JSON.stringify(n)});const c=Ol(Object.assign({key:r.config.apiKey},l)).slice(1),h=await r._getAdditionalHeaders();h["Content-Type"]="application/json",r.languageCode&&(h["X-Firebase-Locale"]=r.languageCode);const p=Object.assign({method:e,headers:h},a);return $L()||(p.referrerPolicy="no-referrer"),BP.fetch()(qP(r,r.config.apiHost,t,c),p)})}async function zP(r,e,t){r._canInitEmulator=!1;const n=Object.assign(Object.assign({},v3),e);try{const s=new E3(r),a=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw Xc(r,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const c=a.ok?l.errorMessage:l.error.message,[h,p]=c.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Xc(r,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw Xc(r,"email-already-in-use",l);if(h==="USER_DISABLED")throw Xc(r,"user-disabled",l);const g=n[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw n_(r,g,p);xi(r,g)}}catch(s){if(s instanceof fi)throw s;xi(r,"network-request-failed",{message:String(s)})}}async function w3(r,e,t,n,s={}){const a=await iu(r,e,t,n,s);return"mfaPendingCredential"in a&&xi(r,"multi-factor-auth-required",{_serverResponse:a}),a}function qP(r,e,t,n){const s=`${e}${t}?${n}`;return r.config.emulator?s_(r.config,s):`${r.config.apiScheme}://${s}`}class E3{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,n)=>{this.timer=setTimeout(()=>n(ii(this.auth,"network-request-failed")),_3.get())})}}function Xc(r,e,t){const n={appName:r.name};t.email&&(n.email=t.email),t.phoneNumber&&(n.phoneNumber=t.phoneNumber);const s=ii(r,e,n);return s.customData._tokenResponse=t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T3(r,e){return iu(r,"POST","/v1/accounts:delete",e)}async function $P(r,e){return iu(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function S3(r,e=!1){const t=Nr(r),n=await t.getIdToken(e),s=a_(n);je(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,l=a==null?void 0:a.sign_in_provider;return{claims:s,token:n,authTime:tl(Ty(s.auth_time)),issuedAtTime:tl(Ty(s.iat)),expirationTime:tl(Ty(s.exp)),signInProvider:l||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Ty(r){return Number(r)*1e3}function a_(r){const[e,t,n]=r.split(".");if(e===void 0||t===void 0||n===void 0)return lf("JWT malformed, contained fewer than 3 sections"),null;try{const s=PP(t);return s?JSON.parse(s):(lf("Failed to decode base64 JWT payload"),null)}catch(s){return lf("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function UI(r){const e=a_(r);return je(e,"internal-error"),je(typeof e.exp<"u","internal-error"),je(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dl(r,e,t=!1){if(t)return e;try{return await e}catch(n){throw n instanceof fi&&I3(n)&&r.auth.currentUser===r&&await r.auth.signOut(),n}}function I3({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R3{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=tl(this.lastLoginAt),this.creationTime=tl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vf(r){var e;const t=r.auth,n=await r.getIdToken(),s=await dl(r,$P(t,{idToken:n}));je(s==null?void 0:s.users.length,t,"internal-error");const a=s.users[0];r._notifyReloadListener(a);const l=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?HP(a.providerUserInfo):[],c=C3(r.providerData,l),h=r.isAnonymous,p=!(r.email&&a.passwordHash)&&!(c!=null&&c.length),g=h?p:!1,_={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new Xy(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(r,_)}async function P3(r){const e=Nr(r);await Vf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function C3(r,e){return[...r.filter(n=>!e.some(s=>s.providerId===n.providerId)),...e]}function HP(r){return r.map(e=>{var{providerId:t}=e,n=r_(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A3(r,e){const t=await zP(r,{},async()=>{const n=Ol({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=r.config,l=qP(r,s,"/v1/token",`key=${a}`),c=await r._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",BP.fetch()(l,{method:"POST",headers:c,body:n})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function b3(r,e){return iu(r,"POST","/v2/accounts:revokeToken",o_(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){je(e.idToken,"internal-error"),je(typeof e.idToken<"u","internal-error"),je(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):UI(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){je(e.length!==0,"internal-error");const t=UI(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(je(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:s,expiresIn:a}=await A3(e,t);this.updateTokensAndExpiration(n,s,Number(a))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,t){const{refreshToken:n,accessToken:s,expirationTime:a}=t,l=new Va;return n&&(je(typeof n=="string","internal-error",{appName:e}),l.refreshToken=n),s&&(je(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),a&&(je(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Va,this.toJSON())}_performRefresh(){return ts("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ns(r,e){je(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class rs{constructor(e){var{uid:t,auth:n,stsTokenManager:s}=e,a=r_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new R3(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Xy(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await dl(this,this.stsTokenManager.getToken(this.auth,e));return je(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return S3(this,e)}reload(){return P3(this)}_assign(e){this!==e&&(je(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new rs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){je(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Vf(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(es(this.auth.app))return Promise.reject(Do(this.auth));const e=await this.getIdToken();return await dl(this,T3(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,s,a,l,c,h,p,g;const _=(n=t.displayName)!==null&&n!==void 0?n:void 0,w=(s=t.email)!==null&&s!==void 0?s:void 0,T=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,I=(l=t.photoURL)!==null&&l!==void 0?l:void 0,A=(c=t.tenantId)!==null&&c!==void 0?c:void 0,C=(h=t._redirectEventId)!==null&&h!==void 0?h:void 0,x=(p=t.createdAt)!==null&&p!==void 0?p:void 0,U=(g=t.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:$,emailVerified:M,isAnonymous:O,providerData:H,stsTokenManager:k}=t;je($&&k,e,"internal-error");const R=Va.fromJSON(this.name,k);je(typeof $=="string",e,"internal-error"),Ns(_,e.name),Ns(w,e.name),je(typeof M=="boolean",e,"internal-error"),je(typeof O=="boolean",e,"internal-error"),Ns(T,e.name),Ns(I,e.name),Ns(A,e.name),Ns(C,e.name),Ns(x,e.name),Ns(U,e.name);const b=new rs({uid:$,auth:e,email:w,emailVerified:M,displayName:_,isAnonymous:O,photoURL:I,phoneNumber:T,tenantId:A,stsTokenManager:R,createdAt:x,lastLoginAt:U});return H&&Array.isArray(H)&&(b.providerData=H.map(N=>Object.assign({},N))),C&&(b._redirectEventId=C),b}static async _fromIdTokenResponse(e,t,n=!1){const s=new Va;s.updateFromServerResponse(t);const a=new rs({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:n});return await Vf(a),a}static async _fromGetAccountInfoResponse(e,t,n){const s=t.users[0];je(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?HP(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!(a!=null&&a.length),c=new Va;c.updateFromIdToken(n);const h=new rs({uid:s.localId,auth:e,stsTokenManager:c,isAnonymous:l}),p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Xy(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(a!=null&&a.length)};return Object.assign(h,p),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI=new Map;function ns(r){as(r instanceof Function,"Expected a class definition");let e=BI.get(r);return e?(as(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,BI.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WP{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}WP.type="NONE";const zI=WP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cf(r,e,t){return`firebase:${r}:${e}:${t}`}class Fa{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:s,name:a}=this.auth;this.fullUserKey=cf(this.userKey,s.apiKey,a),this.fullPersistenceKey=cf("persistence",s.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?rs._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new Fa(ns(zI),e,n);const s=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=s[0]||ns(zI);const l=cf(n,e.config.apiKey,e.name);let c=null;for(const p of t)try{const g=await p._get(l);if(g){const _=rs._fromJSON(e,g);p!==a&&(c=_),a=p;break}}catch{}const h=s.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!h.length?new Fa(a,e,n):(a=h[0],c&&await a._set(l,c.toJSON()),await Promise.all(t.map(async p=>{if(p!==a)try{await p._remove(l)}catch{}})),new Fa(a,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qI(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(YP(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(GP(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(XP(e))return"Blackberry";if(ZP(e))return"Webos";if(KP(e))return"Safari";if((e.includes("chrome/")||QP(e))&&!e.includes("edge/"))return"Chrome";if(JP(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=r.match(t);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function GP(r=Dr()){return/firefox\//i.test(r)}function KP(r=Dr()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function QP(r=Dr()){return/crios\//i.test(r)}function YP(r=Dr()){return/iemobile/i.test(r)}function JP(r=Dr()){return/android/i.test(r)}function XP(r=Dr()){return/blackberry/i.test(r)}function ZP(r=Dr()){return/webos/i.test(r)}function u_(r=Dr()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function k3(r=Dr()){var e;return u_(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function O3(){return WL()&&document.documentMode===10}function eC(r=Dr()){return u_(r)||JP(r)||ZP(r)||XP(r)||/windows phone/i.test(r)||YP(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tC(r,e=[]){let t;switch(r){case"Browser":t=qI(Dr());break;case"Worker":t=`${qI(Dr())}-${r}`;break;default:t=r}const n=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${nu}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x3{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=a=>new Promise((l,c)=>{try{const h=e(a);l(h)}catch(h){c(h)}});n.onAbort=t,this.queue.push(n);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D3(r,e={}){return iu(r,"GET","/v2/passwordPolicy",o_(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N3=6;class L3{constructor(e){var t,n,s,a;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:N3,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,s,a,l,c;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(t=h.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),h.isValid&&(h.isValid=(n=h.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),h.isValid&&(h.isValid=(s=h.containsLowercaseLetter)!==null&&s!==void 0?s:!0),h.isValid&&(h.isValid=(a=h.containsUppercaseLetter)!==null&&a!==void 0?a:!0),h.isValid&&(h.isValid=(l=h.containsNumericCharacter)!==null&&l!==void 0?l:!0),h.isValid&&(h.isValid=(c=h.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),h}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let n;for(let s=0;s<e.length;s++)n=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M3{constructor(e,t,n,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $I(this),this.idTokenSubscription=new $I(this),this.beforeStateQueue=new x3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=UP,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ns(t)),this._initializationPromise=this.queue(async()=>{var n,s;if(!this._deleted&&(this.persistenceManager=await Fa.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await $P(this,{idToken:e}),n=await rs._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(es(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=s==null?void 0:s._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===c)&&(h!=null&&h.user)&&(s=h.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return je(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Vf(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=y3()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(es(this.app))return Promise.reject(Do(this));const t=e?Nr(e):null;return t&&je(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&je(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return es(this.app)?Promise.reject(Do(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return es(this.app)?Promise.reject(Do(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ns(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await D3(this),t=new L3(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ho("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(n.tenantId=this.tenantId),await b3(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ns(e)||this._popupRedirectResolver;je(t,this,"argument-error"),this.redirectPersistenceManager=await Fa.create(this,[ns(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,s){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(je(c,this,"internal-error"),c.then(()=>{l||a(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,n,s);return()=>{l=!0,h()}}else{const h=e.addObserver(t);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return je(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=tC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&h3(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Pd(r){return Nr(r)}class $I{constructor(e){this.auth=e,this.observer=null,this.addObserver=ZL(t=>this.observer=t)}get next(){return je(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let l_={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function V3(r){l_=r}function F3(r){return l_.loadJS(r)}function j3(){return l_.gapiScript}function U3(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B3(r,e){const t=Wo(r,"auth");if(t.isInitialized()){const s=t.getImmediate(),a=t.getOptions();if(cl(a,e??{}))return s;xi(s,"already-initialized")}return t.initialize({options:e})}function z3(r,e){const t=(e==null?void 0:e.persistence)||[],n=(Array.isArray(t)?t:[t]).map(ns);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function q3(r,e,t){const n=Pd(r);je(n._canInitEmulator,n,"emulator-config-failed"),je(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const s=!1,a=rC(e),{host:l,port:c}=$3(e),h=c===null?"":`:${c}`;n.config.emulator={url:`${a}//${l}${h}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:l,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})}),H3()}function rC(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function $3(r){const e=rC(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const n=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(n);if(s){const a=s[1];return{host:a,port:HI(n.substr(a.length+1))}}else{const[a,l]=n.split(":");return{host:a,port:HI(l)}}}function HI(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function H3(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ts("not implemented")}_getIdTokenResponse(e){return ts("not implemented")}_linkToIdToken(e,t){return ts("not implemented")}_getReauthenticationResolver(e){return ts("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ja(r,e){return w3(r,"POST","/v1/accounts:signInWithIdp",o_(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W3="http://localhost";class Vo extends nC{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Vo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):xi("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:s}=t,a=r_(t,["providerId","signInMethod"]);if(!n||!s)return null;const l=new Vo(n,s);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return ja(e,t)}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,ja(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ja(e,t)}buildRequest(){const e={requestUri:W3,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ol(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl extends c_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs extends Dl{constructor(){super("facebook.com")}static credential(e){return Vo._fromParams({providerId:Vs.PROVIDER_ID,signInMethod:Vs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vs.credentialFromTaggedObject(e)}static credentialFromError(e){return Vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vs.credential(e.oauthAccessToken)}catch{return null}}}Vs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Vs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi extends Dl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Vo._fromParams({providerId:Zi.PROVIDER_ID,signInMethod:Zi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Zi.credentialFromTaggedObject(e)}static credentialFromError(e){return Zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return Zi.credential(t,n)}catch{return null}}}Zi.GOOGLE_SIGN_IN_METHOD="google.com";Zi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs extends Dl{constructor(){super("github.com")}static credential(e){return Vo._fromParams({providerId:Fs.PROVIDER_ID,signInMethod:Fs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fs.credentialFromTaggedObject(e)}static credentialFromError(e){return Fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fs.credential(e.oauthAccessToken)}catch{return null}}}Fs.GITHUB_SIGN_IN_METHOD="github.com";Fs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js extends Dl{constructor(){super("twitter.com")}static credential(e,t){return Vo._fromParams({providerId:js.PROVIDER_ID,signInMethod:js.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return js.credentialFromTaggedObject(e)}static credentialFromError(e){return js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return js.credential(t,n)}catch{return null}}}js.TWITTER_SIGN_IN_METHOD="twitter.com";js.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,s=!1){const a=await rs._fromIdTokenResponse(e,n,s),l=WI(n);return new Ha({user:a,providerId:l,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const s=WI(n);return new Ha({user:e,providerId:s,_tokenResponse:n,operationType:t})}}function WI(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff extends fi{constructor(e,t,n,s){var a;super(t.code,t.message),this.operationType=n,this.user=s,Object.setPrototypeOf(this,Ff.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,s){return new Ff(e,t,n,s)}}function iC(r,e,t,n){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Ff._fromErrorAndOperation(r,a,e,n):a})}async function G3(r,e,t=!1){const n=await dl(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return Ha._forOperation(r,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K3(r,e,t=!1){const{auth:n}=r;if(es(n.app))return Promise.reject(Do(n));const s="reauthenticate";try{const a=await dl(r,iC(n,s,e,r),t);je(a.idToken,n,"internal-error");const l=a_(a.idToken);je(l,n,"internal-error");const{sub:c}=l;return je(r.uid===c,n,"user-mismatch"),Ha._forOperation(r,s,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&xi(n,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q3(r,e,t=!1){if(es(r.app))return Promise.reject(Do(r));const n="signIn",s=await iC(r,n,e),a=await Ha._fromIdTokenResponse(r,n,s);return t||await r._updateCurrentUser(a.user),a}function Y3(r,e,t,n){return Nr(r).onIdTokenChanged(e,t,n)}function J3(r,e,t){return Nr(r).beforeAuthStateChanged(e,t)}function X3(r){return Nr(r).signOut()}const jf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(jf,"1"),this.storage.removeItem(jf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z3=1e3,e5=10;class oC extends sC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=eC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),s=this.localCache[t];n!==s&&e(t,s,n)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,c,h)=>{this.notifyListeners(l,h)});return}const n=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(n);!t&&this.localCache[n]===l||this.notifyListeners(n,l)},a=this.storage.getItem(n);O3()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,e5):s()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const s of Array.from(n))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},Z3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}oC.type="LOCAL";const t5=oC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC extends sC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}aC.type="SESSION";const uC=aC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r5(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const n=new Cd(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:s,data:a}=t.data,l=this.handlersMap[s];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:s});const c=Array.from(l).map(async p=>p(t.origin,a)),h=await r5(c);t.ports[0].postMessage({status:"done",eventId:n,eventType:s,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Cd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f_(r="",e=10){let t="";for(let n=0;n<e;n++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n5{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,l;return new Promise((c,h)=>{const p=f_("",20);s.port1.start();const g=setTimeout(()=>{h(new Error("unsupported_event"))},n);l={messageChannel:s,onMessage(_){const w=_;if(w.data.eventId===p)switch(w.data.status){case"ack":clearTimeout(g),a=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),c(w.data.response);break;default:clearTimeout(g),clearTimeout(a),h(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ci(){return window}function i5(r){Ci().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lC(){return typeof Ci().WorkerGlobalScope<"u"&&typeof Ci().importScripts=="function"}async function s5(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function o5(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function a5(){return lC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC="firebaseLocalStorageDb",u5=1,Uf="firebaseLocalStorage",fC="fbase_key";class Nl{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Ad(r,e){return r.transaction([Uf],e?"readwrite":"readonly").objectStore(Uf)}function l5(){const r=indexedDB.deleteDatabase(cC);return new Nl(r).toPromise()}function Zy(){const r=indexedDB.open(cC,u5);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const n=r.result;try{n.createObjectStore(Uf,{keyPath:fC})}catch(s){t(s)}}),r.addEventListener("success",async()=>{const n=r.result;n.objectStoreNames.contains(Uf)?e(n):(n.close(),await l5(),e(await Zy()))})})}async function GI(r,e,t){const n=Ad(r,!0).put({[fC]:e,value:t});return new Nl(n).toPromise()}async function c5(r,e){const t=Ad(r,!1).get(e),n=await new Nl(t).toPromise();return n===void 0?null:n.value}function KI(r,e){const t=Ad(r,!0).delete(e);return new Nl(t).toPromise()}const f5=800,d5=3;class dC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Zy(),this.db)}async _withRetries(e){let t=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(t++>d5)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return lC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Cd._getInstance(a5()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await s5(),!this.activeServiceWorker)return;this.sender=new n5(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((t=n[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||o5()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Zy();return await GI(e,jf,"1"),await KI(e,jf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>GI(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(n=>c5(n,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>KI(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=Ad(s,!1).getAll();return new Nl(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],n=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)n.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!n.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const s of Array.from(n))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),f5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}dC.type="LOCAL";const h5=dC;new xl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hC(r,e){return e?ns(e):(je(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d_ extends nC{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ja(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ja(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ja(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function p5(r){return Q3(r.auth,new d_(r),r.bypassAuthState)}function m5(r){const{auth:e,user:t}=r;return je(t,e,"internal-error"),K3(t,new d_(r),r.bypassAuthState)}async function g5(r){const{auth:e,user:t}=r;return je(t,e,"internal-error"),G3(t,new d_(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(e,t,n,s,a=!1){this.auth=e,this.resolver=n,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:s,tenantId:a,error:l,type:c}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:t,sessionId:n,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(h))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return p5;case"linkViaPopup":case"linkViaRedirect":return g5;case"reauthViaPopup":case"reauthViaRedirect":return m5;default:xi(this.auth,"internal-error")}}resolve(e){as(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){as(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y5=new xl(2e3,1e4);async function v5(r,e,t){if(es(r.app))return Promise.reject(ii(r,"operation-not-supported-in-this-environment"));const n=Pd(r);p3(r,e,c_);const s=hC(n,t);return new ko(n,"signInViaPopup",e,s).executeNotNull()}class ko extends pC{constructor(e,t,n,s,a){super(e,t,s,a),this.provider=n,this.authWindow=null,this.pollId=null,ko.currentPopupAction&&ko.currentPopupAction.cancel(),ko.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return je(e,this.auth,"internal-error"),e}async onExecution(){as(this.filter.length===1,"Popup operations only handle one event");const e=f_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ii(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ii(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ko.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;if(!((n=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ii(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,y5.get())};e()}}ko.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _5="pendingRedirect",ff=new Map;class w5 extends pC{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=ff.get(this.auth._key());if(!e){try{const n=await E5(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}ff.set(this.auth._key(),e)}return this.bypassAuthState||ff.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function E5(r,e){const t=I5(e),n=S5(r);if(!await n._isAvailable())return!1;const s=await n._get(t)==="true";return await n._remove(t),s}function T5(r,e){ff.set(r._key(),e)}function S5(r){return ns(r._redirectPersistence)}function I5(r){return cf(_5,r.config.apiKey,r.name)}async function R5(r,e,t=!1){if(es(r.app))return Promise.reject(Do(r));const n=Pd(r),s=hC(n,e),l=await new w5(n,s,t).execute();return l&&!t&&(delete l.user._redirectEventId,await n._persistUserIfCurrent(l.user),await n._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P5=10*60*1e3;class C5{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!A5(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!mC(e)){const s=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";t.onError(ii(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=P5&&this.cachedEventUids.clear(),this.cachedEventUids.has(QI(e))}saveEventToCache(e){this.cachedEventUids.add(QI(e)),this.lastProcessedEventTime=Date.now()}}function QI(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function mC({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function A5(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return mC(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b5(r,e={}){return iu(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k5=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,O5=/^https?/;async function x5(r){if(r.config.emulator)return;const{authorizedDomains:e}=await b5(r);for(const t of e)try{if(D5(t))return}catch{}xi(r,"unauthorized-domain")}function D5(r){const e=Jy(),{protocol:t,hostname:n}=new URL(e);if(r.startsWith("chrome-extension://")){const l=new URL(r);return l.hostname===""&&n===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===n}if(!O5.test(t))return!1;if(k5.test(r))return n===r;const s=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N5=new xl(3e4,6e4);function YI(){const r=Ci().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function L5(r){return new Promise((e,t)=>{var n,s,a;function l(){YI(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{YI(),t(ii(r,"network-request-failed"))},timeout:N5.get()})}if(!((s=(n=Ci().gapi)===null||n===void 0?void 0:n.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((a=Ci().gapi)===null||a===void 0)&&a.load)l();else{const c=U3("iframefcb");return Ci()[c]=()=>{gapi.load?l():t(ii(r,"network-request-failed"))},F3(`${j3()}?onload=${c}`).catch(h=>t(h))}}).catch(e=>{throw df=null,e})}let df=null;function M5(r){return df=df||L5(r),df}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V5=new xl(5e3,15e3),F5="__/auth/iframe",j5="emulator/auth/iframe",U5={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},B5=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function z5(r){const e=r.config;je(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?s_(e,j5):`https://${r.config.authDomain}/${F5}`,n={apiKey:e.apiKey,appName:r.name,v:nu},s=B5.get(r.config.apiHost);s&&(n.eid=s);const a=r._getFrameworks();return a.length&&(n.fw=a.join(",")),`${t}?${Ol(n).slice(1)}`}async function q5(r){const e=await M5(r),t=Ci().gapi;return je(t,r,"internal-error"),e.open({where:document.body,url:z5(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:U5,dontclear:!0},n=>new Promise(async(s,a)=>{await n.restyle({setHideOnLeave:!1});const l=ii(r,"network-request-failed"),c=Ci().setTimeout(()=>{a(l)},V5.get());function h(){Ci().clearTimeout(c),s(n)}n.ping(h).then(h,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $5={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},H5=500,W5=600,G5="_blank",K5="http://localhost";class JI{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Q5(r,e,t,n=H5,s=W5){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-n)/2,0).toString();let c="";const h=Object.assign(Object.assign({},$5),{width:n.toString(),height:s.toString(),top:a,left:l}),p=Dr().toLowerCase();t&&(c=QP(p)?G5:t),GP(p)&&(e=e||K5,h.scrollbars="yes");const g=Object.entries(h).reduce((w,[T,I])=>`${w}${T}=${I},`,"");if(k3(p)&&c!=="_self")return Y5(e||"",c),new JI(null);const _=window.open(e||"",c,g);je(_,r,"popup-blocked");try{_.focus()}catch{}return new JI(_)}function Y5(r,e){const t=document.createElement("a");t.href=r,t.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J5="__/auth/handler",X5="emulator/auth/handler",Z5=encodeURIComponent("fac");async function XI(r,e,t,n,s,a){je(r.config.authDomain,r,"auth-domain-config-required"),je(r.config.apiKey,r,"invalid-api-key");const l={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:n,v:nu,eventId:s};if(e instanceof c_){e.setDefaultLanguage(r.languageCode),l.providerId=e.providerId||"",XL(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,_]of Object.entries({}))l[g]=_}if(e instanceof Dl){const g=e.getScopes().filter(_=>_!=="");g.length>0&&(l.scopes=g.join(","))}r.tenantId&&(l.tid=r.tenantId);const c=l;for(const g of Object.keys(c))c[g]===void 0&&delete c[g];const h=await r._getAppCheckToken(),p=h?`#${Z5}=${encodeURIComponent(h)}`:"";return`${e9(r)}?${Ol(c).slice(1)}${p}`}function e9({config:r}){return r.emulator?s_(r,X5):`https://${r.authDomain}/${J5}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sy="webStorageSupport";class t9{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=uC,this._completeRedirectFn=R5,this._overrideRedirectResult=T5}async _openPopup(e,t,n,s){var a;as((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const l=await XI(e,t,n,Jy(),s);return Q5(e,l,f_())}async _openRedirect(e,t,n,s){await this._originValidation(e);const a=await XI(e,t,n,Jy(),s);return i5(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:a}=this.eventManagers[t];return s?Promise.resolve(s):(as(a,"If manager is not set, promise should be"),a)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await q5(e),n=new C5(e);return t.register("authEvent",s=>(je(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:n.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Sy,{type:Sy},s=>{var a;const l=(a=s==null?void 0:s[0])===null||a===void 0?void 0:a[Sy];l!==void 0&&t(!!l),xi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=x5(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return eC()||KP()||u_()}}const r9=t9;var ZI="@firebase/auth",eR="1.8.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n9{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){je(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i9(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function s9(r){Oi(new oi("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=n.options;je(l&&!l.includes(":"),"invalid-api-key",{appName:n.name});const h={apiKey:l,authDomain:c,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tC(r)},p=new M3(n,s,a,h);return z3(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),Oi(new oi("auth-internal",e=>{const t=Pd(e.getProvider("auth").getImmediate());return(n=>new n9(n))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Nn(ZI,eR,i9(r)),Nn(ZI,eR,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o9=5*60,a9=bP("authIdTokenMaxAge")||o9;let tR=null;const u9=r=>async e=>{const t=e&&await e.getIdTokenResult(),n=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>a9)return;const s=t==null?void 0:t.token;tR!==s&&(tR=s,await fetch(r,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function l9(r=t_()){const e=Wo(r,"auth");if(e.isInitialized())return e.getImmediate();const t=B3(r,{popupRedirectResolver:r9,persistence:[h5,t5,uC]}),n=bP("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(n,location.origin);if(location.origin===a.origin){const l=u9(a.toString());J3(t,l,()=>l(t.currentUser)),Y3(t,c=>l(c))}}const s=CP("auth");return s&&q3(t,`http://${s}`),t}function c9(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}V3({loadJS(r){return new Promise((e,t)=>{const n=document.createElement("script");n.setAttribute("src",r),n.onload=e,n.onerror=s=>{const a=ii("internal-error");a.customData=s,t(a)},n.type="text/javascript",n.charset="UTF-8",c9().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});s9("Browser");var f9="firebase",d9="11.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Nn(f9,d9,"app");const gC="@firebase/installations",h_="0.6.12";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC=1e4,vC=`w:${h_}`,_C="FIS_v2",h9="https://firebaseinstallations.googleapis.com/v1",p9=60*60*1e3,m9="installations",g9="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y9={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Fo=new Ho(m9,g9,y9);function wC(r){return r instanceof fi&&r.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EC({projectId:r}){return`${h9}/projects/${r}/installations`}function TC(r){return{token:r.token,requestStatus:2,expiresIn:_9(r.expiresIn),creationTime:Date.now()}}async function SC(r,e){const n=(await e.json()).error;return Fo.create("request-failed",{requestName:r,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function IC({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function v9(r,{refreshToken:e}){const t=IC(r);return t.append("Authorization",w9(e)),t}async function RC(r){const e=await r();return e.status>=500&&e.status<600?r():e}function _9(r){return Number(r.replace("s","000"))}function w9(r){return`${_C} ${r}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E9({appConfig:r,heartbeatServiceProvider:e},{fid:t}){const n=EC(r),s=IC(r),a=e.getImmediate({optional:!0});if(a){const p=await a.getHeartbeatsHeader();p&&s.append("x-firebase-client",p)}const l={fid:t,authVersion:_C,appId:r.appId,sdkVersion:vC},c={method:"POST",headers:s,body:JSON.stringify(l)},h=await RC(()=>fetch(n,c));if(h.ok){const p=await h.json();return{fid:p.fid||t,registrationStatus:2,refreshToken:p.refreshToken,authToken:TC(p.authToken)}}else throw await SC("Create Installation",h)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PC(r){return new Promise(e=>{setTimeout(e,r)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T9(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S9=/^[cdef][\w-]{21}$/,ev="";function I9(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const t=R9(r);return S9.test(t)?t:ev}catch{return ev}}function R9(r){return T9(r).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bd(r){return`${r.appName}!${r.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC=new Map;function AC(r,e){const t=bd(r);bC(t,e),P9(t,e)}function bC(r,e){const t=CC.get(r);if(t)for(const n of t)n(e)}function P9(r,e){const t=C9();t&&t.postMessage({key:r,fid:e}),A9()}let Oo=null;function C9(){return!Oo&&"BroadcastChannel"in self&&(Oo=new BroadcastChannel("[Firebase] FID Change"),Oo.onmessage=r=>{bC(r.data.key,r.data.fid)}),Oo}function A9(){CC.size===0&&Oo&&(Oo.close(),Oo=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b9="firebase-installations-database",k9=1,jo="firebase-installations-store";let Iy=null;function p_(){return Iy||(Iy=LP(b9,k9,{upgrade:(r,e)=>{switch(e){case 0:r.createObjectStore(jo)}}})),Iy}async function Bf(r,e){const t=bd(r),s=(await p_()).transaction(jo,"readwrite"),a=s.objectStore(jo),l=await a.get(t);return await a.put(e,t),await s.done,(!l||l.fid!==e.fid)&&AC(r,e.fid),e}async function kC(r){const e=bd(r),n=(await p_()).transaction(jo,"readwrite");await n.objectStore(jo).delete(e),await n.done}async function kd(r,e){const t=bd(r),s=(await p_()).transaction(jo,"readwrite"),a=s.objectStore(jo),l=await a.get(t),c=e(l);return c===void 0?await a.delete(t):await a.put(c,t),await s.done,c&&(!l||l.fid!==c.fid)&&AC(r,c.fid),c}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m_(r){let e;const t=await kd(r.appConfig,n=>{const s=O9(n),a=x9(r,s);return e=a.registrationPromise,a.installationEntry});return t.fid===ev?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function O9(r){const e=r||{fid:I9(),registrationStatus:0};return OC(e)}function x9(r,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Fo.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},n=D9(r,t);return{installationEntry:t,registrationPromise:n}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:N9(r)}:{installationEntry:e}}async function D9(r,e){try{const t=await E9(r,e);return Bf(r.appConfig,t)}catch(t){throw wC(t)&&t.customData.serverCode===409?await kC(r.appConfig):await Bf(r.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function N9(r){let e=await rR(r.appConfig);for(;e.registrationStatus===1;)await PC(100),e=await rR(r.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:n}=await m_(r);return n||t}return e}function rR(r){return kd(r,e=>{if(!e)throw Fo.create("installation-not-found");return OC(e)})}function OC(r){return L9(r)?{fid:r.fid,registrationStatus:0}:r}function L9(r){return r.registrationStatus===1&&r.registrationTime+yC<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M9({appConfig:r,heartbeatServiceProvider:e},t){const n=V9(r,t),s=v9(r,t),a=e.getImmediate({optional:!0});if(a){const p=await a.getHeartbeatsHeader();p&&s.append("x-firebase-client",p)}const l={installation:{sdkVersion:vC,appId:r.appId}},c={method:"POST",headers:s,body:JSON.stringify(l)},h=await RC(()=>fetch(n,c));if(h.ok){const p=await h.json();return TC(p)}else throw await SC("Generate Auth Token",h)}function V9(r,{fid:e}){return`${EC(r)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g_(r,e=!1){let t;const n=await kd(r.appConfig,a=>{if(!xC(a))throw Fo.create("not-registered");const l=a.authToken;if(!e&&U9(l))return a;if(l.requestStatus===1)return t=F9(r,e),a;{if(!navigator.onLine)throw Fo.create("app-offline");const c=z9(a);return t=j9(r,c),c}});return t?await t:n.authToken}async function F9(r,e){let t=await nR(r.appConfig);for(;t.authToken.requestStatus===1;)await PC(100),t=await nR(r.appConfig);const n=t.authToken;return n.requestStatus===0?g_(r,e):n}function nR(r){return kd(r,e=>{if(!xC(e))throw Fo.create("not-registered");const t=e.authToken;return q9(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function j9(r,e){try{const t=await M9(r,e),n=Object.assign(Object.assign({},e),{authToken:t});return await Bf(r.appConfig,n),t}catch(t){if(wC(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await kC(r.appConfig);else{const n=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Bf(r.appConfig,n)}throw t}}function xC(r){return r!==void 0&&r.registrationStatus===2}function U9(r){return r.requestStatus===2&&!B9(r)}function B9(r){const e=Date.now();return e<r.creationTime||r.creationTime+r.expiresIn<e+p9}function z9(r){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},r),{authToken:e})}function q9(r){return r.requestStatus===1&&r.requestTime+yC<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $9(r){const e=r,{installationEntry:t,registrationPromise:n}=await m_(e);return n?n.catch(console.error):g_(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H9(r,e=!1){const t=r;return await W9(t),(await g_(t,e)).token}async function W9(r){const{registrationPromise:e}=await m_(r);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G9(r){if(!r||!r.options)throw Ry("App Configuration");if(!r.name)throw Ry("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!r.options[t])throw Ry(t);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function Ry(r){return Fo.create("missing-app-config-values",{valueName:r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC="installations",K9="installations-internal",Q9=r=>{const e=r.getProvider("app").getImmediate(),t=G9(e),n=Wo(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:n,_delete:()=>Promise.resolve()}},Y9=r=>{const e=r.getProvider("app").getImmediate(),t=Wo(e,DC).getImmediate();return{getId:()=>$9(t),getToken:s=>H9(t,s)}};function J9(){Oi(new oi(DC,Q9,"PUBLIC")),Oi(new oi(K9,Y9,"PRIVATE"))}J9();Nn(gC,h_);Nn(gC,h_,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zf="analytics",X9="firebase_id",Z9="origin",eV=60*1e3,tV="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",y_="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sn=new Rd("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rV={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},gn=new Ho("analytics","Analytics",rV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nV(r){if(!r.startsWith(y_)){const e=gn.create("invalid-gtag-resource",{gtagURL:r});return sn.warn(e.message),""}return r}function NC(r){return Promise.all(r.map(e=>e.catch(t=>t)))}function iV(r,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(r,e)),t}function sV(r,e){const t=iV("firebase-js-sdk-policy",{createScriptURL:nV}),n=document.createElement("script"),s=`${y_}?l=${r}&id=${e}`;n.src=t?t==null?void 0:t.createScriptURL(s):s,n.async=!0,document.head.appendChild(n)}function oV(r){let e=[];return Array.isArray(window[r])?e=window[r]:window[r]=e,e}async function aV(r,e,t,n,s,a){const l=n[s];try{if(l)await e[l];else{const h=(await NC(t)).find(p=>p.measurementId===s);h&&await e[h.appId]}}catch(c){sn.error(c)}r("config",s,a)}async function uV(r,e,t,n,s){try{let a=[];if(s&&s.send_to){let l=s.send_to;Array.isArray(l)||(l=[l]);const c=await NC(t);for(const h of l){const p=c.find(_=>_.measurementId===h),g=p&&e[p.appId];if(g)a.push(g);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),r("event",n,s||{})}catch(a){sn.error(a)}}function lV(r,e,t,n){async function s(a,...l){try{if(a==="event"){const[c,h]=l;await uV(r,e,t,c,h)}else if(a==="config"){const[c,h]=l;await aV(r,e,t,n,c,h)}else if(a==="consent"){const[c,h]=l;r("consent",c,h)}else if(a==="get"){const[c,h,p]=l;r("get",c,h,p)}else if(a==="set"){const[c]=l;r("set",c)}else r(a,...l)}catch(c){sn.error(c)}}return s}function cV(r,e,t,n,s){let a=function(...l){window[n].push(arguments)};return window[s]&&typeof window[s]=="function"&&(a=window[s]),window[s]=lV(a,r,e,t),{gtagCore:a,wrappedGtag:window[s]}}function fV(r){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(y_)&&t.src.includes(r))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dV=30,hV=1e3;class pV{constructor(e={},t=hV){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const LC=new pV;function mV(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}async function gV(r){var e;const{appId:t,apiKey:n}=r,s={method:"GET",headers:mV(n)},a=tV.replace("{app-id}",t),l=await fetch(a,s);if(l.status!==200&&l.status!==304){let c="";try{const h=await l.json();!((e=h.error)===null||e===void 0)&&e.message&&(c=h.error.message)}catch{}throw gn.create("config-fetch-failed",{httpStatus:l.status,responseMessage:c})}return l.json()}async function yV(r,e=LC,t){const{appId:n,apiKey:s,measurementId:a}=r.options;if(!n)throw gn.create("no-app-id");if(!s){if(a)return{measurementId:a,appId:n};throw gn.create("no-api-key")}const l=e.getThrottleMetadata(n)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new wV;return setTimeout(async()=>{c.abort()},eV),MC({appId:n,apiKey:s,measurementId:a},l,c,e)}async function MC(r,{throttleEndTimeMillis:e,backoffCount:t},n,s=LC){var a;const{appId:l,measurementId:c}=r;try{await vV(n,e)}catch(h){if(c)return sn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${h==null?void 0:h.message}]`),{appId:l,measurementId:c};throw h}try{const h=await gV(r);return s.deleteThrottleMetadata(l),h}catch(h){const p=h;if(!_V(p)){if(s.deleteThrottleMetadata(l),c)return sn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:l,measurementId:c};throw h}const g=Number((a=p==null?void 0:p.customData)===null||a===void 0?void 0:a.httpStatus)===503?kI(t,s.intervalMillis,dV):kI(t,s.intervalMillis),_={throttleEndTimeMillis:Date.now()+g,backoffCount:t+1};return s.setThrottleMetadata(l,_),sn.debug(`Calling attemptFetch again in ${g} millis`),MC(r,_,n,s)}}function vV(r,e){return new Promise((t,n)=>{const s=Math.max(e-Date.now(),0),a=setTimeout(t,s);r.addEventListener(()=>{clearTimeout(a),n(gn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function _V(r){if(!(r instanceof fi)||!r.customData)return!1;const e=Number(r.customData.httpStatus);return e===429||e===500||e===503||e===504}class wV{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function EV(r,e,t,n,s){if(s&&s.global){r("event",t,n);return}else{const a=await e,l=Object.assign(Object.assign({},n),{send_to:a});r("event",t,l)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TV(){if(OP())try{await xP()}catch(r){return sn.warn(gn.create("indexeddb-unavailable",{errorInfo:r==null?void 0:r.toString()}).message),!1}else return sn.warn(gn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function SV(r,e,t,n,s,a,l){var c;const h=yV(r);h.then(T=>{t[T.measurementId]=T.appId,r.options.measurementId&&T.measurementId!==r.options.measurementId&&sn.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${T.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(T=>sn.error(T)),e.push(h);const p=TV().then(T=>{if(T)return n.getId()}),[g,_]=await Promise.all([h,p]);fV(a)||sV(a,g.measurementId),s("js",new Date);const w=(c=l==null?void 0:l.config)!==null&&c!==void 0?c:{};return w[Z9]="firebase",w.update=!0,_!=null&&(w[X9]=_),s("config",g.measurementId,w),g.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IV{constructor(e){this.app=e}_delete(){return delete rl[this.app.options.appId],Promise.resolve()}}let rl={},iR=[];const sR={};let Py="dataLayer",RV="gtag",oR,VC,aR=!1;function PV(){const r=[];if(kP()&&r.push("This is a browser extension environment."),KL()||r.push("Cookies are not available."),r.length>0){const e=r.map((n,s)=>`(${s+1}) ${n}`).join(" "),t=gn.create("invalid-analytics-context",{errorInfo:e});sn.warn(t.message)}}function CV(r,e,t){PV();const n=r.options.appId;if(!n)throw gn.create("no-app-id");if(!r.options.apiKey)if(r.options.measurementId)sn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw gn.create("no-api-key");if(rl[n]!=null)throw gn.create("already-exists",{id:n});if(!aR){oV(Py);const{wrappedGtag:a,gtagCore:l}=cV(rl,iR,sR,Py,RV);VC=a,oR=l,aR=!0}return rl[n]=SV(r,iR,sR,e,oR,Py,t),new IV(r)}function AV(r=t_()){r=Nr(r);const e=Wo(r,zf);return e.isInitialized()?e.getImmediate():bV(r)}function bV(r,e={}){const t=Wo(r,zf);if(t.isInitialized()){const s=t.getImmediate();if(cl(e,t.getOptions()))return s;throw gn.create("already-initialized")}return t.initialize({options:e})}function kV(r,e,t,n){r=Nr(r),EV(VC,rl[r.app.options.appId],e,t,n).catch(s=>sn.error(s))}const uR="@firebase/analytics",lR="0.10.11";function OV(){Oi(new oi(zf,(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return CV(n,s,t)},"PUBLIC")),Oi(new oi("analytics-internal",r,"PRIVATE")),Nn(uR,lR),Nn(uR,lR,"esm2017");function r(e){try{const t=e.getProvider(zf).getImmediate();return{logEvent:(n,s,a)=>kV(t,n,s,a)}}catch(t){throw gn.create("interop-component-reg-failed",{reason:t})}}}OV();var cR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $s,FC;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,R){function b(){}b.prototype=R.prototype,k.D=R.prototype,k.prototype=new b,k.prototype.constructor=k,k.C=function(N,V,B){for(var D=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)D[qe-2]=arguments[qe];return R.prototype[V].apply(N,D)}}function t(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,t),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(k,R,b){b||(b=0);var N=Array(16);if(typeof R=="string")for(var V=0;16>V;++V)N[V]=R.charCodeAt(b++)|R.charCodeAt(b++)<<8|R.charCodeAt(b++)<<16|R.charCodeAt(b++)<<24;else for(V=0;16>V;++V)N[V]=R[b++]|R[b++]<<8|R[b++]<<16|R[b++]<<24;R=k.g[0],b=k.g[1],V=k.g[2];var B=k.g[3],D=R+(B^b&(V^B))+N[0]+3614090360&4294967295;R=b+(D<<7&4294967295|D>>>25),D=B+(V^R&(b^V))+N[1]+3905402710&4294967295,B=R+(D<<12&4294967295|D>>>20),D=V+(b^B&(R^b))+N[2]+606105819&4294967295,V=B+(D<<17&4294967295|D>>>15),D=b+(R^V&(B^R))+N[3]+3250441966&4294967295,b=V+(D<<22&4294967295|D>>>10),D=R+(B^b&(V^B))+N[4]+4118548399&4294967295,R=b+(D<<7&4294967295|D>>>25),D=B+(V^R&(b^V))+N[5]+1200080426&4294967295,B=R+(D<<12&4294967295|D>>>20),D=V+(b^B&(R^b))+N[6]+2821735955&4294967295,V=B+(D<<17&4294967295|D>>>15),D=b+(R^V&(B^R))+N[7]+4249261313&4294967295,b=V+(D<<22&4294967295|D>>>10),D=R+(B^b&(V^B))+N[8]+1770035416&4294967295,R=b+(D<<7&4294967295|D>>>25),D=B+(V^R&(b^V))+N[9]+2336552879&4294967295,B=R+(D<<12&4294967295|D>>>20),D=V+(b^B&(R^b))+N[10]+4294925233&4294967295,V=B+(D<<17&4294967295|D>>>15),D=b+(R^V&(B^R))+N[11]+2304563134&4294967295,b=V+(D<<22&4294967295|D>>>10),D=R+(B^b&(V^B))+N[12]+1804603682&4294967295,R=b+(D<<7&4294967295|D>>>25),D=B+(V^R&(b^V))+N[13]+4254626195&4294967295,B=R+(D<<12&4294967295|D>>>20),D=V+(b^B&(R^b))+N[14]+2792965006&4294967295,V=B+(D<<17&4294967295|D>>>15),D=b+(R^V&(B^R))+N[15]+1236535329&4294967295,b=V+(D<<22&4294967295|D>>>10),D=R+(V^B&(b^V))+N[1]+4129170786&4294967295,R=b+(D<<5&4294967295|D>>>27),D=B+(b^V&(R^b))+N[6]+3225465664&4294967295,B=R+(D<<9&4294967295|D>>>23),D=V+(R^b&(B^R))+N[11]+643717713&4294967295,V=B+(D<<14&4294967295|D>>>18),D=b+(B^R&(V^B))+N[0]+3921069994&4294967295,b=V+(D<<20&4294967295|D>>>12),D=R+(V^B&(b^V))+N[5]+3593408605&4294967295,R=b+(D<<5&4294967295|D>>>27),D=B+(b^V&(R^b))+N[10]+38016083&4294967295,B=R+(D<<9&4294967295|D>>>23),D=V+(R^b&(B^R))+N[15]+3634488961&4294967295,V=B+(D<<14&4294967295|D>>>18),D=b+(B^R&(V^B))+N[4]+3889429448&4294967295,b=V+(D<<20&4294967295|D>>>12),D=R+(V^B&(b^V))+N[9]+568446438&4294967295,R=b+(D<<5&4294967295|D>>>27),D=B+(b^V&(R^b))+N[14]+3275163606&4294967295,B=R+(D<<9&4294967295|D>>>23),D=V+(R^b&(B^R))+N[3]+4107603335&4294967295,V=B+(D<<14&4294967295|D>>>18),D=b+(B^R&(V^B))+N[8]+1163531501&4294967295,b=V+(D<<20&4294967295|D>>>12),D=R+(V^B&(b^V))+N[13]+2850285829&4294967295,R=b+(D<<5&4294967295|D>>>27),D=B+(b^V&(R^b))+N[2]+4243563512&4294967295,B=R+(D<<9&4294967295|D>>>23),D=V+(R^b&(B^R))+N[7]+1735328473&4294967295,V=B+(D<<14&4294967295|D>>>18),D=b+(B^R&(V^B))+N[12]+2368359562&4294967295,b=V+(D<<20&4294967295|D>>>12),D=R+(b^V^B)+N[5]+4294588738&4294967295,R=b+(D<<4&4294967295|D>>>28),D=B+(R^b^V)+N[8]+2272392833&4294967295,B=R+(D<<11&4294967295|D>>>21),D=V+(B^R^b)+N[11]+1839030562&4294967295,V=B+(D<<16&4294967295|D>>>16),D=b+(V^B^R)+N[14]+4259657740&4294967295,b=V+(D<<23&4294967295|D>>>9),D=R+(b^V^B)+N[1]+2763975236&4294967295,R=b+(D<<4&4294967295|D>>>28),D=B+(R^b^V)+N[4]+1272893353&4294967295,B=R+(D<<11&4294967295|D>>>21),D=V+(B^R^b)+N[7]+4139469664&4294967295,V=B+(D<<16&4294967295|D>>>16),D=b+(V^B^R)+N[10]+3200236656&4294967295,b=V+(D<<23&4294967295|D>>>9),D=R+(b^V^B)+N[13]+681279174&4294967295,R=b+(D<<4&4294967295|D>>>28),D=B+(R^b^V)+N[0]+3936430074&4294967295,B=R+(D<<11&4294967295|D>>>21),D=V+(B^R^b)+N[3]+3572445317&4294967295,V=B+(D<<16&4294967295|D>>>16),D=b+(V^B^R)+N[6]+76029189&4294967295,b=V+(D<<23&4294967295|D>>>9),D=R+(b^V^B)+N[9]+3654602809&4294967295,R=b+(D<<4&4294967295|D>>>28),D=B+(R^b^V)+N[12]+3873151461&4294967295,B=R+(D<<11&4294967295|D>>>21),D=V+(B^R^b)+N[15]+530742520&4294967295,V=B+(D<<16&4294967295|D>>>16),D=b+(V^B^R)+N[2]+3299628645&4294967295,b=V+(D<<23&4294967295|D>>>9),D=R+(V^(b|~B))+N[0]+4096336452&4294967295,R=b+(D<<6&4294967295|D>>>26),D=B+(b^(R|~V))+N[7]+1126891415&4294967295,B=R+(D<<10&4294967295|D>>>22),D=V+(R^(B|~b))+N[14]+2878612391&4294967295,V=B+(D<<15&4294967295|D>>>17),D=b+(B^(V|~R))+N[5]+4237533241&4294967295,b=V+(D<<21&4294967295|D>>>11),D=R+(V^(b|~B))+N[12]+1700485571&4294967295,R=b+(D<<6&4294967295|D>>>26),D=B+(b^(R|~V))+N[3]+2399980690&4294967295,B=R+(D<<10&4294967295|D>>>22),D=V+(R^(B|~b))+N[10]+4293915773&4294967295,V=B+(D<<15&4294967295|D>>>17),D=b+(B^(V|~R))+N[1]+2240044497&4294967295,b=V+(D<<21&4294967295|D>>>11),D=R+(V^(b|~B))+N[8]+1873313359&4294967295,R=b+(D<<6&4294967295|D>>>26),D=B+(b^(R|~V))+N[15]+4264355552&4294967295,B=R+(D<<10&4294967295|D>>>22),D=V+(R^(B|~b))+N[6]+2734768916&4294967295,V=B+(D<<15&4294967295|D>>>17),D=b+(B^(V|~R))+N[13]+1309151649&4294967295,b=V+(D<<21&4294967295|D>>>11),D=R+(V^(b|~B))+N[4]+4149444226&4294967295,R=b+(D<<6&4294967295|D>>>26),D=B+(b^(R|~V))+N[11]+3174756917&4294967295,B=R+(D<<10&4294967295|D>>>22),D=V+(R^(B|~b))+N[2]+718787259&4294967295,V=B+(D<<15&4294967295|D>>>17),D=b+(B^(V|~R))+N[9]+3951481745&4294967295,k.g[0]=k.g[0]+R&4294967295,k.g[1]=k.g[1]+(V+(D<<21&4294967295|D>>>11))&4294967295,k.g[2]=k.g[2]+V&4294967295,k.g[3]=k.g[3]+B&4294967295}n.prototype.u=function(k,R){R===void 0&&(R=k.length);for(var b=R-this.blockSize,N=this.B,V=this.h,B=0;B<R;){if(V==0)for(;B<=b;)s(this,k,B),B+=this.blockSize;if(typeof k=="string"){for(;B<R;)if(N[V++]=k.charCodeAt(B++),V==this.blockSize){s(this,N),V=0;break}}else for(;B<R;)if(N[V++]=k[B++],V==this.blockSize){s(this,N),V=0;break}}this.h=V,this.o+=R},n.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var R=1;R<k.length-8;++R)k[R]=0;var b=8*this.o;for(R=k.length-8;R<k.length;++R)k[R]=b&255,b/=256;for(this.u(k),k=Array(16),R=b=0;4>R;++R)for(var N=0;32>N;N+=8)k[b++]=this.g[R]>>>N&255;return k};function a(k,R){var b=c;return Object.prototype.hasOwnProperty.call(b,k)?b[k]:b[k]=R(k)}function l(k,R){this.h=R;for(var b=[],N=!0,V=k.length-1;0<=V;V--){var B=k[V]|0;N&&B==R||(b[V]=B,N=!1)}this.g=b}var c={};function h(k){return-128<=k&&128>k?a(k,function(R){return new l([R|0],0>R?-1:0)}):new l([k|0],0>k?-1:0)}function p(k){if(isNaN(k)||!isFinite(k))return _;if(0>k)return C(p(-k));for(var R=[],b=1,N=0;k>=b;N++)R[N]=k/b|0,b*=4294967296;return new l(R,0)}function g(k,R){if(k.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(k.charAt(0)=="-")return C(g(k.substring(1),R));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=p(Math.pow(R,8)),N=_,V=0;V<k.length;V+=8){var B=Math.min(8,k.length-V),D=parseInt(k.substring(V,V+B),R);8>B?(B=p(Math.pow(R,B)),N=N.j(B).add(p(D))):(N=N.j(b),N=N.add(p(D)))}return N}var _=h(0),w=h(1),T=h(16777216);r=l.prototype,r.m=function(){if(A(this))return-C(this).m();for(var k=0,R=1,b=0;b<this.g.length;b++){var N=this.i(b);k+=(0<=N?N:4294967296+N)*R,R*=4294967296}return k},r.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(I(this))return"0";if(A(this))return"-"+C(this).toString(k);for(var R=p(Math.pow(k,6)),b=this,N="";;){var V=M(b,R).g;b=x(b,V.j(R));var B=((0<b.g.length?b.g[0]:b.h)>>>0).toString(k);if(b=V,I(b))return B+N;for(;6>B.length;)B="0"+B;N=B+N}},r.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function I(k){if(k.h!=0)return!1;for(var R=0;R<k.g.length;R++)if(k.g[R]!=0)return!1;return!0}function A(k){return k.h==-1}r.l=function(k){return k=x(this,k),A(k)?-1:I(k)?0:1};function C(k){for(var R=k.g.length,b=[],N=0;N<R;N++)b[N]=~k.g[N];return new l(b,~k.h).add(w)}r.abs=function(){return A(this)?C(this):this},r.add=function(k){for(var R=Math.max(this.g.length,k.g.length),b=[],N=0,V=0;V<=R;V++){var B=N+(this.i(V)&65535)+(k.i(V)&65535),D=(B>>>16)+(this.i(V)>>>16)+(k.i(V)>>>16);N=D>>>16,B&=65535,D&=65535,b[V]=D<<16|B}return new l(b,b[b.length-1]&-2147483648?-1:0)};function x(k,R){return k.add(C(R))}r.j=function(k){if(I(this)||I(k))return _;if(A(this))return A(k)?C(this).j(C(k)):C(C(this).j(k));if(A(k))return C(this.j(C(k)));if(0>this.l(T)&&0>k.l(T))return p(this.m()*k.m());for(var R=this.g.length+k.g.length,b=[],N=0;N<2*R;N++)b[N]=0;for(N=0;N<this.g.length;N++)for(var V=0;V<k.g.length;V++){var B=this.i(N)>>>16,D=this.i(N)&65535,qe=k.i(V)>>>16,We=k.i(V)&65535;b[2*N+2*V]+=D*We,U(b,2*N+2*V),b[2*N+2*V+1]+=B*We,U(b,2*N+2*V+1),b[2*N+2*V+1]+=D*qe,U(b,2*N+2*V+1),b[2*N+2*V+2]+=B*qe,U(b,2*N+2*V+2)}for(N=0;N<R;N++)b[N]=b[2*N+1]<<16|b[2*N];for(N=R;N<2*R;N++)b[N]=0;return new l(b,0)};function U(k,R){for(;(k[R]&65535)!=k[R];)k[R+1]+=k[R]>>>16,k[R]&=65535,R++}function $(k,R){this.g=k,this.h=R}function M(k,R){if(I(R))throw Error("division by zero");if(I(k))return new $(_,_);if(A(k))return R=M(C(k),R),new $(C(R.g),C(R.h));if(A(R))return R=M(k,C(R)),new $(C(R.g),R.h);if(30<k.g.length){if(A(k)||A(R))throw Error("slowDivide_ only works with positive integers.");for(var b=w,N=R;0>=N.l(k);)b=O(b),N=O(N);var V=H(b,1),B=H(N,1);for(N=H(N,2),b=H(b,2);!I(N);){var D=B.add(N);0>=D.l(k)&&(V=V.add(b),B=D),N=H(N,1),b=H(b,1)}return R=x(k,V.j(R)),new $(V,R)}for(V=_;0<=k.l(R);){for(b=Math.max(1,Math.floor(k.m()/R.m())),N=Math.ceil(Math.log(b)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),B=p(b),D=B.j(R);A(D)||0<D.l(k);)b-=N,B=p(b),D=B.j(R);I(B)&&(B=w),V=V.add(B),k=x(k,D)}return new $(V,k)}r.A=function(k){return M(this,k).h},r.and=function(k){for(var R=Math.max(this.g.length,k.g.length),b=[],N=0;N<R;N++)b[N]=this.i(N)&k.i(N);return new l(b,this.h&k.h)},r.or=function(k){for(var R=Math.max(this.g.length,k.g.length),b=[],N=0;N<R;N++)b[N]=this.i(N)|k.i(N);return new l(b,this.h|k.h)},r.xor=function(k){for(var R=Math.max(this.g.length,k.g.length),b=[],N=0;N<R;N++)b[N]=this.i(N)^k.i(N);return new l(b,this.h^k.h)};function O(k){for(var R=k.g.length+1,b=[],N=0;N<R;N++)b[N]=k.i(N)<<1|k.i(N-1)>>>31;return new l(b,k.h)}function H(k,R){var b=R>>5;R%=32;for(var N=k.g.length-b,V=[],B=0;B<N;B++)V[B]=0<R?k.i(B+b)>>>R|k.i(B+b+1)<<32-R:k.i(B+b);return new l(V,k.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,FC=n,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=g,$s=l}).apply(typeof cR<"u"?cR:typeof self<"u"?self:typeof window<"u"?window:{});var Zc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var jC,Yu,UC,hf,tv,BC,zC,qC;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,y,E){return f==Array.prototype||f==Object.prototype||(f[y]=E.value),f};function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Zc=="object"&&Zc];for(var y=0;y<f.length;++y){var E=f[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var n=t(this);function s(f,y){if(y)e:{var E=n;f=f.split(".");for(var P=0;P<f.length-1;P++){var G=f[P];if(!(G in E))break e;E=E[G]}f=f[f.length-1],P=E[f],y=y(P),y!=P&&y!=null&&e(E,f,{configurable:!0,writable:!0,value:y})}}function a(f,y){f instanceof String&&(f+="");var E=0,P=!1,G={next:function(){if(!P&&E<f.length){var Z=E++;return{value:y(Z,f[Z]),done:!1}}return P=!0,{done:!0,value:void 0}}};return G[Symbol.iterator]=function(){return G},G}s("Array.prototype.values",function(f){return f||function(){return a(this,function(y,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function h(f){var y=typeof f;return y=y!="object"?y:f?Array.isArray(f)?"array":y:"null",y=="array"||y=="object"&&typeof f.length=="number"}function p(f){var y=typeof f;return y=="object"&&f!=null||y=="function"}function g(f,y,E){return f.call.apply(f.bind,arguments)}function _(f,y,E){if(!f)throw Error();if(2<arguments.length){var P=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,P),f.apply(y,G)}}return function(){return f.apply(y,arguments)}}function w(f,y,E){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:_,w.apply(null,arguments)}function T(f,y){var E=Array.prototype.slice.call(arguments,1);return function(){var P=E.slice();return P.push.apply(P,arguments),f.apply(this,P)}}function I(f,y){function E(){}E.prototype=y.prototype,f.aa=y.prototype,f.prototype=new E,f.prototype.constructor=f,f.Qb=function(P,G,Z){for(var fe=Array(arguments.length-2),vt=2;vt<arguments.length;vt++)fe[vt-2]=arguments[vt];return y.prototype[G].apply(P,fe)}}function A(f){const y=f.length;if(0<y){const E=Array(y);for(let P=0;P<y;P++)E[P]=f[P];return E}return[]}function C(f,y){for(let E=1;E<arguments.length;E++){const P=arguments[E];if(h(P)){const G=f.length||0,Z=P.length||0;f.length=G+Z;for(let fe=0;fe<Z;fe++)f[G+fe]=P[fe]}else f.push(P)}}class x{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function U(f){return/^[\s\xa0]*$/.test(f)}function $(){var f=c.navigator;return f&&(f=f.userAgent)?f:""}function M(f){return M[" "](f),f}M[" "]=function(){};var O=$().indexOf("Gecko")!=-1&&!($().toLowerCase().indexOf("webkit")!=-1&&$().indexOf("Edge")==-1)&&!($().indexOf("Trident")!=-1||$().indexOf("MSIE")!=-1)&&$().indexOf("Edge")==-1;function H(f,y,E){for(const P in f)y.call(E,f[P],P,f)}function k(f,y){for(const E in f)y.call(void 0,f[E],E,f)}function R(f){const y={};for(const E in f)y[E]=f[E];return y}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(f,y){let E,P;for(let G=1;G<arguments.length;G++){P=arguments[G];for(E in P)f[E]=P[E];for(let Z=0;Z<b.length;Z++)E=b[Z],Object.prototype.hasOwnProperty.call(P,E)&&(f[E]=P[E])}}function V(f){var y=1;f=f.split(":");const E=[];for(;0<y&&f.length;)E.push(f.shift()),y--;return f.length&&E.push(f.join(":")),E}function B(f){c.setTimeout(()=>{throw f},0)}function D(){var f=ve;let y=null;return f.g&&(y=f.g,f.g=f.g.next,f.g||(f.h=null),y.next=null),y}class qe{constructor(){this.h=this.g=null}add(y,E){const P=We.get();P.set(y,E),this.h?this.h.next=P:this.g=P,this.h=P}}var We=new x(()=>new St,f=>f.reset());class St{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let Qe,ue=!1,ve=new qe,de=()=>{const f=c.Promise.resolve(void 0);Qe=()=>{f.then(z)}};var z=()=>{for(var f;f=D();){try{f.h.call(f.g)}catch(E){B(E)}var y=We;y.j(f),100>y.h&&(y.h++,f.next=y.g,y.g=f)}ue=!1};function ee(){this.s=this.s,this.C=this.C}ee.prototype.s=!1,ee.prototype.ma=function(){this.s||(this.s=!0,this.N())},ee.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function me(f,y){this.type=f,this.g=this.target=y,this.defaultPrevented=!1}me.prototype.h=function(){this.defaultPrevented=!0};var De=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var f=!1,y=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const E=()=>{};c.addEventListener("test",E,y),c.removeEventListener("test",E,y)}catch{}return f}();function Ce(f,y){if(me.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var E=this.type=f.type,P=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=y,y=f.relatedTarget){if(O){e:{try{M(y.nodeName);var G=!0;break e}catch{}G=!1}G||(y=null)}}else E=="mouseover"?y=f.fromElement:E=="mouseout"&&(y=f.toElement);this.relatedTarget=y,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:Ne[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&Ce.aa.h.call(this)}}I(Ce,me);var Ne={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Ge="closure_listenable_"+(1e6*Math.random()|0),Ye=0;function Be(f,y,E,P,G){this.listener=f,this.proxy=null,this.src=y,this.type=E,this.capture=!!P,this.ha=G,this.key=++Ye,this.da=this.fa=!1}function _t(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Tr(f){this.src=f,this.g={},this.h=0}Tr.prototype.add=function(f,y,E,P,G){var Z=f.toString();f=this.g[Z],f||(f=this.g[Z]=[],this.h++);var fe=Ot(f,y,P,G);return-1<fe?(y=f[fe],E||(y.fa=!1)):(y=new Be(y,this.src,Z,!!P,G),y.fa=E,f.push(y)),y};function Mn(f,y){var E=y.type;if(E in f.g){var P=f.g[E],G=Array.prototype.indexOf.call(P,y,void 0),Z;(Z=0<=G)&&Array.prototype.splice.call(P,G,1),Z&&(_t(y),f.g[E].length==0&&(delete f.g[E],f.h--))}}function Ot(f,y,E,P){for(var G=0;G<f.length;++G){var Z=f[G];if(!Z.da&&Z.listener==y&&Z.capture==!!E&&Z.ha==P)return G}return-1}var Tn="closure_lm_"+(1e6*Math.random()|0),di={};function Vn(f,y,E,P,G){if(Array.isArray(y)){for(var Z=0;Z<y.length;Z++)Vn(f,y[Z],E,P,G);return null}return E=nr(E),f&&f[Ge]?f.K(y,E,p(P)?!!P.capture:!1,G):lr(f,y,E,!1,P,G)}function lr(f,y,E,P,G,Z){if(!y)throw Error("Invalid event type");var fe=p(G)?!!G.capture:!!G,vt=an(f);if(vt||(f[Tn]=vt=new Tr(f)),E=vt.add(y,E,P,fe,Z),E.proxy)return E;if(P=Sn(),E.proxy=P,P.src=f,P.listener=E,f.addEventListener)De||(G=fe),G===void 0&&(G=!1),f.addEventListener(y.toString(),P,G);else if(f.attachEvent)f.attachEvent(qt(y.toString()),P);else if(f.addListener&&f.removeListener)f.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Sn(){function f(E){return y.call(f.src,f.listener,E)}const y=Mr;return f}function hi(f,y,E,P,G){if(Array.isArray(y))for(var Z=0;Z<y.length;Z++)hi(f,y[Z],E,P,G);else P=p(P)?!!P.capture:!!P,E=nr(E),f&&f[Ge]?(f=f.i,y=String(y).toString(),y in f.g&&(Z=f.g[y],E=Ot(Z,E,P,G),-1<E&&(_t(Z[E]),Array.prototype.splice.call(Z,E,1),Z.length==0&&(delete f.g[y],f.h--)))):f&&(f=an(f))&&(y=f.g[y.toString()],f=-1,y&&(f=Ot(y,E,P,G)),(E=-1<f?y[f]:null)&&Lr(E))}function Lr(f){if(typeof f!="number"&&f&&!f.da){var y=f.src;if(y&&y[Ge])Mn(y.i,f);else{var E=f.type,P=f.proxy;y.removeEventListener?y.removeEventListener(E,P,f.capture):y.detachEvent?y.detachEvent(qt(E),P):y.addListener&&y.removeListener&&y.removeListener(P),(E=an(y))?(Mn(E,f),E.h==0&&(E.src=null,y[Tn]=null)):_t(f)}}}function qt(f){return f in di?di[f]:di[f]="on"+f}function Mr(f,y){if(f.da)f=!0;else{y=new Ce(y,this);var E=f.listener,P=f.ha||f.src;f.fa&&Lr(f),f=E.call(P,y)}return f}function an(f){return f=f[Tn],f instanceof Tr?f:null}var Vr="__closure_events_fn_"+(1e9*Math.random()>>>0);function nr(f){return typeof f=="function"?f:(f[Vr]||(f[Vr]=function(y){return f.handleEvent(y)}),f[Vr])}function ht(){ee.call(this),this.i=new Tr(this),this.M=this,this.F=null}I(ht,ee),ht.prototype[Ge]=!0,ht.prototype.removeEventListener=function(f,y,E,P){hi(this,f,y,E,P)};function Et(f,y){var E,P=f.F;if(P)for(E=[];P;P=P.F)E.push(P);if(f=f.M,P=y.type||y,typeof y=="string")y=new me(y,f);else if(y instanceof me)y.target=y.target||f;else{var G=y;y=new me(P,f),N(y,G)}if(G=!0,E)for(var Z=E.length-1;0<=Z;Z--){var fe=y.g=E[Z];G=Sr(fe,P,!0,y)&&G}if(fe=y.g=f,G=Sr(fe,P,!0,y)&&G,G=Sr(fe,P,!1,y)&&G,E)for(Z=0;Z<E.length;Z++)fe=y.g=E[Z],G=Sr(fe,P,!1,y)&&G}ht.prototype.N=function(){if(ht.aa.N.call(this),this.i){var f=this.i,y;for(y in f.g){for(var E=f.g[y],P=0;P<E.length;P++)_t(E[P]);delete f.g[y],f.h--}}this.F=null},ht.prototype.K=function(f,y,E,P){return this.i.add(String(f),y,!1,E,P)},ht.prototype.L=function(f,y,E,P){return this.i.add(String(f),y,!0,E,P)};function Sr(f,y,E,P){if(y=f.i.g[String(y)],!y)return!0;y=y.concat();for(var G=!0,Z=0;Z<y.length;++Z){var fe=y[Z];if(fe&&!fe.da&&fe.capture==E){var vt=fe.listener,Jt=fe.ha||fe.src;fe.fa&&Mn(f.i,fe),G=vt.call(Jt,P)!==!1&&G}}return G&&!P.defaultPrevented}function pi(f,y,E){if(typeof f=="function")E&&(f=w(f,E));else if(f&&typeof f.handleEvent=="function")f=w(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:c.setTimeout(f,y||0)}function $t(f){f.g=pi(()=>{f.g=null,f.i&&(f.i=!1,$t(f))},f.l);const y=f.h;f.h=null,f.m.apply(null,y)}class Xe extends ee{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:$t(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Me(f){ee.call(this),this.h=f,this.g={}}I(Me,ee);var $e=[];function Ke(f){H(f.g,function(y,E){this.g.hasOwnProperty(E)&&Lr(y)},f),f.g={}}Me.prototype.N=function(){Me.aa.N.call(this),Ke(this)},Me.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var st=c.JSON.stringify,It=c.JSON.parse,Fn=class{stringify(f){return c.JSON.stringify(f,void 0)}parse(f){return c.JSON.parse(f,void 0)}};function Wr(){}Wr.prototype.h=null;function fs(f){return f.h||(f.h=f.i())}function Mi(){}var Gr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function un(){me.call(this,"d")}I(un,me);function jn(){me.call(this,"c")}I(jn,me);var Fr={},oo=null;function Vi(){return oo=oo||new ht}Fr.La="serverreachability";function j(f){me.call(this,Fr.La,f)}I(j,me);function W(f){const y=Vi();Et(y,new j(y))}Fr.STAT_EVENT="statevent";function X(f,y){me.call(this,Fr.STAT_EVENT,f),this.stat=y}I(X,me);function te(f){const y=Vi();Et(y,new X(y,f))}Fr.Ma="timingevent";function pe(f,y){me.call(this,Fr.Ma,f),this.size=y}I(pe,me);function we(f,y){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){f()},y)}function be(){this.g=!0}be.prototype.xa=function(){this.g=!1};function ge(f,y,E,P,G,Z){f.info(function(){if(f.g)if(Z)for(var fe="",vt=Z.split("&"),Jt=0;Jt<vt.length;Jt++){var at=vt[Jt].split("=");if(1<at.length){var ir=at[0];at=at[1];var Ht=ir.split("_");fe=2<=Ht.length&&Ht[1]=="type"?fe+(ir+"="+at+"&"):fe+(ir+"=redacted&")}}else fe=null;else fe=Z;return"XMLHTTP REQ ("+P+") [attempt "+G+"]: "+y+`
`+E+`
`+fe})}function Te(f,y,E,P,G,Z,fe){f.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+G+"]: "+y+`
`+E+`
`+Z+" "+fe})}function ce(f,y,E,P){f.info(function(){return"XMLHTTP TEXT ("+y+"): "+He(f,E)+(P?" "+P:"")})}function Le(f,y){f.info(function(){return"TIMEOUT: "+y})}be.prototype.info=function(){};function He(f,y){if(!f.g)return y;if(!y)return null;try{var E=JSON.parse(y);if(E){for(f=0;f<E.length;f++)if(Array.isArray(E[f])){var P=E[f];if(!(2>P.length)){var G=P[1];if(Array.isArray(G)&&!(1>G.length)){var Z=G[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(var fe=1;fe<G.length;fe++)G[fe]=""}}}}return st(E)}catch{return y}}var pt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Vt={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},tt;function lt(){}I(lt,Wr),lt.prototype.g=function(){return new XMLHttpRequest},lt.prototype.i=function(){return{}},tt=new lt;function mt(f,y,E,P){this.j=f,this.i=y,this.l=E,this.R=P||1,this.U=new Me(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Un}function Un(){this.i=null,this.g="",this.h=!1}var Bn={},Ir={};function cr(f,y,E){f.L=1,f.v=ms(ln(y)),f.m=E,f.P=!0,Fi(f,null)}function Fi(f,y){f.F=Date.now(),gt(f),f.A=ln(f.v);var E=f.A,P=f.R;Array.isArray(P)||(P=[String(P)]),ys(E.i,"t",P),f.C=0,E=f.j.J,f.h=new Un,f.g=Xl(f.j,E?y:null,!f.m),0<f.O&&(f.M=new Xe(w(f.Y,f,f.g),f.O)),y=f.U,E=f.g,P=f.ca;var G="readystatechange";Array.isArray(G)||(G&&($e[0]=G.toString()),G=$e);for(var Z=0;Z<G.length;Z++){var fe=Vn(E,G[Z],P||y.handleEvent,!1,y.h||y);if(!fe)break;y.g[fe.key]=fe}y=f.H?R(f.H):{},f.m?(f.u||(f.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,y)):(f.u="GET",f.g.ea(f.A,f.u,null,y)),W(),ge(f.i,f.u,f.A,f.l,f.R,f.m)}mt.prototype.ca=function(f){f=f.target;const y=this.M;y&&Yr(f)==3?y.j():this.Y(f)},mt.prototype.Y=function(f){try{if(f==this.g)e:{const Ht=Yr(this.g);var y=this.g.Ba();const Rn=this.g.Z();if(!(3>Ht)&&(Ht!=3||this.g&&(this.h.h||this.g.oa()||pu(this.g)))){this.J||Ht!=4||y==7||(y==8||0>=Rn?W(3):W(2)),ot(this);var E=this.g.Z();this.X=E;t:if(mi(this)){var P=pu(this.g);f="";var G=P.length,Z=Yr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){fr(this),Rt(this);var fe="";break t}this.h.i=new c.TextDecoder}for(y=0;y<G;y++)this.h.h=!0,f+=this.h.i.decode(P[y],{stream:!(Z&&y==G-1)});P.length=0,this.h.g+=f,this.C=0,fe=this.h.g}else fe=this.g.oa();if(this.o=E==200,Te(this.i,this.u,this.A,this.l,this.R,Ht,E),this.o){if(this.T&&!this.K){t:{if(this.g){var vt,Jt=this.g;if((vt=Jt.g?Jt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(vt)){var at=vt;break t}}at=null}if(E=at)ce(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,qn(this,E);else{this.o=!1,this.s=3,te(12),fr(this),Rt(this);break e}}if(this.P){E=!0;let fn;for(;!this.J&&this.C<fe.length;)if(fn=zn(this,fe),fn==Ir){Ht==4&&(this.s=4,te(14),E=!1),ce(this.i,this.l,null,"[Incomplete Response]");break}else if(fn==Bn){this.s=4,te(15),ce(this.i,this.l,fe,"[Invalid Chunk]"),E=!1;break}else ce(this.i,this.l,fn,null),qn(this,fn);if(mi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ht!=4||fe.length!=0||this.h.h||(this.s=1,te(16),E=!1),this.o=this.o&&E,!E)ce(this.i,this.l,fe,"[Invalid Chunked Response]"),fr(this),Rt(this);else if(0<fe.length&&!this.W){this.W=!0;var ir=this.j;ir.g==this&&ir.ba&&!ir.M&&(ir.j.info("Great, no buffering proxy detected. Bytes received: "+fe.length),gu(ir),ir.M=!0,te(11))}}else ce(this.i,this.l,fe,null),qn(this,fe);Ht==4&&fr(this),this.o&&!this.J&&(Ht==4?la(this.j,this):(this.o=!1,gt(this)))}else ia(this.g),E==400&&0<fe.indexOf("Unknown SID")?(this.s=3,te(12)):(this.s=0,te(13)),fr(this),Rt(this)}}}catch{}finally{}};function mi(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function zn(f,y){var E=f.C,P=y.indexOf(`
`,E);return P==-1?Ir:(E=Number(y.substring(E,P)),isNaN(E)?Bn:(P+=1,P+E>y.length?Ir:(y=y.slice(P,P+E),f.C=P+E,y)))}mt.prototype.cancel=function(){this.J=!0,fr(this)};function gt(f){f.S=Date.now()+f.I,ji(f,f.I)}function ji(f,y){if(f.B!=null)throw Error("WatchDog timer not null");f.B=we(w(f.ba,f),y)}function ot(f){f.B&&(c.clearTimeout(f.B),f.B=null)}mt.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(Le(this.i,this.A),this.L!=2&&(W(),te(17)),fr(this),this.s=2,Rt(this)):ji(this,this.S-f)};function Rt(f){f.j.G==0||f.J||la(f.j,f)}function fr(f){ot(f);var y=f.M;y&&typeof y.ma=="function"&&y.ma(),f.M=null,Ke(f.U),f.g&&(y=f.g,f.g=null,y.abort(),y.ma())}function qn(f,y){try{var E=f.j;if(E.G!=0&&(E.g==f||jr(E.h,f))){if(!f.K&&jr(E.h,f)&&E.G==3){try{var P=E.Da.g.parse(y)}catch{P=null}if(Array.isArray(P)&&P.length==3){var G=P;if(G[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<f.F)ua(E),Kn(E);else break e;aa(E),te(18)}}else E.za=G[1],0<E.za-E.T&&37500>G[2]&&E.F&&E.v==0&&!E.C&&(E.C=we(w(E.Za,E),6e3));if(1>=Xo(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else $i(E,11)}else if((f.K||E.g==f)&&ua(E),!U(y))for(G=E.Da.g.parse(y),y=0;y<G.length;y++){let at=G[y];if(E.T=at[0],at=at[1],E.G==2)if(at[0]=="c"){E.K=at[1],E.ia=at[2];const ir=at[3];ir!=null&&(E.la=ir,E.j.info("VER="+E.la));const Ht=at[4];Ht!=null&&(E.Aa=Ht,E.j.info("SVER="+E.Aa));const Rn=at[5];Rn!=null&&typeof Rn=="number"&&0<Rn&&(P=1.5*Rn,E.L=P,E.j.info("backChannelRequestTimeoutMs_="+P)),P=E;const fn=f.g;if(fn){const ho=fn.g?fn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ho){var Z=P.h;Z.g||ho.indexOf("spdy")==-1&&ho.indexOf("quic")==-1&&ho.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(cu(Z,Z.h),Z.h=null))}if(P.D){const fa=fn.g?fn.g.getResponseHeader("X-HTTP-Session-Id"):null;fa&&(P.ya=fa,wt(P.I,P.D,fa))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-f.F,E.j.info("Handshake RTT: "+E.R+"ms")),P=E;var fe=f;if(P.qa=Jl(P,P.J?P.ia:null,P.W),fe.K){jl(P.h,fe);var vt=fe,Jt=P.L;Jt&&(vt.I=Jt),vt.B&&(ot(vt),gt(vt)),P.g=fe}else fo(P);0<E.i.length&&_i(E)}else at[0]!="stop"&&at[0]!="close"||$i(E,7);else E.G==3&&(at[0]=="stop"||at[0]=="close"?at[0]=="stop"?$i(E,7):hr(E):at[0]!="noop"&&E.l&&E.l.ta(at),E.v=0)}}W(4)}catch{}}var Pt=class{constructor(f,y){this.g=f,this.map=y}};function Kr(f){this.l=f||10,c.PerformanceNavigationTiming?(f=c.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Rr(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Xo(f){return f.h?1:f.g?f.g.size:0}function jr(f,y){return f.h?f.h==y:f.g?f.g.has(y):!1}function cu(f,y){f.g?f.g.add(y):f.h=y}function jl(f,y){f.h&&f.h==y?f.h=null:f.g&&f.g.has(y)&&f.g.delete(y)}Kr.prototype.cancel=function(){if(this.i=Ul(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Ul(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let y=f.i;for(const E of f.g.values())y=y.concat(E.D);return y}return A(f.i)}function Zo(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(h(f)){for(var y=[],E=f.length,P=0;P<E;P++)y.push(f[P]);return y}y=[],E=0;for(P in f)y[E++]=f[P];return y}function ea(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(h(f)||typeof f=="string"){var y=[];f=f.length;for(var E=0;E<f;E++)y.push(E);return y}y=[],E=0;for(const P in f)y[E++]=P;return y}}}function ds(f,y){if(f.forEach&&typeof f.forEach=="function")f.forEach(y,void 0);else if(h(f)||typeof f=="string")Array.prototype.forEach.call(f,y,void 0);else for(var E=ea(f),P=Zo(f),G=P.length,Z=0;Z<G;Z++)y.call(void 0,P[Z],E&&E[Z],f)}var ao=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $d(f,y){if(f){f=f.split("&");for(var E=0;E<f.length;E++){var P=f[E].indexOf("="),G=null;if(0<=P){var Z=f[E].substring(0,P);G=f[E].substring(P+1)}else Z=f[E];y(Z,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function Ui(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Ui){this.h=f.h,uo(this,f.j),this.o=f.o,this.g=f.g,hs(this,f.s),this.l=f.l;var y=f.i,E=new gi;E.i=y.i,y.g&&(E.g=new Map(y.g),E.h=y.h),ps(this,E),this.m=f.m}else f&&(y=String(f).match(ao))?(this.h=!1,uo(this,y[1]||"",!0),this.o=rt(y[2]||""),this.g=rt(y[3]||"",!0),hs(this,y[4]),this.l=rt(y[5]||"",!0),ps(this,y[6]||"",!0),this.m=rt(y[7]||"")):(this.h=!1,this.i=new gi(null,this.h))}Ui.prototype.toString=function(){var f=[],y=this.j;y&&f.push(gs(y,ta,!0),":");var E=this.g;return(E||y=="file")&&(f.push("//"),(y=this.o)&&f.push(gs(y,ta,!0),"@"),f.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&f.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&f.push("/"),f.push(gs(E,E.charAt(0)=="/"?ql:zl,!0))),(E=this.i.toString())&&f.push("?",E),(E=this.m)&&f.push("#",gs(E,fu)),f.join("")};function ln(f){return new Ui(f)}function uo(f,y,E){f.j=E?rt(y,!0):y,f.j&&(f.j=f.j.replace(/:$/,""))}function hs(f,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);f.s=y}else f.s=null}function ps(f,y,E){y instanceof gi?(f.i=y,yi(f.i,f.h)):(E||(y=gs(y,$l)),f.i=new gi(y,f.h))}function wt(f,y,E){f.i.set(y,E)}function ms(f){return wt(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function rt(f,y){return f?y?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function gs(f,y,E){return typeof f=="string"?(f=encodeURI(f).replace(y,Bl),E&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Bl(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var ta=/[#\/\?@]/g,zl=/[#\?:]/g,ql=/[#\?]/g,$l=/[#\?@]/g,fu=/#/g;function gi(f,y){this.h=this.g=null,this.i=f||null,this.j=!!y}function dr(f){f.g||(f.g=new Map,f.h=0,f.i&&$d(f.i,function(y,E){f.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}r=gi.prototype,r.add=function(f,y){dr(this),this.i=null,f=In(this,f);var E=this.g.get(f);return E||this.g.set(f,E=[]),E.push(y),this.h+=1,this};function $n(f,y){dr(f),y=In(f,y),f.g.has(y)&&(f.i=null,f.h-=f.g.get(y).length,f.g.delete(y))}function Hn(f,y){return dr(f),y=In(f,y),f.g.has(y)}r.forEach=function(f,y){dr(this),this.g.forEach(function(E,P){E.forEach(function(G){f.call(y,G,P,this)},this)},this)},r.na=function(){dr(this);const f=Array.from(this.g.values()),y=Array.from(this.g.keys()),E=[];for(let P=0;P<y.length;P++){const G=f[P];for(let Z=0;Z<G.length;Z++)E.push(y[P])}return E},r.V=function(f){dr(this);let y=[];if(typeof f=="string")Hn(this,f)&&(y=y.concat(this.g.get(In(this,f))));else{f=Array.from(this.g.values());for(let E=0;E<f.length;E++)y=y.concat(f[E])}return y},r.set=function(f,y){return dr(this),this.i=null,f=In(this,f),Hn(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[y]),this.h+=1,this},r.get=function(f,y){return f?(f=this.V(f),0<f.length?String(f[0]):y):y};function ys(f,y,E){$n(f,y),0<E.length&&(f.i=null,f.g.set(In(f,y),A(E)),f.h+=E.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],y=Array.from(this.g.keys());for(var E=0;E<y.length;E++){var P=y[E];const Z=encodeURIComponent(String(P)),fe=this.V(P);for(P=0;P<fe.length;P++){var G=Z;fe[P]!==""&&(G+="="+encodeURIComponent(String(fe[P]))),f.push(G)}}return this.i=f.join("&")};function In(f,y){return y=String(y),f.j&&(y=y.toLowerCase()),y}function yi(f,y){y&&!f.j&&(dr(f),f.i=null,f.g.forEach(function(E,P){var G=P.toLowerCase();P!=G&&($n(this,P),ys(this,G,E))},f)),f.j=y}function Hd(f,y){const E=new be;if(c.Image){const P=new Image;P.onload=T(Qr,E,"TestLoadImage: loaded",!0,y,P),P.onerror=T(Qr,E,"TestLoadImage: error",!1,y,P),P.onabort=T(Qr,E,"TestLoadImage: abort",!1,y,P),P.ontimeout=T(Qr,E,"TestLoadImage: timeout",!1,y,P),c.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=f}else y(!1)}function Hl(f,y){const E=new be,P=new AbortController,G=setTimeout(()=>{P.abort(),Qr(E,"TestPingServer: timeout",!1,y)},1e4);fetch(f,{signal:P.signal}).then(Z=>{clearTimeout(G),Z.ok?Qr(E,"TestPingServer: ok",!0,y):Qr(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(G),Qr(E,"TestPingServer: error",!1,y)})}function Qr(f,y,E,P,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),P(E)}catch{}}function Wd(){this.g=new Fn}function Wl(f,y,E){const P=E||"";try{ds(f,function(G,Z){let fe=G;p(G)&&(fe=st(G)),y.push(P+Z+"="+encodeURIComponent(fe))})}catch(G){throw y.push(P+"type="+encodeURIComponent("_badmap")),G}}function Bi(f){this.l=f.Ub||null,this.j=f.eb||!1}I(Bi,Wr),Bi.prototype.g=function(){return new lo(this.l,this.j)},Bi.prototype.i=function(f){return function(){return f}}({});function lo(f,y){ht.call(this),this.D=f,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(lo,ht),r=lo.prototype,r.open=function(f,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=y,this.readyState=1,Gn(this)},r.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(y.body=f),(this.D||c).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Wn(this)),this.readyState=0},r.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Gn(this)),this.g&&(this.readyState=3,Gn(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Gl(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function Gl(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}r.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var y=f.value?f.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!f.done}))&&(this.response=this.responseText+=y)}f.done?Wn(this):Gn(this),this.readyState==3&&Gl(this)}},r.Ra=function(f){this.g&&(this.response=this.responseText=f,Wn(this))},r.Qa=function(f){this.g&&(this.response=f,Wn(this))},r.ga=function(){this.g&&Wn(this)};function Wn(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Gn(f)}r.setRequestHeader=function(f,y){this.u.append(f,y)},r.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,f.push(E[0]+": "+E[1]),E=y.next();return f.join(`\r
`)};function Gn(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(lo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function zi(f){let y="";return H(f,function(E,P){y+=P,y+=":",y+=E,y+=`\r
`}),y}function vs(f,y,E){e:{for(P in E){var P=!1;break e}P=!0}P||(E=zi(E),typeof f=="string"?E!=null&&encodeURIComponent(String(E)):wt(f,y,E))}function xt(f){ht.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(xt,ht);var Gd=/^https?$/i,du=["POST","PUT"];r=xt.prototype,r.Ha=function(f){this.J=f},r.ea=function(f,y,E,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);y=y?y.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():tt.g(),this.v=this.o?fs(this.o):fs(tt),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(y,String(f),!0),this.B=!1}catch(Z){co(this,Z);return}if(f=E||"",E=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var G in P)E.set(G,P[G]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const Z of P.keys())E.set(Z,P.get(Z));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(E.keys()).find(Z=>Z.toLowerCase()=="content-type"),G=c.FormData&&f instanceof c.FormData,!(0<=Array.prototype.indexOf.call(du,y,void 0))||P||G||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,fe]of E)this.g.setRequestHeader(Z,fe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{na(this),this.u=!0,this.g.send(f),this.u=!1}catch(Z){co(this,Z)}};function co(f,y){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=y,f.m=5,ra(f),cn(f)}function ra(f){f.A||(f.A=!0,Et(f,"complete"),Et(f,"error"))}r.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Et(this,"complete"),Et(this,"abort"),cn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),cn(this,!0)),xt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?hu(this):this.bb())},r.bb=function(){hu(this)};function hu(f){if(f.h&&typeof l<"u"&&(!f.v[1]||Yr(f)!=4||f.Z()!=2)){if(f.u&&Yr(f)==4)pi(f.Ea,0,f);else if(Et(f,"readystatechange"),Yr(f)==4){f.h=!1;try{const fe=f.Z();e:switch(fe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var P;if(P=fe===0){var G=String(f.D).match(ao)[1]||null;!G&&c.self&&c.self.location&&(G=c.self.location.protocol.slice(0,-1)),P=!Gd.test(G?G.toLowerCase():"")}E=P}if(E)Et(f,"complete"),Et(f,"success");else{f.m=6;try{var Z=2<Yr(f)?f.g.statusText:""}catch{Z=""}f.l=Z+" ["+f.Z()+"]",ra(f)}}finally{cn(f)}}}}function cn(f,y){if(f.g){na(f);const E=f.g,P=f.v[0]?()=>{}:null;f.g=null,f.v=null,y||Et(f,"ready");try{E.onreadystatechange=P}catch{}}}function na(f){f.I&&(c.clearTimeout(f.I),f.I=null)}r.isActive=function(){return!!this.g};function Yr(f){return f.g?f.g.readyState:0}r.Z=function(){try{return 2<Yr(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(f){if(this.g){var y=this.g.responseText;return f&&y.indexOf(f)==0&&(y=y.substring(f.length)),It(y)}};function pu(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function ia(f){const y={};f=(f.g&&2<=Yr(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<f.length;P++){if(U(f[P]))continue;var E=V(f[P]);const G=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Z=y[G]||[];y[G]=Z,Z.push(E)}k(y,function(P){return P.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function vi(f,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[f]||y}function mu(f){this.Aa=0,this.i=[],this.j=new be,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=vi("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=vi("baseRetryDelayMs",5e3,f),this.cb=vi("retryDelaySeedMs",1e4,f),this.Wa=vi("forwardChannelMaxRetries",2,f),this.wa=vi("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new Kr(f&&f.concurrentRequestLimit),this.Da=new Wd,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=mu.prototype,r.la=8,r.G=1,r.connect=function(f,y,E,P){te(0),this.W=f,this.H=y||{},E&&P!==void 0&&(this.H.OSID=E,this.H.OAID=P),this.F=this.X,this.I=Jl(this,null,this.W),_i(this)};function hr(f){if(sa(f),f.G==3){var y=f.U++,E=ln(f.I);if(wt(E,"SID",f.K),wt(E,"RID",y),wt(E,"TYPE","terminate"),qi(f,E),y=new mt(f,f.j,y),y.L=2,y.v=ms(ln(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(y.v.toString(),"")}catch{}!E&&c.Image&&(new Image().src=y.v,E=!0),E||(y.g=Xl(y.j,null),y.g.ea(y.v)),y.F=Date.now(),gt(y)}Yl(f)}function Kn(f){f.g&&(gu(f),f.g.cancel(),f.g=null)}function sa(f){Kn(f),f.u&&(c.clearTimeout(f.u),f.u=null),ua(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&c.clearTimeout(f.s),f.s=null)}function _i(f){if(!Rr(f.h)&&!f.s){f.s=!0;var y=f.Ga;Qe||de(),ue||(Qe(),ue=!0),ve.add(y,f),f.B=0}}function Kd(f,y){return Xo(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=y.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=we(w(f.Ga,f,y),Ql(f,f.B)),f.B++,!0)}r.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const G=new mt(this,this.j,f);let Z=this.o;if(this.S&&(Z?(Z=R(Z),N(Z,this.S)):Z=this.S),this.m!==null||this.O||(G.H=Z,Z=null),this.P)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var P=this.i[E];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break t}P=void 0}if(P===void 0)break;if(y+=P,4096<y){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=_s(this,G,y),E=ln(this.I),wt(E,"RID",f),wt(E,"CVER",22),this.D&&wt(E,"X-HTTP-Session-Id",this.D),qi(this,E),Z&&(this.O?y="headers="+encodeURIComponent(String(zi(Z)))+"&"+y:this.m&&vs(E,this.m,Z)),cu(this.h,G),this.Ua&&wt(E,"TYPE","init"),this.P?(wt(E,"$req",y),wt(E,"SID","null"),G.T=!0,cr(G,E,null)):cr(G,E,y),this.G=2}}else this.G==3&&(f?oa(this,f):this.i.length==0||Rr(this.h)||oa(this))};function oa(f,y){var E;y?E=y.l:E=f.U++;const P=ln(f.I);wt(P,"SID",f.K),wt(P,"RID",E),wt(P,"AID",f.T),qi(f,P),f.m&&f.o&&vs(P,f.m,f.o),E=new mt(f,f.j,E,f.B+1),f.m===null&&(E.H=f.o),y&&(f.i=y.D.concat(f.i)),y=_s(f,E,1e3),E.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),cu(f.h,E),cr(E,P,y)}function qi(f,y){f.H&&H(f.H,function(E,P){wt(y,P,E)}),f.l&&ds({},function(E,P){wt(y,P,E)})}function _s(f,y,E){E=Math.min(f.i.length,E);var P=f.l?w(f.l.Na,f.l,f):null;e:{var G=f.i;let Z=-1;for(;;){const fe=["count="+E];Z==-1?0<E?(Z=G[0].g,fe.push("ofs="+Z)):Z=0:fe.push("ofs="+Z);let vt=!0;for(let Jt=0;Jt<E;Jt++){let at=G[Jt].g;const ir=G[Jt].map;if(at-=Z,0>at)Z=Math.max(0,G[Jt].g-100),vt=!1;else try{Wl(ir,fe,"req"+at+"_")}catch{P&&P(ir)}}if(vt){P=fe.join("&");break e}}}return f=f.i.splice(0,E),y.D=f,P}function fo(f){if(!f.g&&!f.u){f.Y=1;var y=f.Fa;Qe||de(),ue||(Qe(),ue=!0),ve.add(y,f),f.v=0}}function aa(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=we(w(f.Fa,f),Ql(f,f.v)),f.v++,!0)}r.Fa=function(){if(this.u=null,Kl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=we(w(this.ab,this),f)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,te(10),Kn(this),Kl(this))};function gu(f){f.A!=null&&(c.clearTimeout(f.A),f.A=null)}function Kl(f){f.g=new mt(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var y=ln(f.qa);wt(y,"RID","rpc"),wt(y,"SID",f.K),wt(y,"AID",f.T),wt(y,"CI",f.F?"0":"1"),!f.F&&f.ja&&wt(y,"TO",f.ja),wt(y,"TYPE","xmlhttp"),qi(f,y),f.m&&f.o&&vs(y,f.m,f.o),f.L&&(f.g.I=f.L);var E=f.g;f=f.ia,E.L=1,E.v=ms(ln(y)),E.m=null,E.P=!0,Fi(E,f)}r.Za=function(){this.C!=null&&(this.C=null,Kn(this),aa(this),te(19))};function ua(f){f.C!=null&&(c.clearTimeout(f.C),f.C=null)}function la(f,y){var E=null;if(f.g==y){ua(f),gu(f),f.g=null;var P=2}else if(jr(f.h,y))E=y.D,jl(f.h,y),P=1;else return;if(f.G!=0){if(y.o)if(P==1){E=y.m?y.m.length:0,y=Date.now()-y.F;var G=f.B;P=Vi(),Et(P,new pe(P,E)),_i(f)}else fo(f);else if(G=y.s,G==3||G==0&&0<y.X||!(P==1&&Kd(f,y)||P==2&&aa(f)))switch(E&&0<E.length&&(y=f.h,y.i=y.i.concat(E)),G){case 1:$i(f,5);break;case 4:$i(f,10);break;case 3:$i(f,6);break;default:$i(f,2)}}}function Ql(f,y){let E=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(E*=2),E*y}function $i(f,y){if(f.j.info("Error code "+y),y==2){var E=w(f.fb,f),P=f.Xa;const G=!P;P=new Ui(P||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||uo(P,"https"),ms(P),G?Hd(P.toString(),E):Hl(P.toString(),E)}else te(2);f.G=0,f.l&&f.l.sa(y),Yl(f),sa(f)}r.fb=function(f){f?(this.j.info("Successfully pinged google.com"),te(2)):(this.j.info("Failed to ping google.com"),te(1))};function Yl(f){if(f.G=0,f.ka=[],f.l){const y=Ul(f.h);(y.length!=0||f.i.length!=0)&&(C(f.ka,y),C(f.ka,f.i),f.h.i.length=0,A(f.i),f.i.length=0),f.l.ra()}}function Jl(f,y,E){var P=E instanceof Ui?ln(E):new Ui(E);if(P.g!="")y&&(P.g=y+"."+P.g),hs(P,P.s);else{var G=c.location;P=G.protocol,y=y?y+"."+G.hostname:G.hostname,G=+G.port;var Z=new Ui(null);P&&uo(Z,P),y&&(Z.g=y),G&&hs(Z,G),E&&(Z.l=E),P=Z}return E=f.D,y=f.ya,E&&y&&wt(P,E,y),wt(P,"VER",f.la),qi(f,P),P}function Xl(f,y,E){if(y&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=f.Ca&&!f.pa?new xt(new Bi({eb:E})):new xt(f.pa),y.Ha(f.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function yu(){}r=yu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ca(){}ca.prototype.g=function(f,y){return new Ur(f,y)};function Ur(f,y){ht.call(this),this.g=new mu(y),this.l=f,this.h=y&&y.messageUrlParams||null,f=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(f?f["X-WebChannel-Content-Type"]=y.messageContentType:f={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(f?f["X-WebChannel-Client-Profile"]=y.va:f={"X-WebChannel-Client-Profile":y.va}),this.g.S=f,(f=y&&y.Sb)&&!U(f)&&(this.g.m=f),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!U(y)&&(this.g.D=y,f=this.h,f!==null&&y in f&&(f=this.h,y in f&&delete f[y])),this.j=new wi(this)}I(Ur,ht),Ur.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ur.prototype.close=function(){hr(this.g)},Ur.prototype.o=function(f){var y=this.g;if(typeof f=="string"){var E={};E.__data__=f,f=E}else this.u&&(E={},E.__data__=st(f),f=E);y.i.push(new Pt(y.Ya++,f)),y.G==3&&_i(y)},Ur.prototype.N=function(){this.g.l=null,delete this.j,hr(this.g),delete this.g,Ur.aa.N.call(this)};function Zl(f){un.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var y=f.__sm__;if(y){e:{for(const E in y){f=E;break e}f=void 0}(this.i=f)&&(f=this.i,y=y!==null&&f in y?y[f]:void 0),this.data=y}else this.data=f}I(Zl,un);function ec(){jn.call(this),this.status=1}I(ec,jn);function wi(f){this.g=f}I(wi,yu),wi.prototype.ua=function(){Et(this.g,"a")},wi.prototype.ta=function(f){Et(this.g,new Zl(f))},wi.prototype.sa=function(f){Et(this.g,new ec)},wi.prototype.ra=function(){Et(this.g,"b")},ca.prototype.createWebChannel=ca.prototype.g,Ur.prototype.send=Ur.prototype.o,Ur.prototype.open=Ur.prototype.m,Ur.prototype.close=Ur.prototype.close,qC=function(){return new ca},zC=function(){return Vi()},BC=Fr,tv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},pt.NO_ERROR=0,pt.TIMEOUT=8,pt.HTTP_ERROR=6,hf=pt,Vt.COMPLETE="complete",UC=Vt,Mi.EventType=Gr,Gr.OPEN="a",Gr.CLOSE="b",Gr.ERROR="c",Gr.MESSAGE="d",ht.prototype.listen=ht.prototype.K,Yu=Mi,xt.prototype.listenOnce=xt.prototype.L,xt.prototype.getLastError=xt.prototype.Ka,xt.prototype.getLastErrorCode=xt.prototype.Ba,xt.prototype.getStatus=xt.prototype.Z,xt.prototype.getResponseJson=xt.prototype.Oa,xt.prototype.getResponseText=xt.prototype.oa,xt.prototype.send=xt.prototype.ea,xt.prototype.setWithCredentials=xt.prototype.Ha,jC=xt}).apply(typeof Zc<"u"?Zc:typeof self<"u"?self:typeof window<"u"?window:{});const fR="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Or.UNAUTHENTICATED=new Or(null),Or.GOOGLE_CREDENTIALS=new Or("google-credentials-uid"),Or.FIRST_PARTY=new Or("first-party-uid"),Or.MOCK_USER=new Or("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let su="11.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uo=new Rd("@firebase/firestore");function Da(){return Uo.logLevel}function _e(r,...e){if(Uo.logLevel<=Ze.DEBUG){const t=e.map(v_);Uo.debug(`Firestore (${su}): ${r}`,...t)}}function us(r,...e){if(Uo.logLevel<=Ze.ERROR){const t=e.map(v_);Uo.error(`Firestore (${su}): ${r}`,...t)}}function Wa(r,...e){if(Uo.logLevel<=Ze.WARN){const t=e.map(v_);Uo.warn(`Firestore (${su}): ${r}`,...t)}}function v_(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fe(r="Unexpected state"){const e=`FIRESTORE (${su}) INTERNAL ASSERTION FAILED: `+r;throw us(e),new Error(e)}function yt(r,e){r||Fe()}function ze(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ie extends fi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class xV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Or.UNAUTHENTICATED))}shutdown(){}}class DV{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class NV{constructor(e){this.t=e,this.currentUser=Or.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){yt(this.o===void 0);let n=this.i;const s=h=>this.i!==n?(n=this.i,t(h)):Promise.resolve();let a=new No;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new No,e.enqueueRetryable(()=>s(this.currentUser))};const l=()=>{const h=a;e.enqueueRetryable(async()=>{await h.promise,await s(this.currentUser)})},c=h=>{_e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(h=>c(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?c(h):(_e("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new No)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(n=>this.i!==e?(_e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(yt(typeof n.accessToken=="string"),new $C(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return yt(e===null||typeof e=="string"),new Or(e)}}class LV{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=Or.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class MV{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new LV(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Or.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class VV{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class FV{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){yt(this.o===void 0);const n=a=>{a.error!=null&&_e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.R;return this.R=a.token,_e("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>n(a))};const s=a=>{_e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?s(a):_e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(yt(typeof t.token=="string"),this.R=t.token,new VV(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jV(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let n=0;n<r;n++)t[n]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const s=jV(40);for(let a=0;a<s.length;++a)n.length<20&&s[a]<t&&(n+=e.charAt(s[a]%e.length))}return n}}function nt(r,e){return r<e?-1:r>e?1:0}function Ga(r,e,t){return r.length===e.length&&r.every((n,s)=>t(n,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{static now(){return er.fromMillis(Date.now())}static fromDate(e){return er.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new er(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ie(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ie(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ie(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ie(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?nt(this.nanoseconds,e.nanoseconds):nt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{static fromTimestamp(e){return new Ue(e)}static min(){return new Ue(new er(0,0))}static max(){return new Ue(new er(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e,t,n){t===void 0?t=0:t>e.length&&Fe(),n===void 0?n=e.length-t:n>e.length-t&&Fe(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return Ri.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ri?e.forEach(n=>{t.push(n)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let s=0;s<n;s++){const a=Ri.compareSegments(e.get(s),t.get(s));if(a!==0)return a}return Math.sign(e.length-t.length)}static compareSegments(e,t){const n=Ri.isNumericId(e),s=Ri.isNumericId(t);return n&&!s?-1:!n&&s?1:n&&s?Ri.extractNumericId(e).compare(Ri.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return $s.fromString(e.substring(4,e.length-2))}}class bt extends Ri{construct(e,t,n){return new bt(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new Ie(ie.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(s=>s.length>0))}return new bt(t)}static emptyPath(){return new bt([])}}const UV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _r extends Ri{construct(e,t,n){return new _r(e,t,n)}static isValidIdentifier(e){return UV.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_r.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new _r(["__name__"])}static fromServerFormat(e){const t=[];let n="",s=0;const a=()=>{if(n.length===0)throw new Ie(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let l=!1;for(;s<e.length;){const c=e[s];if(c==="\\"){if(s+1===e.length)throw new Ie(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new Ie(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=h,s+=2}else c==="`"?(l=!l,s++):c!=="."||l?(n+=c,s++):(a(),s++)}if(a(),l)throw new Ie(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new _r(t)}static emptyPath(){return new _r([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.path=e}static fromPath(e){return new Ae(bt.fromString(e))}static fromName(e){return new Ae(bt.fromString(e).popFirst(5))}static empty(){return new Ae(bt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&bt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return bt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ae(new bt(e.slice()))}}function BV(r,e){const t=r.toTimestamp().seconds,n=r.toTimestamp().nanoseconds+1,s=Ue.fromTimestamp(n===1e9?new er(t+1,0):new er(t,n));return new Qs(s,Ae.empty(),e)}function zV(r){return new Qs(r.readTime,r.key,-1)}class Qs{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Qs(Ue.min(),Ae.empty(),-1)}static max(){return new Qs(Ue.max(),Ae.empty(),-1)}}function qV(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=Ae.comparator(r.documentKey,e.documentKey),t!==0?t:nt(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $V="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class HV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ou(r){if(r.code!==ie.FAILED_PRECONDITION||r.message!==$V)throw r;_e("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Fe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ne((n,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(n,s)},this.catchCallback=a=>{this.wrapFailure(t,a).next(n,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ne?t:ne.resolve(t)}catch(t){return ne.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ne.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ne.reject(t)}static resolve(e){return new ne((t,n)=>{t(e)})}static reject(e){return new ne((t,n)=>{n(e)})}static waitFor(e){return new ne((t,n)=>{let s=0,a=0,l=!1;e.forEach(c=>{++s,c.next(()=>{++a,l&&a===s&&t()},h=>n(h))}),l=!0,a===s&&t()})}static or(e){let t=ne.resolve(!1);for(const n of e)t=t.next(s=>s?ne.resolve(s):n());return t}static forEach(e,t){const n=[];return e.forEach((s,a)=>{n.push(t.call(this,s,a))}),this.waitFor(n)}static mapArray(e,t){return new ne((n,s)=>{const a=e.length,l=new Array(a);let c=0;for(let h=0;h<a;h++){const p=h;t(e[p]).next(g=>{l[p]=g,++c,c===a&&n(l)},g=>s(g))}})}static doWhile(e,t){return new ne((n,s)=>{const a=()=>{e()===!0?t().next(()=>{a()},s):n()};a()})}}function WV(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function au(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=n=>this.ie(n),this.se=n=>t.writeSequenceNumber(n))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Od.oe=-1;function xd(r){return r==null}function qf(r){return r===0&&1/r==-1/0}function GV(r){return typeof r=="number"&&Number.isInteger(r)&&!qf(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KV(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=dR(e)),e=QV(r.get(t),e);return dR(e)}function QV(r,e){let t=e;const n=r.length;for(let s=0;s<n;s++){const a=r.charAt(s);switch(a){case"\0":t+="";break;case"":t+="";break;default:t+=a}}return t}function dR(r){return r+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hR(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Go(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function WC(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e,t){this.comparator=e,this.root=t||vr.EMPTY}insert(e,t){return new Mt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,vr.BLACK,null,null))}remove(e){return new Mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(n===0)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return t+n.left.size;s<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ef(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ef(this.root,e,this.comparator,!1)}getReverseIterator(){return new ef(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ef(this.root,e,this.comparator,!0)}}class ef{constructor(e,t,n,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?n(e.key,t):1,t&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class vr{constructor(e,t,n,s,a){this.key=e,this.value=t,this.color=n??vr.RED,this.left=s??vr.EMPTY,this.right=a??vr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,s,a){return new vr(e??this.key,t??this.value,n??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let s=this;const a=n(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,t,n),null):a===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,n)),s.fixUp()}removeMin(){if(this.left.isEmpty())return vr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return vr.EMPTY;n=s.right.min(),s=s.copy(n.key,n.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,vr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,vr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Fe();const e=this.left.check();if(e!==this.right.check())throw Fe();return e+(this.isRed()?0:1)}}vr.EMPTY=null,vr.RED=!0,vr.BLACK=!1;vr.EMPTY=new class{constructor(){this.size=0}get key(){throw Fe()}get value(){throw Fe()}get color(){throw Fe()}get left(){throw Fe()}get right(){throw Fe()}copy(e,t,n,s,a){return this}insert(e,t,n){return new vr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e){this.comparator=e,this.data=new Mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const s=n.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let n;for(n=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new pR(this.data.getIterator())}getIteratorFrom(e){return new pR(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(n=>{t=t.add(n)}),t}isEqual(e){if(!(e instanceof tr)||this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=n.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new tr(this.comparator);return t.data=e,t}}class pR{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e){this.fields=e,e.sort(_r.comparator)}static empty(){return new ni([])}unionWith(e){let t=new tr(_r.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new ni(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ga(this.fields,e.fields,(t,n)=>t.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new GC("Invalid base64 string: "+a):a}}(e);return new Er(t)}static fromUint8Array(e){const t=function(s){let a="";for(let l=0;l<s.length;++l)a+=String.fromCharCode(s[l]);return a}(e);return new Er(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const n=new Uint8Array(t.length);for(let s=0;s<t.length;s++)n[s]=t.charCodeAt(s);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return nt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Er.EMPTY_BYTE_STRING=new Er("");const YV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ys(r){if(yt(!!r),typeof r=="string"){let e=0;const t=YV.exec(r);if(yt(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const n=new Date(r);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Ut(r.seconds),nanos:Ut(r.nanos)}}function Ut(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Js(r){return typeof r=="string"?Er.fromBase64String(r):Er.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Dd(r){const e=r.mapValue.fields.__previous_value__;return __(e)?Dd(e):e}function hl(r){const e=Ys(r.mapValue.fields.__local_write_time__.timestampValue);return new er(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JV{constructor(e,t,n,s,a,l,c,h,p){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=s,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=h,this.useFetchStreams=p}}class pl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new pl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof pl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tf={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Xs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?__(r)?4:ZV(r)?9007199254740991:XV(r)?10:11:Fe()}function Di(r,e){if(r===e)return!0;const t=Xs(r);if(t!==Xs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return hl(r).isEqual(hl(e));case 3:return function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const l=Ys(s.timestampValue),c=Ys(a.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(s,a){return Js(s.bytesValue).isEqual(Js(a.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(s,a){return Ut(s.geoPointValue.latitude)===Ut(a.geoPointValue.latitude)&&Ut(s.geoPointValue.longitude)===Ut(a.geoPointValue.longitude)}(r,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return Ut(s.integerValue)===Ut(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const l=Ut(s.doubleValue),c=Ut(a.doubleValue);return l===c?qf(l)===qf(c):isNaN(l)&&isNaN(c)}return!1}(r,e);case 9:return Ga(r.arrayValue.values||[],e.arrayValue.values||[],Di);case 10:case 11:return function(s,a){const l=s.mapValue.fields||{},c=a.mapValue.fields||{};if(hR(l)!==hR(c))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(c[h]===void 0||!Di(l[h],c[h])))return!1;return!0}(r,e);default:return Fe()}}function ml(r,e){return(r.values||[]).find(t=>Di(t,e))!==void 0}function Ka(r,e){if(r===e)return 0;const t=Xs(r),n=Xs(e);if(t!==n)return nt(t,n);switch(t){case 0:case 9007199254740991:return 0;case 1:return nt(r.booleanValue,e.booleanValue);case 2:return function(a,l){const c=Ut(a.integerValue||a.doubleValue),h=Ut(l.integerValue||l.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1}(r,e);case 3:return mR(r.timestampValue,e.timestampValue);case 4:return mR(hl(r),hl(e));case 5:return nt(r.stringValue,e.stringValue);case 6:return function(a,l){const c=Js(a),h=Js(l);return c.compareTo(h)}(r.bytesValue,e.bytesValue);case 7:return function(a,l){const c=a.split("/"),h=l.split("/");for(let p=0;p<c.length&&p<h.length;p++){const g=nt(c[p],h[p]);if(g!==0)return g}return nt(c.length,h.length)}(r.referenceValue,e.referenceValue);case 8:return function(a,l){const c=nt(Ut(a.latitude),Ut(l.latitude));return c!==0?c:nt(Ut(a.longitude),Ut(l.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return gR(r.arrayValue,e.arrayValue);case 10:return function(a,l){var c,h,p,g;const _=a.fields||{},w=l.fields||{},T=(c=_.value)===null||c===void 0?void 0:c.arrayValue,I=(h=w.value)===null||h===void 0?void 0:h.arrayValue,A=nt(((p=T==null?void 0:T.values)===null||p===void 0?void 0:p.length)||0,((g=I==null?void 0:I.values)===null||g===void 0?void 0:g.length)||0);return A!==0?A:gR(T,I)}(r.mapValue,e.mapValue);case 11:return function(a,l){if(a===tf.mapValue&&l===tf.mapValue)return 0;if(a===tf.mapValue)return 1;if(l===tf.mapValue)return-1;const c=a.fields||{},h=Object.keys(c),p=l.fields||{},g=Object.keys(p);h.sort(),g.sort();for(let _=0;_<h.length&&_<g.length;++_){const w=nt(h[_],g[_]);if(w!==0)return w;const T=Ka(c[h[_]],p[g[_]]);if(T!==0)return T}return nt(h.length,g.length)}(r.mapValue,e.mapValue);default:throw Fe()}}function mR(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return nt(r,e);const t=Ys(r),n=Ys(e),s=nt(t.seconds,n.seconds);return s!==0?s:nt(t.nanos,n.nanos)}function gR(r,e){const t=r.values||[],n=e.values||[];for(let s=0;s<t.length&&s<n.length;++s){const a=Ka(t[s],n[s]);if(a)return a}return nt(t.length,n.length)}function Qa(r){return rv(r)}function rv(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const n=Ys(t);return`time(${n.seconds},${n.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return Js(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return Ae.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let n="[",s=!0;for(const a of t.values||[])s?s=!1:n+=",",n+=rv(a);return n+"]"}(r.arrayValue):"mapValue"in r?function(t){const n=Object.keys(t.fields||{}).sort();let s="{",a=!0;for(const l of n)a?a=!1:s+=",",s+=`${l}:${rv(t.fields[l])}`;return s+"}"}(r.mapValue):Fe()}function pf(r){switch(Xs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Dd(r);return e?16+pf(e):16;case 5:return 2*r.stringValue.length;case 6:return Js(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((s,a)=>s+pf(a),0)}(r.arrayValue);case 10:case 11:return function(n){let s=0;return Go(n.fields,(a,l)=>{s+=a.length+pf(l)}),s}(r.mapValue);default:throw Fe()}}function yR(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function nv(r){return!!r&&"integerValue"in r}function w_(r){return!!r&&"arrayValue"in r}function vR(r){return!!r&&"nullValue"in r}function _R(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function mf(r){return!!r&&"mapValue"in r}function XV(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function nl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Go(r.mapValue.fields,(t,n)=>e.mapValue.fields[t]=nl(n)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=nl(r.arrayValue.values[t]);return e}return Object.assign({},r)}function ZV(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.value=e}static empty(){return new Dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!mf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=nl(t)}setAll(e){let t=_r.emptyPath(),n={},s=[];e.forEach((l,c)=>{if(!t.isImmediateParentOf(c)){const h=this.getFieldsMap(t);this.applyChanges(h,n,s),n={},s=[],t=c.popLast()}l?n[c.lastSegment()]=nl(l):s.push(c.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,n,s)}delete(e){const t=this.field(e.popLast());mf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Di(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let s=t.mapValue.fields[e.get(n)];mf(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,n){Go(t,(s,a)=>e[s]=a);for(const s of n)delete e[s]}clone(){return new Dn(nl(this.value))}}function KC(r){const e=[];return Go(r.fields,(t,n)=>{const s=new _r([t]);if(mf(n)){const a=KC(n.mapValue).fields;if(a.length===0)e.push(s);else for(const l of a)e.push(s.child(l))}else e.push(s)}),new ni(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e,t,n,s,a,l,c){this.key=e,this.documentType=t,this.version=n,this.readTime=s,this.createTime=a,this.data=l,this.documentState=c}static newInvalidDocument(e){return new xr(e,0,Ue.min(),Ue.min(),Ue.min(),Dn.empty(),0)}static newFoundDocument(e,t,n,s){return new xr(e,1,t,Ue.min(),n,s,0)}static newNoDocument(e,t){return new xr(e,2,t,Ue.min(),Ue.min(),Dn.empty(),0)}static newUnknownDocument(e,t){return new xr(e,3,t,Ue.min(),Ue.min(),Dn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof xr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new xr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(e,t){this.position=e,this.inclusive=t}}function wR(r,e,t){let n=0;for(let s=0;s<r.position.length;s++){const a=e[s],l=r.position[s];if(a.field.isKeyField()?n=Ae.comparator(Ae.fromName(l.referenceValue),t.key):n=Ka(l,t.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function ER(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Di(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(e,t="asc"){this.field=e,this.dir=t}}function e6(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{}class Kt extends QC{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,n):new r6(e,t,n):t==="array-contains"?new s6(e,n):t==="in"?new o6(e,n):t==="not-in"?new a6(e,n):t==="array-contains-any"?new u6(e,n):new Kt(e,t,n)}static createKeyFieldInFilter(e,t,n){return t==="in"?new n6(e,n):new i6(e,n)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Ka(t,this.value)):t!==null&&Xs(this.value)===Xs(t)&&this.matchesComparison(Ka(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Fe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ai extends QC{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new ai(e,t)}matches(e){return YC(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function YC(r){return r.op==="and"}function JC(r){return t6(r)&&YC(r)}function t6(r){for(const e of r.filters)if(e instanceof ai)return!1;return!0}function iv(r){if(r instanceof Kt)return r.field.canonicalString()+r.op.toString()+Qa(r.value);if(JC(r))return r.filters.map(e=>iv(e)).join(",");{const e=r.filters.map(t=>iv(t)).join(",");return`${r.op}(${e})`}}function XC(r,e){return r instanceof Kt?function(n,s){return s instanceof Kt&&n.op===s.op&&n.field.isEqual(s.field)&&Di(n.value,s.value)}(r,e):r instanceof ai?function(n,s){return s instanceof ai&&n.op===s.op&&n.filters.length===s.filters.length?n.filters.reduce((a,l,c)=>a&&XC(l,s.filters[c]),!0):!1}(r,e):void Fe()}function ZC(r){return r instanceof Kt?function(t){return`${t.field.canonicalString()} ${t.op} ${Qa(t.value)}`}(r):r instanceof ai?function(t){return t.op.toString()+" {"+t.getFilters().map(ZC).join(" ,")+"}"}(r):"Filter"}class r6 extends Kt{constructor(e,t,n){super(e,t,n),this.key=Ae.fromName(n.referenceValue)}matches(e){const t=Ae.comparator(e.key,this.key);return this.matchesComparison(t)}}class n6 extends Kt{constructor(e,t){super(e,"in",t),this.keys=eA("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class i6 extends Kt{constructor(e,t){super(e,"not-in",t),this.keys=eA("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function eA(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(n=>Ae.fromName(n.referenceValue))}class s6 extends Kt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return w_(t)&&ml(t.arrayValue,this.value)}}class o6 extends Kt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&ml(this.value.arrayValue,t)}}class a6 extends Kt{constructor(e,t){super(e,"not-in",t)}matches(e){if(ml(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!ml(this.value.arrayValue,t)}}class u6 extends Kt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!w_(t)||!t.arrayValue.values)&&t.arrayValue.values.some(n=>ml(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l6{constructor(e,t=null,n=[],s=[],a=null,l=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=s,this.limit=a,this.startAt=l,this.endAt=c,this.ue=null}}function TR(r,e=null,t=[],n=[],s=null,a=null,l=null){return new l6(r,e,t,n,s,a,l)}function E_(r){const e=ze(r);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(n=>iv(n)).join(","),t+="|ob:",t+=e.orderBy.map(n=>function(a){return a.field.canonicalString()+a.dir}(n)).join(","),xd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(n=>Qa(n)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(n=>Qa(n)).join(",")),e.ue=t}return e.ue}function T_(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!e6(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!XC(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!ER(r.startAt,e.startAt)&&ER(r.endAt,e.endAt)}function sv(r){return Ae.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(e,t=null,n=[],s=[],a=null,l="F",c=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=s,this.limit=a,this.limitType=l,this.startAt=c,this.endAt=h,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function c6(r,e,t,n,s,a,l,c){return new uu(r,e,t,n,s,a,l,c)}function S_(r){return new uu(r)}function SR(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function tA(r){return r.collectionGroup!==null}function il(r){const e=ze(r);if(e.ce===null){e.ce=[];const t=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),t.add(a.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new tr(_r.comparator);return l.filters.forEach(h=>{h.getFlattenedFilters().forEach(p=>{p.isInequality()&&(c=c.add(p.field))})}),c})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.ce.push(new gl(a,n))}),t.has(_r.keyField().canonicalString())||e.ce.push(new gl(_r.keyField(),n))}return e.ce}function Ai(r){const e=ze(r);return e.le||(e.le=f6(e,il(r))),e.le}function f6(r,e){if(r.limitType==="F")return TR(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(s=>{const a=s.dir==="desc"?"asc":"desc";return new gl(s.field,a)});const t=r.endAt?new $f(r.endAt.position,r.endAt.inclusive):null,n=r.startAt?new $f(r.startAt.position,r.startAt.inclusive):null;return TR(r.path,r.collectionGroup,e,r.filters,r.limit,t,n)}}function ov(r,e){const t=r.filters.concat([e]);return new uu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function av(r,e,t){return new uu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Nd(r,e){return T_(Ai(r),Ai(e))&&r.limitType===e.limitType}function rA(r){return`${E_(Ai(r))}|lt:${r.limitType}`}function Na(r){return`Query(target=${function(t){let n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map(s=>ZC(s)).join(", ")}]`),xd(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map(s=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(s)).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(s=>Qa(s)).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(s=>Qa(s)).join(",")),`Target(${n})`}(Ai(r))}; limitType=${r.limitType})`}function Ld(r,e){return e.isFoundDocument()&&function(n,s){const a=s.key.path;return n.collectionGroup!==null?s.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):Ae.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)}(r,e)&&function(n,s){for(const a of il(n))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0}(r,e)&&function(n,s){for(const a of n.filters)if(!a.matches(s))return!1;return!0}(r,e)&&function(n,s){return!(n.startAt&&!function(l,c,h){const p=wR(l,c,h);return l.inclusive?p<=0:p<0}(n.startAt,il(n),s)||n.endAt&&!function(l,c,h){const p=wR(l,c,h);return l.inclusive?p>=0:p>0}(n.endAt,il(n),s))}(r,e)}function d6(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function nA(r){return(e,t)=>{let n=!1;for(const s of il(r)){const a=h6(s,e,t);if(a!==0)return a;n=n||s.field.isKeyField()}return 0}}function h6(r,e,t){const n=r.field.isKeyField()?Ae.comparator(e.key,t.key):function(a,l,c){const h=l.data.field(a),p=c.data.field(a);return h!==null&&p!==null?Ka(h,p):Fe()}(r.field,e,t);switch(r.dir){case"asc":return n;case"desc":return-1*n;default:return Fe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n!==void 0){for(const[s,a]of n)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return this.inner[n]=[[e,t]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n===void 0)return!1;for(let s=0;s<n.length;s++)if(this.equalsFn(n[s][0],e))return n.length===1?delete this.inner[t]:n.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Go(this.inner,(t,n)=>{for(const[s,a]of n)e(s,a)})}isEmpty(){return WC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p6=new Mt(Ae.comparator);function ls(){return p6}const iA=new Mt(Ae.comparator);function Ju(...r){let e=iA;for(const t of r)e=e.insert(t.key,t);return e}function sA(r){let e=iA;return r.forEach((t,n)=>e=e.insert(t,n.overlayedDocument)),e}function xo(){return sl()}function oA(){return sl()}function sl(){return new Ko(r=>r.toString(),(r,e)=>r.isEqual(e))}const m6=new Mt(Ae.comparator),g6=new tr(Ae.comparator);function et(...r){let e=g6;for(const t of r)e=e.add(t);return e}const y6=new tr(nt);function v6(){return y6}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I_(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qf(e)?"-0":e}}function aA(r){return{integerValue:""+r}}function _6(r,e){return GV(e)?aA(e):I_(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(){this._=void 0}}function w6(r,e,t){return r instanceof yl?function(s,a){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&__(a)&&(a=Dd(a)),a&&(l.fields.__previous_value__=a),{mapValue:l}}(t,e):r instanceof vl?lA(r,e):r instanceof _l?cA(r,e):function(s,a){const l=uA(s,a),c=IR(l)+IR(s.Pe);return nv(l)&&nv(s.Pe)?aA(c):I_(s.serializer,c)}(r,e)}function E6(r,e,t){return r instanceof vl?lA(r,e):r instanceof _l?cA(r,e):t}function uA(r,e){return r instanceof Hf?function(n){return nv(n)||function(a){return!!a&&"doubleValue"in a}(n)}(e)?e:{integerValue:0}:null}class yl extends Md{}class vl extends Md{constructor(e){super(),this.elements=e}}function lA(r,e){const t=fA(e);for(const n of r.elements)t.some(s=>Di(s,n))||t.push(n);return{arrayValue:{values:t}}}class _l extends Md{constructor(e){super(),this.elements=e}}function cA(r,e){let t=fA(e);for(const n of r.elements)t=t.filter(s=>!Di(s,n));return{arrayValue:{values:t}}}class Hf extends Md{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function IR(r){return Ut(r.integerValue||r.doubleValue)}function fA(r){return w_(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T6{constructor(e,t){this.field=e,this.transform=t}}function S6(r,e){return r.field.isEqual(e.field)&&function(n,s){return n instanceof vl&&s instanceof vl||n instanceof _l&&s instanceof _l?Ga(n.elements,s.elements,Di):n instanceof Hf&&s instanceof Hf?Di(n.Pe,s.Pe):n instanceof yl&&s instanceof yl}(r.transform,e.transform)}class I6{constructor(e,t){this.version=e,this.transformResults=t}}class bi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new bi}static exists(e){return new bi(void 0,e)}static updateTime(e){return new bi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function gf(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Vd{}function dA(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new R_(r.key,bi.none()):new Ll(r.key,r.data,bi.none());{const t=r.data,n=Dn.empty();let s=new tr(_r.comparator);for(let a of e.fields)if(!s.has(a)){let l=t.field(a);l===null&&a.length>1&&(a=a.popLast(),l=t.field(a)),l===null?n.delete(a):n.set(a,l),s=s.add(a)}return new Qo(r.key,n,new ni(s.toArray()),bi.none())}}function R6(r,e,t){r instanceof Ll?function(s,a,l){const c=s.value.clone(),h=PR(s.fieldTransforms,a,l.transformResults);c.setAll(h),a.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(r,e,t):r instanceof Qo?function(s,a,l){if(!gf(s.precondition,a))return void a.convertToUnknownDocument(l.version);const c=PR(s.fieldTransforms,a,l.transformResults),h=a.data;h.setAll(hA(s)),h.setAll(c),a.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(r,e,t):function(s,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function ol(r,e,t,n){return r instanceof Ll?function(a,l,c,h){if(!gf(a.precondition,l))return c;const p=a.value.clone(),g=CR(a.fieldTransforms,h,l);return p.setAll(g),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null}(r,e,t,n):r instanceof Qo?function(a,l,c,h){if(!gf(a.precondition,l))return c;const p=CR(a.fieldTransforms,h,l),g=l.data;return g.setAll(hA(a)),g.setAll(p),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),c===null?null:c.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(_=>_.field))}(r,e,t,n):function(a,l,c){return gf(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(r,e,t)}function P6(r,e){let t=null;for(const n of r.fieldTransforms){const s=e.data.field(n.field),a=uA(n.transform,s||null);a!=null&&(t===null&&(t=Dn.empty()),t.set(n.field,a))}return t||null}function RR(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(n,s){return n===void 0&&s===void 0||!(!n||!s)&&Ga(n,s,(a,l)=>S6(a,l))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Ll extends Vd{constructor(e,t,n,s=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Qo extends Vd{constructor(e,t,n,s,a=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function hA(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const n=r.data.field(t);e.set(t,n)}}),e}function PR(r,e,t){const n=new Map;yt(r.length===t.length);for(let s=0;s<t.length;s++){const a=r[s],l=a.transform,c=e.data.field(a.field);n.set(a.field,E6(l,c,t[s]))}return n}function CR(r,e,t){const n=new Map;for(const s of r){const a=s.transform,l=t.data.field(s.field);n.set(s.field,w6(a,l,e))}return n}class R_ extends Vd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class C6 extends Vd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6{constructor(e,t,n,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=s}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&R6(a,e,n[s])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=ol(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=ol(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=oA();return this.mutations.forEach(s=>{const a=e.get(s.key),l=a.overlayedDocument;let c=this.applyToLocalView(l,a.mutatedFields);c=t.has(s.key)?null:c;const h=dA(l,c);h!==null&&n.set(s.key,h),l.isValidDocument()||l.convertToNoDocument(Ue.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),et())}isEqual(e){return this.batchId===e.batchId&&Ga(this.mutations,e.mutations,(t,n)=>RR(t,n))&&Ga(this.baseMutations,e.baseMutations,(t,n)=>RR(t,n))}}class P_{constructor(e,t,n,s){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=s}static from(e,t,n){yt(e.mutations.length===n.length);let s=function(){return m6}();const a=e.mutations;for(let l=0;l<a.length;l++)s=s.insert(a[l].key,n[l].version);return new P_(e,t,n,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b6{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k6{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gt,ut;function O6(r){switch(r){default:return Fe();case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0}}function pA(r){if(r===void 0)return us("GRPC error has no .code"),ie.UNKNOWN;switch(r){case Gt.OK:return ie.OK;case Gt.CANCELLED:return ie.CANCELLED;case Gt.UNKNOWN:return ie.UNKNOWN;case Gt.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case Gt.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case Gt.INTERNAL:return ie.INTERNAL;case Gt.UNAVAILABLE:return ie.UNAVAILABLE;case Gt.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case Gt.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case Gt.NOT_FOUND:return ie.NOT_FOUND;case Gt.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case Gt.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case Gt.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case Gt.ABORTED:return ie.ABORTED;case Gt.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case Gt.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case Gt.DATA_LOSS:return ie.DATA_LOSS;default:return Fe()}}(ut=Gt||(Gt={}))[ut.OK=0]="OK",ut[ut.CANCELLED=1]="CANCELLED",ut[ut.UNKNOWN=2]="UNKNOWN",ut[ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ut[ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ut[ut.NOT_FOUND=5]="NOT_FOUND",ut[ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",ut[ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",ut[ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",ut[ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ut[ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ut[ut.ABORTED=10]="ABORTED",ut[ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",ut[ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",ut[ut.INTERNAL=13]="INTERNAL",ut[ut.UNAVAILABLE=14]="UNAVAILABLE",ut[ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x6(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D6=new $s([4294967295,4294967295],0);function AR(r){const e=x6().encode(r),t=new FC;return t.update(e),new Uint8Array(t.digest())}function bR(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),n=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new $s([t,n],0),new $s([s,a],0)]}class C_{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Xu(`Invalid padding: ${t}`);if(n<0)throw new Xu(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Xu(`Invalid hash count: ${n}`);if(e.length===0&&t!==0)throw new Xu(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=$s.fromNumber(this.Te)}de(e,t,n){let s=e.add(t.multiply($s.fromNumber(n)));return s.compare(D6)===1&&(s=new $s([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Ie).toNumber()}Ee(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=AR(e),[n,s]=bR(t);for(let a=0;a<this.hashCount;a++){const l=this.de(n,s,a);if(!this.Ee(l))return!1}return!0}static create(e,t,n){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new C_(a,s,t);return n.forEach(c=>l.insert(c)),l}insert(e){if(this.Te===0)return;const t=AR(e),[n,s]=bR(t);for(let a=0;a<this.hashCount;a++){const l=this.de(n,s,a);this.Ae(l)}}Ae(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Xu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(e,t,n,s,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const s=new Map;return s.set(e,Ml.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Fd(Ue.min(),s,new Mt(nt),ls(),et())}}class Ml{constructor(e,t,n,s,a){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Ml(n,t,et(),et(),et())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(e,t,n,s){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=s}}class mA{constructor(e,t){this.targetId=e,this.me=t}}class gA{constructor(e,t,n=Er.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=s}}class kR{constructor(){this.fe=0,this.ge=OR(),this.pe=Er.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=et(),t=et(),n=et();return this.ge.forEach((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:n=n.add(s);break;default:Fe()}}),new Ml(this.pe,this.ye,e,t,n)}Ce(){this.we=!1,this.ge=OR()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,yt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class N6{constructor(e){this.Be=e,this.Le=new Map,this.ke=ls(),this.qe=rf(),this.Qe=rf(),this.Ke=new Mt(nt)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const n=this.ze(t);switch(e.state){case 0:this.je(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.je(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),n.De(e.resumeToken));break;default:Fe()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Le.forEach((n,s)=>{this.je(s)&&t(s)})}Je(e){const t=e.targetId,n=e.me.count,s=this.Ye(t);if(s){const a=s.target;if(sv(a))if(n===0){const l=new Ae(a.path);this.We(t,l,xr.newNoDocument(l,Ue.min()))}else yt(n===1);else{const l=this.Ze(t);if(l!==n){const c=this.Xe(e),h=c?this.et(c,e,l):1;if(h!==0){this.He(t);const p=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,p)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:s=0},hashCount:a=0}=t;let l,c;try{l=Js(n).toUint8Array()}catch(h){if(h instanceof GC)return Wa("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{c=new C_(l,s,a)}catch(h){return Wa(h instanceof Xu?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return c.Te===0?null:c}et(e,t,n){return t.me.count===n-this.rt(e,t.targetId)?0:2}rt(e,t){const n=this.Be.getRemoteKeysForTarget(t);let s=0;return n.forEach(a=>{const l=this.Be.nt(),c=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(c)||(this.We(t,a,null),s++)}),s}it(e){const t=new Map;this.Le.forEach((a,l)=>{const c=this.Ye(l);if(c){if(a.current&&sv(c.target)){const h=new Ae(c.target.path);this.st(h).has(l)||this.ot(l,h)||this.We(l,h,xr.newNoDocument(h,e))}a.be&&(t.set(l,a.ve()),a.Ce())}});let n=et();this.Qe.forEach((a,l)=>{let c=!0;l.forEachWhile(h=>{const p=this.Ye(h);return!p||p.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(n=n.add(a))}),this.ke.forEach((a,l)=>l.setReadTime(e));const s=new Fd(e,t,this.Ke,this.ke,n);return this.ke=ls(),this.qe=rf(),this.Qe=rf(),this.Ke=new Mt(nt),s}Ue(e,t){if(!this.je(e))return;const n=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,n){if(!this.je(e))return;const s=this.ze(e);this.ot(e,t)?s.Fe(t,1):s.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Le.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Le.get(e);return t||(t=new kR,this.Le.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new tr(nt),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new tr(nt),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||_e("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Le.get(e);return t&&t.Se?null:this.Be.ut(e)}He(e){this.Le.set(e,new kR),this.Be.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Be.getRemoteKeysForTarget(e).has(t)}}function rf(){return new Mt(Ae.comparator)}function OR(){return new Mt(Ae.comparator)}const L6={asc:"ASCENDING",desc:"DESCENDING"},M6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},V6={and:"AND",or:"OR"};class F6{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function uv(r,e){return r.useProto3Json||xd(e)?e:{value:e}}function Wf(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function yA(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function j6(r,e){return Wf(r,e.toTimestamp())}function ki(r){return yt(!!r),Ue.fromTimestamp(function(t){const n=Ys(t);return new er(n.seconds,n.nanos)}(r))}function A_(r,e){return lv(r,e).canonicalString()}function lv(r,e){const t=function(s){return new bt(["projects",s.projectId,"databases",s.database])}(r).child("documents");return e===void 0?t:t.child(e)}function vA(r){const e=bt.fromString(r);return yt(SA(e)),e}function cv(r,e){return A_(r.databaseId,e.path)}function Cy(r,e){const t=vA(e);if(t.get(1)!==r.databaseId.projectId)throw new Ie(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new Ie(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new Ae(wA(t))}function _A(r,e){return A_(r.databaseId,e)}function U6(r){const e=vA(r);return e.length===4?bt.emptyPath():wA(e)}function fv(r){return new bt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function wA(r){return yt(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function xR(r,e,t){return{name:cv(r,e),fields:t.value.mapValue.fields}}function B6(r,e){let t;if("targetChange"in e){e.targetChange;const n=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Fe()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=function(p,g){return p.useProto3Json?(yt(g===void 0||typeof g=="string"),Er.fromBase64String(g||"")):(yt(g===void 0||g instanceof Buffer||g instanceof Uint8Array),Er.fromUint8Array(g||new Uint8Array))}(r,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&function(p){const g=p.code===void 0?ie.UNKNOWN:pA(p.code);return new Ie(g,p.message||"")}(l);t=new gA(n,s,a,c||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const s=Cy(r,n.document.name),a=ki(n.document.updateTime),l=n.document.createTime?ki(n.document.createTime):Ue.min(),c=new Dn({mapValue:{fields:n.document.fields}}),h=xr.newFoundDocument(s,a,l,c),p=n.targetIds||[],g=n.removedTargetIds||[];t=new yf(p,g,h.key,h)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const s=Cy(r,n.document),a=n.readTime?ki(n.readTime):Ue.min(),l=xr.newNoDocument(s,a),c=n.removedTargetIds||[];t=new yf([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const s=Cy(r,n.document),a=n.removedTargetIds||[];t=new yf([],a,s,null)}else{if(!("filter"in e))return Fe();{e.filter;const n=e.filter;n.targetId;const{count:s=0,unchangedNames:a}=n,l=new k6(s,a),c=n.targetId;t=new mA(c,l)}}return t}function z6(r,e){let t;if(e instanceof Ll)t={update:xR(r,e.key,e.value)};else if(e instanceof R_)t={delete:cv(r,e.key)};else if(e instanceof Qo)t={update:xR(r,e.key,e.data),updateMask:J6(e.fieldMask)};else{if(!(e instanceof C6))return Fe();t={verify:cv(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(n=>function(a,l){const c=l.transform;if(c instanceof yl)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof vl)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof _l)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Hf)return{fieldPath:l.field.canonicalString(),increment:c.Pe};throw Fe()}(0,n))),e.precondition.isNone||(t.currentDocument=function(s,a){return a.updateTime!==void 0?{updateTime:j6(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Fe()}(r,e.precondition)),t}function q6(r,e){return r&&r.length>0?(yt(e!==void 0),r.map(t=>function(s,a){let l=s.updateTime?ki(s.updateTime):ki(a);return l.isEqual(Ue.min())&&(l=ki(a)),new I6(l,s.transformResults||[])}(t,e))):[]}function $6(r,e){return{documents:[_A(r,e.path)]}}function H6(r,e){const t={structuredQuery:{}},n=e.path;let s;e.collectionGroup!==null?(s=n,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=n.popLast(),t.structuredQuery.from=[{collectionId:n.lastSegment()}]),t.parent=_A(r,s);const a=function(p){if(p.length!==0)return TA(ai.create(p,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const l=function(p){if(p.length!==0)return p.map(g=>function(w){return{field:La(w.field),direction:K6(w.dir)}}(g))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const c=uv(r,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ct:t,parent:s}}function W6(r){let e=U6(r.parent);const t=r.structuredQuery,n=t.from?t.from.length:0;let s=null;if(n>0){yt(n===1);const g=t.from[0];g.allDescendants?s=g.collectionId:e=e.child(g.collectionId)}let a=[];t.where&&(a=function(_){const w=EA(_);return w instanceof ai&&JC(w)?w.getFilters():[w]}(t.where));let l=[];t.orderBy&&(l=function(_){return _.map(w=>function(I){return new gl(Ma(I.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(w))}(t.orderBy));let c=null;t.limit&&(c=function(_){let w;return w=typeof _=="object"?_.value:_,xd(w)?null:w}(t.limit));let h=null;t.startAt&&(h=function(_){const w=!!_.before,T=_.values||[];return new $f(T,w)}(t.startAt));let p=null;return t.endAt&&(p=function(_){const w=!_.before,T=_.values||[];return new $f(T,w)}(t.endAt)),c6(e,s,l,a,c,"F",h,p)}function G6(r,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Fe()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function EA(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=Ma(t.unaryFilter.field);return Kt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const s=Ma(t.unaryFilter.field);return Kt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Ma(t.unaryFilter.field);return Kt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Ma(t.unaryFilter.field);return Kt.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Fe()}}(r):r.fieldFilter!==void 0?function(t){return Kt.create(Ma(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Fe()}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return ai.create(t.compositeFilter.filters.map(n=>EA(n)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Fe()}}(t.compositeFilter.op))}(r):Fe()}function K6(r){return L6[r]}function Q6(r){return M6[r]}function Y6(r){return V6[r]}function La(r){return{fieldPath:r.canonicalString()}}function Ma(r){return _r.fromServerFormat(r.fieldPath)}function TA(r){return r instanceof Kt?function(t){if(t.op==="=="){if(_R(t.value))return{unaryFilter:{field:La(t.field),op:"IS_NAN"}};if(vR(t.value))return{unaryFilter:{field:La(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(_R(t.value))return{unaryFilter:{field:La(t.field),op:"IS_NOT_NAN"}};if(vR(t.value))return{unaryFilter:{field:La(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:La(t.field),op:Q6(t.op),value:t.value}}}(r):r instanceof ai?function(t){const n=t.getFilters().map(s=>TA(s));return n.length===1?n[0]:{compositeFilter:{op:Y6(t.op),filters:n}}}(r):Fe()}function J6(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function SA(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e,t,n,s,a=Ue.min(),l=Ue.min(),c=Er.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=h}withSequenceNumber(e){return new Us(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Us(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Us(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Us(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X6{constructor(e){this.ht=e}}function Z6(r){const e=W6({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?av(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eF{constructor(){this.ln=new tF}addToCollectionParentIndex(e,t){return this.ln.add(t),ne.resolve()}getCollectionParents(e,t){return ne.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return ne.resolve()}deleteFieldIndex(e,t){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,t){return ne.resolve()}getDocumentsMatchingTarget(e,t){return ne.resolve(null)}getIndexType(e,t){return ne.resolve(0)}getFieldIndexes(e,t){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,t){return ne.resolve(Qs.min())}getMinOffsetFromCollectionGroup(e,t){return ne.resolve(Qs.min())}updateCollectionGroup(e,t,n){return ne.resolve()}updateIndexEntries(e,t){return ne.resolve()}}class tF{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),s=this.index[t]||new tr(bt.comparator),a=!s.has(n);return this.index[t]=s.add(n),a}has(e){const t=e.lastSegment(),n=e.popLast(),s=this.index[t];return s&&s.has(n)}getEntries(e){return(this.index[e]||new tr(bt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class nn{static withCacheSize(e){return new nn(e,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nn.DEFAULT_COLLECTION_PERCENTILE=10,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,nn.DEFAULT=new nn(41943040,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),nn.DISABLED=new nn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new Ya(0)}static Qn(){return new Ya(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NR([r,e],[t,n]){const s=nt(r,t);return s===0?nt(e,n):s}class rF{constructor(e){this.Gn=e,this.buffer=new tr(NR),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const n=this.buffer.last();NR(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}get maxValue(){return this.buffer.last()[0]}}class nF{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){_e("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){au(t)?_e("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await ou(t)}await this.Yn(3e5)})}}class iF{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(n=>Math.floor(t/100*n))}nthSequenceNumber(e,t){if(t===0)return ne.resolve(Od.oe);const n=new rF(t);return this.Zn.forEachTarget(e,s=>n.Hn(s.sequenceNumber)).next(()=>this.Zn.er(e,s=>n.Hn(s))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.Zn.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(_e("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(DR)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(_e("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),DR):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let n,s,a,l,c,h,p;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(_e("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),s=this.params.maximumSequenceNumbersToCollect):s=_,l=Date.now(),this.nthSequenceNumber(e,s))).next(_=>(n=_,c=Date.now(),this.removeTargets(e,n,t))).next(_=>(a=_,h=Date.now(),this.removeOrphanedDocuments(e,n))).next(_=>(p=Date.now(),Da()<=Ze.DEBUG&&_e("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-g}ms
	Determined least recently used ${s} in `+(c-l)+`ms
	Removed ${a} targets in `+(h-c)+`ms
	Removed ${_} documents in `+(p-h)+`ms
Total Duration: ${p-g}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:_})))}}function sF(r,e){return new iF(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oF{constructor(){this.changes=new Ko(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,xr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return n!==void 0?ne.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aF{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uF{constructor(e,t,n,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=s}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(n=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(n!==null&&ol(n.mutation,s,ni.empty(),er.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(n=>this.getLocalViewOfDocuments(e,n,et()).next(()=>n))}getLocalViewOfDocuments(e,t,n=et()){const s=xo();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,n).next(a=>{let l=Ju();return a.forEach((c,h)=>{l=l.insert(c,h.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const n=xo();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,et()))}populateOverlays(e,t,n){const s=[];return n.forEach(a=>{t.has(a)||s.push(a)}),this.documentOverlayCache.getOverlays(e,s).next(a=>{a.forEach((l,c)=>{t.set(l,c)})})}computeViews(e,t,n,s){let a=ls();const l=sl(),c=function(){return sl()}();return t.forEach((h,p)=>{const g=n.get(p.key);s.has(p.key)&&(g===void 0||g.mutation instanceof Qo)?a=a.insert(p.key,p):g!==void 0?(l.set(p.key,g.mutation.getFieldMask()),ol(g.mutation,p,g.mutation.getFieldMask(),er.now())):l.set(p.key,ni.empty())}),this.recalculateAndSaveOverlays(e,a).next(h=>(h.forEach((p,g)=>l.set(p,g)),t.forEach((p,g)=>{var _;return c.set(p,new aF(g,(_=l.get(p))!==null&&_!==void 0?_:null))}),c))}recalculateAndSaveOverlays(e,t){const n=sl();let s=new Mt((l,c)=>l-c),a=et();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const c of l)c.keys().forEach(h=>{const p=t.get(h);if(p===null)return;let g=n.get(h)||ni.empty();g=c.applyToLocalView(p,g),n.set(h,g);const _=(s.get(c.batchId)||et()).add(h);s=s.insert(c.batchId,_)})}).next(()=>{const l=[],c=s.getReverseIterator();for(;c.hasNext();){const h=c.getNext(),p=h.key,g=h.value,_=oA();g.forEach(w=>{if(!a.has(w)){const T=dA(t.get(w),n.get(w));T!==null&&_.set(w,T),a=a.add(w)}}),l.push(this.documentOverlayCache.saveOverlays(e,p,_))}return ne.waitFor(l)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,t,n,s){return function(l){return Ae.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):tA(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,s):this.getDocumentsMatchingCollectionQuery(e,t,n,s)}getNextDocuments(e,t,n,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,s).next(a=>{const l=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,s-a.size):ne.resolve(xo());let c=-1,h=a;return l.next(p=>ne.forEach(p,(g,_)=>(c<_.largestBatchId&&(c=_.largestBatchId),a.get(g)?ne.resolve():this.remoteDocumentCache.getEntry(e,g).next(w=>{h=h.insert(g,w)}))).next(()=>this.populateOverlays(e,p,a)).next(()=>this.computeViews(e,h,p,et())).next(g=>({batchId:c,changes:sA(g)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ae(t)).next(n=>{let s=Ju();return n.isFoundDocument()&&(s=s.insert(n.key,n)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,n,s){const a=t.collectionGroup;let l=Ju();return this.indexManager.getCollectionParents(e,a).next(c=>ne.forEach(c,h=>{const p=function(_,w){return new uu(w,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(t,h.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,n,s).next(g=>{g.forEach((_,w)=>{l=l.insert(_,w)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,n,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,a,s))).next(l=>{a.forEach((h,p)=>{const g=p.getKey();l.get(g)===null&&(l=l.insert(g,xr.newInvalidDocument(g)))});let c=Ju();return l.forEach((h,p)=>{const g=a.get(h);g!==void 0&&ol(g.mutation,p,ni.empty(),er.now()),Ld(t,p)&&(c=c.insert(h,p))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lF{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return ne.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(s){return{id:s.id,version:s.version,createTime:ki(s.createTime)}}(t)),ne.resolve()}getNamedQuery(e,t){return ne.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(s){return{name:s.name,query:Z6(s.bundledQuery),readTime:ki(s.readTime)}}(t)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cF{constructor(){this.overlays=new Mt(Ae.comparator),this.dr=new Map}getOverlay(e,t){return ne.resolve(this.overlays.get(t))}getOverlays(e,t){const n=xo();return ne.forEach(t,s=>this.getOverlay(e,s).next(a=>{a!==null&&n.set(s,a)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((s,a)=>{this.Tt(e,t,a)}),ne.resolve()}removeOverlaysForBatchId(e,t,n){const s=this.dr.get(n);return s!==void 0&&(s.forEach(a=>this.overlays=this.overlays.remove(a)),this.dr.delete(n)),ne.resolve()}getOverlaysForCollection(e,t,n){const s=xo(),a=t.length+1,l=new Ae(t.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const h=c.getNext().value,p=h.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===a&&h.largestBatchId>n&&s.set(h.getKey(),h)}return ne.resolve(s)}getOverlaysForCollectionGroup(e,t,n,s){let a=new Mt((p,g)=>p-g);const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>n){let g=a.get(p.largestBatchId);g===null&&(g=xo(),a=a.insert(p.largestBatchId,g)),g.set(p.getKey(),p)}}const c=xo(),h=a.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((p,g)=>c.set(p,g)),!(c.size()>=s)););return ne.resolve(c)}Tt(e,t,n){const s=this.overlays.get(n.key);if(s!==null){const l=this.dr.get(s.largestBatchId).delete(n.key);this.dr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(n.key,new b6(t,n));let a=this.dr.get(t);a===void 0&&(a=et(),this.dr.set(t,a)),this.dr.set(t,a.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fF{constructor(){this.sessionToken=Er.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_{constructor(){this.Er=new tr(ur.Ar),this.Rr=new tr(ur.Vr)}isEmpty(){return this.Er.isEmpty()}addReference(e,t){const n=new ur(e,t);this.Er=this.Er.add(n),this.Rr=this.Rr.add(n)}mr(e,t){e.forEach(n=>this.addReference(n,t))}removeReference(e,t){this.gr(new ur(e,t))}pr(e,t){e.forEach(n=>this.removeReference(n,t))}yr(e){const t=new Ae(new bt([])),n=new ur(t,e),s=new ur(t,e+1),a=[];return this.Rr.forEachInRange([n,s],l=>{this.gr(l),a.push(l.key)}),a}wr(){this.Er.forEach(e=>this.gr(e))}gr(e){this.Er=this.Er.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new Ae(new bt([])),n=new ur(t,e),s=new ur(t,e+1);let a=et();return this.Rr.forEachInRange([n,s],l=>{a=a.add(l.key)}),a}containsKey(e){const t=new ur(e,0),n=this.Er.firstAfterOrEqual(t);return n!==null&&e.isEqual(n.key)}}class ur{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return Ae.comparator(e.key,t.key)||nt(e.br,t.br)}static Vr(e,t){return nt(e.br,t.br)||Ae.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dF{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new tr(ur.Ar)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,n,s){const a=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new A6(a,t,n,s);this.mutationQueue.push(l);for(const c of s)this.vr=this.vr.add(new ur(c.key,a)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return ne.resolve(l)}lookupMutationBatch(e,t){return ne.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,s=this.Fr(n),a=s<0?0:s;return ne.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new ur(t,0),s=new ur(t,Number.POSITIVE_INFINITY),a=[];return this.vr.forEachInRange([n,s],l=>{const c=this.Cr(l.br);a.push(c)}),ne.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new tr(nt);return t.forEach(s=>{const a=new ur(s,0),l=new ur(s,Number.POSITIVE_INFINITY);this.vr.forEachInRange([a,l],c=>{n=n.add(c.br)})}),ne.resolve(this.Mr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,s=n.length+1;let a=n;Ae.isDocumentKey(a)||(a=a.child(""));const l=new ur(new Ae(a),0);let c=new tr(nt);return this.vr.forEachWhile(h=>{const p=h.key.path;return!!n.isPrefixOf(p)&&(p.length===s&&(c=c.add(h.br)),!0)},l),ne.resolve(this.Mr(c))}Mr(e){const t=[];return e.forEach(n=>{const s=this.Cr(n);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){yt(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let n=this.vr;return ne.forEach(t.mutations,s=>{const a=new ur(s.key,t.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.vr=n})}Bn(e){}containsKey(e,t){const n=new ur(t,0),s=this.vr.firstAfterOrEqual(n);return ne.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hF{constructor(e){this.Nr=e,this.docs=function(){return new Mt(Ae.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,s=this.docs.get(n),a=s?s.size:0,l=this.Nr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return ne.resolve(n?n.document.mutableCopy():xr.newInvalidDocument(t))}getEntries(e,t){let n=ls();return t.forEach(s=>{const a=this.docs.get(s);n=n.insert(s,a?a.document.mutableCopy():xr.newInvalidDocument(s))}),ne.resolve(n)}getDocumentsMatchingQuery(e,t,n,s){let a=ls();const l=t.path,c=new Ae(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(c);for(;h.hasNext();){const{key:p,value:{document:g}}=h.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||qV(zV(g),n)<=0||(s.has(g.key)||Ld(t,g))&&(a=a.insert(g.key,g.mutableCopy()))}return ne.resolve(a)}getAllFromCollectionGroup(e,t,n,s){Fe()}Br(e,t){return ne.forEach(this.docs,n=>t(n))}newChangeBuffer(e){return new pF(this)}getSize(e){return ne.resolve(this.size)}}class pF extends oF{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((n,s)=>{s.isValidDocument()?t.push(this.hr.addEntry(e,s)):this.hr.removeEntry(n)}),ne.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mF{constructor(e){this.persistence=e,this.Lr=new Ko(t=>E_(t),T_),this.lastRemoteSnapshotVersion=Ue.min(),this.highestTargetId=0,this.kr=0,this.qr=new b_,this.targetCount=0,this.Qr=Ya.qn()}forEachTarget(e,t){return this.Lr.forEach((n,s)=>t(s)),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.kr&&(this.kr=t),ne.resolve()}Un(e){this.Lr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new Ya(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,ne.resolve()}updateTargetData(e,t){return this.Un(t),ne.resolve()}removeTargetData(e,t){return this.Lr.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,t,n){let s=0;const a=[];return this.Lr.forEach((l,c)=>{c.sequenceNumber<=t&&n.get(c.targetId)===null&&(this.Lr.delete(l),a.push(this.removeMatchingKeysForTargetId(e,c.targetId)),s++)}),ne.waitFor(a).next(()=>s)}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,t){const n=this.Lr.get(t)||null;return ne.resolve(n)}addMatchingKeys(e,t,n){return this.qr.mr(t,n),ne.resolve()}removeMatchingKeys(e,t,n){this.qr.pr(t,n);const s=this.persistence.referenceDelegate,a=[];return s&&t.forEach(l=>{a.push(s.markPotentiallyOrphaned(e,l))}),ne.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),ne.resolve()}getMatchingKeysForTargetId(e,t){const n=this.qr.Sr(t);return ne.resolve(n)}containsKey(e,t){return ne.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(e,t){this.Kr={},this.overlays={},this.$r=new Od(0),this.Ur=!1,this.Ur=!0,this.Wr=new fF,this.referenceDelegate=e(this),this.Gr=new mF(this),this.indexManager=new eF,this.remoteDocumentCache=function(s){return new hF(s)}(n=>this.referenceDelegate.zr(n)),this.serializer=new X6(t),this.jr=new lF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new cF,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Kr[e.toKey()];return n||(n=new dF(t,this.referenceDelegate),this.Kr[e.toKey()]=n),n}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,n){_e("MemoryPersistence","Starting transaction:",e);const s=new gF(this.$r.next());return this.referenceDelegate.Hr(),n(s).next(a=>this.referenceDelegate.Jr(s).next(()=>a)).toPromise().then(a=>(s.raiseOnCommittedEvent(),a))}Yr(e,t){return ne.or(Object.values(this.Kr).map(n=>()=>n.containsKey(e,t)))}}class gF extends HV{constructor(e){super(),this.currentSequenceNumber=e}}class k_{constructor(e){this.persistence=e,this.Zr=new b_,this.Xr=null}static ei(e){return new k_(e)}get ti(){if(this.Xr)return this.Xr;throw Fe()}addReference(e,t,n){return this.Zr.addReference(n,t),this.ti.delete(n.toString()),ne.resolve()}removeReference(e,t,n){return this.Zr.removeReference(n,t),this.ti.add(n.toString()),ne.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),ne.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(s=>this.ti.add(s.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(a=>this.ti.add(a.toString()))}).next(()=>n.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.ti,n=>{const s=Ae.fromPath(n);return this.ni(e,s).next(a=>{a||t.removeEntry(s,Ue.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(n=>{n?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return ne.or([()=>ne.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class Gf{constructor(e,t){this.persistence=e,this.ri=new Ko(n=>KV(n.path),(n,s)=>n.isEqual(s)),this.garbageCollector=sF(this,t)}static ei(e,t){return new Gf(e,t)}Hr(){}Jr(e){return ne.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(n=>t.next(s=>n+s))}nr(e){let t=0;return this.er(e,n=>{t++}).next(()=>t)}er(e,t){return ne.forEach(this.ri,(n,s)=>this.ir(e,n,s).next(a=>a?ne.resolve():t(s)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.Br(e,l=>this.ir(e,l,t).next(c=>{c||(n++,a.removeEntry(l,Ue.min()))})).next(()=>a.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),ne.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.ri.set(n,e.currentSequenceNumber),ne.resolve()}removeReference(e,t,n){return this.ri.set(n,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),ne.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=pf(e.data.value)),t}ir(e,t,n){return ne.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.ri.get(t);return ne.resolve(s!==void 0&&s>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_{constructor(e,t,n,s){this.targetId=e,this.fromCache=t,this.Wi=n,this.Gi=s}static zi(e,t){let n=et(),s=et();for(const a of t.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new O_(e,t.fromCache,n,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yF{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vF{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return GL()?8:WV(Dr())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,n,s){const a={result:null};return this.Xi(e,t).next(l=>{a.result=l}).next(()=>{if(!a.result)return this.es(e,t,s,n).next(l=>{a.result=l})}).next(()=>{if(a.result)return;const l=new yF;return this.ts(e,t,l).next(c=>{if(a.result=c,this.Hi)return this.ns(e,t,l,c.size)})}).next(()=>a.result)}ns(e,t,n,s){return n.documentReadCount<this.Ji?(Da()<=Ze.DEBUG&&_e("QueryEngine","SDK will not create cache indexes for query:",Na(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),ne.resolve()):(Da()<=Ze.DEBUG&&_e("QueryEngine","Query:",Na(t),"scans",n.documentReadCount,"local documents and returns",s,"documents as results."),n.documentReadCount>this.Yi*s?(Da()<=Ze.DEBUG&&_e("QueryEngine","The SDK decides to create cache indexes for query:",Na(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ai(t))):ne.resolve())}Xi(e,t){if(SR(t))return ne.resolve(null);let n=Ai(t);return this.indexManager.getIndexType(e,n).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=av(t,null,"F"),n=Ai(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(a=>{const l=et(...a);return this.Zi.getDocuments(e,l).next(c=>this.indexManager.getMinOffset(e,n).next(h=>{const p=this.rs(t,c);return this.ss(t,p,l,h.readTime)?this.Xi(e,av(t,null,"F")):this.os(e,p,t,h)}))})))}es(e,t,n,s){return SR(t)||s.isEqual(Ue.min())?ne.resolve(null):this.Zi.getDocuments(e,n).next(a=>{const l=this.rs(t,a);return this.ss(t,l,n,s)?ne.resolve(null):(Da()<=Ze.DEBUG&&_e("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Na(t)),this.os(e,l,t,BV(s,-1)).next(c=>c))})}rs(e,t){let n=new tr(nA(e));return t.forEach((s,a)=>{Ld(e,a)&&(n=n.add(a))}),n}ss(e,t,n,s){if(e.limit===null)return!1;if(n.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}ts(e,t,n){return Da()<=Ze.DEBUG&&_e("QueryEngine","Using full collection scan to execute query:",Na(t)),this.Zi.getDocumentsMatchingQuery(e,t,Qs.min(),n)}os(e,t,n,s){return this.Zi.getDocumentsMatchingQuery(e,n,s).next(a=>(t.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _F{constructor(e,t,n,s){this.persistence=e,this._s=t,this.serializer=s,this.us=new Mt(nt),this.cs=new Ko(a=>E_(a),T_),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(n)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new uF(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function wF(r,e,t,n){return new _F(r,e,t,n)}async function RA(r,e){const t=ze(r);return await t.persistence.runTransaction("Handle user change","readonly",n=>{let s;return t.mutationQueue.getAllMutationBatches(n).next(a=>(s=a,t.Ps(e),t.mutationQueue.getAllMutationBatches(n))).next(a=>{const l=[],c=[];let h=et();for(const p of s){l.push(p.batchId);for(const g of p.mutations)h=h.add(g.key)}for(const p of a){c.push(p.batchId);for(const g of p.mutations)h=h.add(g.key)}return t.localDocuments.getDocuments(n,h).next(p=>({Ts:p,removedBatchIds:l,addedBatchIds:c}))})})}function EF(r,e){const t=ze(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const s=e.batch.keys(),a=t.hs.newChangeBuffer({trackRemovals:!0});return function(c,h,p,g){const _=p.batch,w=_.keys();let T=ne.resolve();return w.forEach(I=>{T=T.next(()=>g.getEntry(h,I)).next(A=>{const C=p.docVersions.get(I);yt(C!==null),A.version.compareTo(C)<0&&(_.applyToRemoteDocument(A,p),A.isValidDocument()&&(A.setReadTime(p.commitVersion),g.addEntry(A)))})}),T.next(()=>c.mutationQueue.removeMutationBatch(h,_))}(t,n,e,a).next(()=>a.apply(n)).next(()=>t.mutationQueue.performConsistencyCheck(n)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(n,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(c){let h=et();for(let p=0;p<c.mutationResults.length;++p)c.mutationResults[p].transformResults.length>0&&(h=h.add(c.batch.mutations[p].key));return h}(e))).next(()=>t.localDocuments.getDocuments(n,s))})}function PA(r){const e=ze(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function TF(r,e){const t=ze(r),n=e.snapshotVersion;let s=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=t.hs.newChangeBuffer({trackRemovals:!0});s=t.us;const c=[];e.targetChanges.forEach((g,_)=>{const w=s.get(_);if(!w)return;c.push(t.Gr.removeMatchingKeys(a,g.removedDocuments,_).next(()=>t.Gr.addMatchingKeys(a,g.addedDocuments,_)));let T=w.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(_)!==null?T=T.withResumeToken(Er.EMPTY_BYTE_STRING,Ue.min()).withLastLimboFreeSnapshotVersion(Ue.min()):g.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(g.resumeToken,n)),s=s.insert(_,T),function(A,C,x){return A.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=3e8?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(w,T,g)&&c.push(t.Gr.updateTargetData(a,T))});let h=ls(),p=et();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(a,g))}),c.push(SF(a,l,e.documentUpdates).next(g=>{h=g.Is,p=g.ds})),!n.isEqual(Ue.min())){const g=t.Gr.getLastRemoteSnapshotVersion(a).next(_=>t.Gr.setTargetsMetadata(a,a.currentSequenceNumber,n));c.push(g)}return ne.waitFor(c).next(()=>l.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,h,p)).next(()=>h)}).then(a=>(t.us=s,a))}function SF(r,e,t){let n=et(),s=et();return t.forEach(a=>n=n.add(a)),e.getEntries(r,n).next(a=>{let l=ls();return t.forEach((c,h)=>{const p=a.get(c);h.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(c)),h.isNoDocument()&&h.version.isEqual(Ue.min())?(e.removeEntry(c,h.readTime),l=l.insert(c,h)):!p.isValidDocument()||h.version.compareTo(p.version)>0||h.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(h),l=l.insert(c,h)):_e("LocalStore","Ignoring outdated watch update for ",c,". Current version:",p.version," Watch version:",h.version)}),{Is:l,ds:s}})}function IF(r,e){const t=ze(r);return t.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function RF(r,e){const t=ze(r);return t.persistence.runTransaction("Allocate target","readwrite",n=>{let s;return t.Gr.getTargetData(n,e).next(a=>a?(s=a,ne.resolve(s)):t.Gr.allocateTargetId(n).next(l=>(s=new Us(e,l,"TargetPurposeListen",n.currentSequenceNumber),t.Gr.addTargetData(n,s).next(()=>s))))}).then(n=>{const s=t.us.get(n.targetId);return(s===null||n.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.us=t.us.insert(n.targetId,n),t.cs.set(e,n.targetId)),n})}async function dv(r,e,t){const n=ze(r),s=n.us.get(e),a=t?"readwrite":"readwrite-primary";try{t||await n.persistence.runTransaction("Release target",a,l=>n.persistence.referenceDelegate.removeTarget(l,s))}catch(l){if(!au(l))throw l;_e("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}n.us=n.us.remove(e),n.cs.delete(s.target)}function LR(r,e,t){const n=ze(r);let s=Ue.min(),a=et();return n.persistence.runTransaction("Execute query","readwrite",l=>function(h,p,g){const _=ze(h),w=_.cs.get(g);return w!==void 0?ne.resolve(_.us.get(w)):_.Gr.getTargetData(p,g)}(n,l,Ai(e)).next(c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,n.Gr.getMatchingKeysForTargetId(l,c.targetId).next(h=>{a=h})}).next(()=>n._s.getDocumentsMatchingQuery(l,e,t?s:Ue.min(),t?a:et())).next(c=>(PF(n,d6(e),c),{documents:c,Es:a})))}function PF(r,e,t){let n=r.ls.get(e)||Ue.min();t.forEach((s,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)}),r.ls.set(e,n)}class MR{constructor(){this.activeTargetIds=v6()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class CF{constructor(){this._o=new MR,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,n){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new MR,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AF{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){_e("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){_e("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nf=null;function Ay(){return nf===null?nf=function(){return 268435456+Math.round(2147483648*Math.random())}():nf++,"0x"+nf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kF{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kr="WebChannelConnection";class OF extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Fo=n+"://"+t.host,this.Mo=`projects/${s}/databases/${a}`,this.xo=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Oo(t,n,s,a,l){const c=Ay(),h=this.No(t,n.toUriEncodedString());_e("RestConnection",`Sending RPC '${t}' ${c}:`,h,s);const p={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Bo(p,a,l),this.Lo(t,h,p,s).then(g=>(_e("RestConnection",`Received RPC '${t}' ${c}: `,g),g),g=>{throw Wa("RestConnection",`RPC '${t}' ${c} failed with error: `,g,"url: ",h,"request:",s),g})}ko(t,n,s,a,l,c){return this.Oo(t,n,s,a,l)}Bo(t,n,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+su}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,l)=>t[l]=a),s&&s.headers.forEach((a,l)=>t[l]=a)}No(t,n){const s=bF[t];return`${this.Fo}/v1/${n}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Lo(e,t,n,s){const a=Ay();return new Promise((l,c)=>{const h=new jC;h.setWithCredentials(!0),h.listenOnce(UC.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case hf.NO_ERROR:const g=h.getResponseJson();_e(kr,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(g)),l(g);break;case hf.TIMEOUT:_e(kr,`RPC '${e}' ${a} timed out`),c(new Ie(ie.DEADLINE_EXCEEDED,"Request time out"));break;case hf.HTTP_ERROR:const _=h.getStatus();if(_e(kr,`RPC '${e}' ${a} failed with status:`,_,"response text:",h.getResponseText()),_>0){let w=h.getResponseJson();Array.isArray(w)&&(w=w[0]);const T=w==null?void 0:w.error;if(T&&T.status&&T.message){const I=function(C){const x=C.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(x)>=0?x:ie.UNKNOWN}(T.status);c(new Ie(I,T.message))}else c(new Ie(ie.UNKNOWN,"Server responded with status "+h.getStatus()))}else c(new Ie(ie.UNAVAILABLE,"Connection failed."));break;default:Fe()}}finally{_e(kr,`RPC '${e}' ${a} completed.`)}});const p=JSON.stringify(s);_e(kr,`RPC '${e}' ${a} sending request:`,s),h.send(t,"POST",p,n,15)})}qo(e,t,n){const s=Ay(),a=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=qC(),c=zC(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(h.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Bo(h.initMessageHeaders,t,n),h.encodeInitMessageHeaders=!0;const g=a.join("");_e(kr,`Creating RPC '${e}' stream ${s}: ${g}`,h);const _=l.createWebChannel(g,h);let w=!1,T=!1;const I=new kF({Eo:C=>{T?_e(kr,`Not sending because RPC '${e}' stream ${s} is closed:`,C):(w||(_e(kr,`Opening RPC '${e}' stream ${s} transport.`),_.open(),w=!0),_e(kr,`RPC '${e}' stream ${s} sending:`,C),_.send(C))},Ao:()=>_.close()}),A=(C,x,U)=>{C.listen(x,$=>{try{U($)}catch(M){setTimeout(()=>{throw M},0)}})};return A(_,Yu.EventType.OPEN,()=>{T||(_e(kr,`RPC '${e}' stream ${s} transport opened.`),I.So())}),A(_,Yu.EventType.CLOSE,()=>{T||(T=!0,_e(kr,`RPC '${e}' stream ${s} transport closed`),I.Do())}),A(_,Yu.EventType.ERROR,C=>{T||(T=!0,Wa(kr,`RPC '${e}' stream ${s} transport errored:`,C),I.Do(new Ie(ie.UNAVAILABLE,"The operation could not be completed")))}),A(_,Yu.EventType.MESSAGE,C=>{var x;if(!T){const U=C.data[0];yt(!!U);const $=U,M=($==null?void 0:$.error)||((x=$[0])===null||x===void 0?void 0:x.error);if(M){_e(kr,`RPC '${e}' stream ${s} received error:`,M);const O=M.status;let H=function(b){const N=Gt[b];if(N!==void 0)return pA(N)}(O),k=M.message;H===void 0&&(H=ie.INTERNAL,k="Unknown error status: "+O+" with message "+M.message),T=!0,I.Do(new Ie(H,k)),_.close()}else _e(kr,`RPC '${e}' stream ${s} received:`,U),I.vo(U)}}),A(c,BC.STAT_EVENT,C=>{C.stat===tv.PROXY?_e(kr,`RPC '${e}' stream ${s} detected buffering proxy`):C.stat===tv.NOPROXY&&_e(kr,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{I.bo()},0),I}}function by(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jd(r){return new F6(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(e,t,n=1e3,s=1.5,a=6e4){this.li=e,this.timerId=t,this.Qo=n,this.Ko=s,this.$o=a,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),n=Math.max(0,Date.now()-this.Go),s=Math.max(0,t-n);s>0&&_e("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,s,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(e,t,n,s,a,l,c,h){this.li=e,this.Yo=n,this.Zo=s,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=h,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new CA(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===ie.RESOURCE_EXHAUSTED?(us(t.toString()),us("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,s])=>{this.Xo===t&&this.I_(n,s)},n=>{e(()=>{const s=new Ie(ie.UNKNOWN,"Fetching auth token failed: "+n.message);return this.d_(s)})})}I_(e,t){const n=this.T_(this.Xo);this.stream=this.E_(e,t),this.stream.Ro(()=>{n(()=>this.listener.Ro())}),this.stream.mo(()=>{n(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(s=>{n(()=>this.d_(s))}),this.stream.onMessage(s=>{n(()=>++this.n_==1?this.A_(s):this.onNext(s))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}d_(e){return _e("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(_e("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class xF extends AA{constructor(e,t,n,s,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,s,l),this.serializer=a}E_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=B6(this.serializer,e),n=function(a){if(!("targetChange"in a))return Ue.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Ue.min():l.readTime?ki(l.readTime):Ue.min()}(e);return this.listener.R_(t,n)}V_(e){const t={};t.database=fv(this.serializer),t.addTarget=function(a,l){let c;const h=l.target;if(c=sv(h)?{documents:$6(a,h)}:{query:H6(a,h).ct},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=yA(a,l.resumeToken);const p=uv(a,l.expectedCount);p!==null&&(c.expectedCount=p)}else if(l.snapshotVersion.compareTo(Ue.min())>0){c.readTime=Wf(a,l.snapshotVersion.toTimestamp());const p=uv(a,l.expectedCount);p!==null&&(c.expectedCount=p)}return c}(this.serializer,e);const n=G6(this.serializer,e);n&&(t.labels=n),this.c_(t)}m_(e){const t={};t.database=fv(this.serializer),t.removeTarget=e,this.c_(t)}}class DF extends AA{constructor(e,t,n,s,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,s,l),this.serializer=a}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}E_(e,t){return this.connection.qo("Write",e,t)}A_(e){return yt(!!e.streamToken),this.lastStreamToken=e.streamToken,yt(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){yt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=q6(e.writeResults,e.commitTime),n=ki(e.commitTime);return this.listener.y_(n,t)}w_(){const e={};e.database=fv(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(n=>z6(this.serializer,n))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NF extends class{}{constructor(e,t,n,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=s,this.S_=!1}b_(){if(this.S_)throw new Ie(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,n,s){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Oo(e,lv(t,n),s,a,l)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ie(ie.UNKNOWN,a.toString())})}ko(e,t,n,s,a){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.ko(e,lv(t,n),s,l,c,a)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ie(ie.UNKNOWN,l.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class LF{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(us(t),this.C_=!1):_e("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MF{constructor(e,t,n,s,a){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.B_=[],this.L_=new Map,this.k_=new Set,this.q_=[],this.Q_=a,this.Q_.uo(l=>{n.enqueueAndForget(async()=>{Yo(this)&&(_e("RemoteStore","Restarting streams for network reachability change."),await async function(h){const p=ze(h);p.k_.add(4),await Vl(p),p.K_.set("Unknown"),p.k_.delete(4),await Ud(p)}(this))})}),this.K_=new LF(n,s)}}async function Ud(r){if(Yo(r))for(const e of r.q_)await e(!0)}async function Vl(r){for(const e of r.q_)await e(!1)}function bA(r,e){const t=ze(r);t.L_.has(e.targetId)||(t.L_.set(e.targetId,e),L_(t)?N_(t):lu(t).s_()&&D_(t,e))}function x_(r,e){const t=ze(r),n=lu(t);t.L_.delete(e),n.s_()&&kA(t,e),t.L_.size===0&&(n.s_()?n.a_():Yo(t)&&t.K_.set("Unknown"))}function D_(r,e){if(r.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ue.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}lu(r).V_(e)}function kA(r,e){r.U_.xe(e),lu(r).m_(e)}function N_(r){r.U_=new N6({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>r.L_.get(e)||null,nt:()=>r.datastore.serializer.databaseId}),lu(r).start(),r.K_.F_()}function L_(r){return Yo(r)&&!lu(r).i_()&&r.L_.size>0}function Yo(r){return ze(r).k_.size===0}function OA(r){r.U_=void 0}async function VF(r){r.K_.set("Online")}async function FF(r){r.L_.forEach((e,t)=>{D_(r,e)})}async function jF(r,e){OA(r),L_(r)?(r.K_.O_(e),N_(r)):r.K_.set("Unknown")}async function UF(r,e,t){if(r.K_.set("Online"),e instanceof gA&&e.state===2&&e.cause)try{await async function(s,a){const l=a.cause;for(const c of a.targetIds)s.L_.has(c)&&(await s.remoteSyncer.rejectListen(c,l),s.L_.delete(c),s.U_.removeTarget(c))}(r,e)}catch(n){_e("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Kf(r,n)}else if(e instanceof yf?r.U_.$e(e):e instanceof mA?r.U_.Je(e):r.U_.Ge(e),!t.isEqual(Ue.min()))try{const n=await PA(r.localStore);t.compareTo(n)>=0&&await function(a,l){const c=a.U_.it(l);return c.targetChanges.forEach((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const g=a.L_.get(p);g&&a.L_.set(p,g.withResumeToken(h.resumeToken,l))}}),c.targetMismatches.forEach((h,p)=>{const g=a.L_.get(h);if(!g)return;a.L_.set(h,g.withResumeToken(Er.EMPTY_BYTE_STRING,g.snapshotVersion)),kA(a,h);const _=new Us(g.target,h,p,g.sequenceNumber);D_(a,_)}),a.remoteSyncer.applyRemoteEvent(c)}(r,t)}catch(n){_e("RemoteStore","Failed to raise snapshot:",n),await Kf(r,n)}}async function Kf(r,e,t){if(!au(e))throw e;r.k_.add(1),await Vl(r),r.K_.set("Offline"),t||(t=()=>PA(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{_e("RemoteStore","Retrying IndexedDB access"),await t(),r.k_.delete(1),await Ud(r)})}function xA(r,e){return e().catch(t=>Kf(r,t,e))}async function Bd(r){const e=ze(r),t=Zs(e);let n=e.B_.length>0?e.B_[e.B_.length-1].batchId:-1;for(;BF(e);)try{const s=await IF(e.localStore,n);if(s===null){e.B_.length===0&&t.a_();break}n=s.batchId,zF(e,s)}catch(s){await Kf(e,s)}DA(e)&&NA(e)}function BF(r){return Yo(r)&&r.B_.length<10}function zF(r,e){r.B_.push(e);const t=Zs(r);t.s_()&&t.f_&&t.g_(e.mutations)}function DA(r){return Yo(r)&&!Zs(r).i_()&&r.B_.length>0}function NA(r){Zs(r).start()}async function qF(r){Zs(r).w_()}async function $F(r){const e=Zs(r);for(const t of r.B_)e.g_(t.mutations)}async function HF(r,e,t){const n=r.B_.shift(),s=P_.from(n,e,t);await xA(r,()=>r.remoteSyncer.applySuccessfulWrite(s)),await Bd(r)}async function WF(r,e){e&&Zs(r).f_&&await async function(n,s){if(function(l){return O6(l)&&l!==ie.ABORTED}(s.code)){const a=n.B_.shift();Zs(n).__(),await xA(n,()=>n.remoteSyncer.rejectFailedWrite(a.batchId,s)),await Bd(n)}}(r,e),DA(r)&&NA(r)}async function FR(r,e){const t=ze(r);t.asyncQueue.verifyOperationInProgress(),_e("RemoteStore","RemoteStore received new credentials");const n=Yo(t);t.k_.add(3),await Vl(t),n&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await Ud(t)}async function GF(r,e){const t=ze(r);e?(t.k_.delete(2),await Ud(t)):e||(t.k_.add(2),await Vl(t),t.K_.set("Unknown"))}function lu(r){return r.W_||(r.W_=function(t,n,s){const a=ze(t);return a.b_(),new xF(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(r.datastore,r.asyncQueue,{Ro:VF.bind(null,r),mo:FF.bind(null,r),po:jF.bind(null,r),R_:UF.bind(null,r)}),r.q_.push(async e=>{e?(r.W_.__(),L_(r)?N_(r):r.K_.set("Unknown")):(await r.W_.stop(),OA(r))})),r.W_}function Zs(r){return r.G_||(r.G_=function(t,n,s){const a=ze(t);return a.b_(),new DF(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(r.datastore,r.asyncQueue,{Ro:()=>Promise.resolve(),mo:qF.bind(null,r),po:WF.bind(null,r),p_:$F.bind(null,r),y_:HF.bind(null,r)}),r.q_.push(async e=>{e?(r.G_.__(),await Bd(r)):(await r.G_.stop(),r.B_.length>0&&(_e("RemoteStore",`Stopping write stream with ${r.B_.length} pending writes`),r.B_=[]))})),r.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_{constructor(e,t,n,s,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=s,this.removalCallback=a,this.deferred=new No,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,s,a){const l=Date.now()+n,c=new M_(e,t,l,s,a);return c.start(n),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ie(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function V_(r,e){if(us("AsyncQueue",`${e}: ${r}`),au(r))return new Ie(ie.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{static emptySet(e){return new Ua(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||Ae.comparator(t.key,n.key):(t,n)=>Ae.comparator(t.key,n.key),this.keyedMap=Ju(),this.sortedSet=new Mt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ua)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=n.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const n=new Ua;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(){this.z_=new Mt(Ae.comparator)}track(e){const t=e.doc.key,n=this.z_.get(t);n?e.type!==0&&n.type===3?this.z_=this.z_.insert(t,e):e.type===3&&n.type!==1?this.z_=this.z_.insert(t,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.z_=this.z_.remove(t):e.type===1&&n.type===2?this.z_=this.z_.insert(t,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):Fe():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,n)=>{e.push(n)}),e}}class Ja{constructor(e,t,n,s,a,l,c,h,p){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=s,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=h,this.hasCachedResults=p}static fromInitialDocuments(e,t,n,s,a){const l=[];return t.forEach(c=>{l.push({type:0,doc:c})}),new Ja(e,t,Ua.emptySet(t),l,n,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==n[s].type||!t[s].doc.isEqual(n[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KF{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class QF{constructor(){this.queries=UR(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,n){const s=ze(t),a=s.queries;s.queries=UR(),a.forEach((l,c)=>{for(const h of c.J_)h.onError(n)})})(this,new Ie(ie.ABORTED,"Firestore shutting down"))}}function UR(){return new Ko(r=>rA(r),Nd)}async function YF(r,e){const t=ze(r);let n=3;const s=e.query;let a=t.queries.get(s);a?!a.Y_()&&e.Z_()&&(n=2):(a=new KF,n=e.Z_()?0:1);try{switch(n){case 0:a.H_=await t.onListen(s,!0);break;case 1:a.H_=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(l){const c=V_(l,`Initialization of query '${Na(e.query)}' failed`);return void e.onError(c)}t.queries.set(s,a),a.J_.push(e),e.ea(t.onlineState),a.H_&&e.ta(a.H_)&&F_(t)}async function JF(r,e){const t=ze(r),n=e.query;let s=3;const a=t.queries.get(n);if(a){const l=a.J_.indexOf(e);l>=0&&(a.J_.splice(l,1),a.J_.length===0?s=e.Z_()?0:1:!a.Y_()&&e.Z_()&&(s=2))}switch(s){case 0:return t.queries.delete(n),t.onUnlisten(n,!0);case 1:return t.queries.delete(n),t.onUnlisten(n,!1);case 2:return t.onLastRemoteStoreUnlisten(n);default:return}}function XF(r,e){const t=ze(r);let n=!1;for(const s of e){const a=s.query,l=t.queries.get(a);if(l){for(const c of l.J_)c.ta(s)&&(n=!0);l.H_=s}}n&&F_(t)}function ZF(r,e,t){const n=ze(r),s=n.queries.get(e);if(s)for(const a of s.J_)a.onError(t);n.queries.delete(e)}function F_(r){r.X_.forEach(e=>{e.next()})}var hv,BR;(BR=hv||(hv={})).na="default",BR.Cache="cache";class e8{constructor(e,t,n){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=n||{}}ta(e){if(!this.options.includeMetadataChanges){const n=[];for(const s of e.docChanges)s.type!==3&&n.push(s);e=new Ja(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const n=t!=="Offline";return(!this.options.ua||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=Ja.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==hv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(e){this.key=e}}class MA{constructor(e){this.key=e}}class t8{constructor(e,t){this.query=e,this.Ea=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=et(),this.mutatedKeys=et(),this.Va=nA(e),this.ma=new Ua(this.Va)}get fa(){return this.Ea}ga(e,t){const n=t?t.pa:new jR,s=t?t.ma:this.ma;let a=t?t.mutatedKeys:this.mutatedKeys,l=s,c=!1;const h=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((g,_)=>{const w=s.get(g),T=Ld(this.query,_)?_:null,I=!!w&&this.mutatedKeys.has(w.key),A=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let C=!1;w&&T?w.data.isEqual(T.data)?I!==A&&(n.track({type:3,doc:T}),C=!0):this.ya(w,T)||(n.track({type:2,doc:T}),C=!0,(h&&this.Va(T,h)>0||p&&this.Va(T,p)<0)&&(c=!0)):!w&&T?(n.track({type:0,doc:T}),C=!0):w&&!T&&(n.track({type:1,doc:w}),C=!0,(h||p)&&(c=!0)),C&&(T?(l=l.add(T),a=A?a.add(g):a.delete(g)):(l=l.delete(g),a=a.delete(g)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),a=a.delete(g.key),n.track({type:1,doc:g})}return{ma:l,pa:n,ss:c,mutatedKeys:a}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,s){const a=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const l=e.pa.j_();l.sort((g,_)=>function(T,I){const A=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Fe()}};return A(T)-A(I)}(g.type,_.type)||this.Va(g.doc,_.doc)),this.wa(n),s=s!=null&&s;const c=t&&!s?this.Sa():[],h=this.Ra.size===0&&this.current&&!s?1:0,p=h!==this.Aa;return this.Aa=h,l.length!==0||p?{snapshot:new Ja(this.query,e.ma,a,l,e.mutatedKeys,h===0,p,!1,!!n&&n.resumeToken.approximateByteSize()>0),ba:c}:{ba:c}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new jR,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.Ea.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.Ea=this.Ea.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ea=this.Ea.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=et(),this.ma.forEach(n=>{this.Da(n.key)&&(this.Ra=this.Ra.add(n.key))});const t=[];return e.forEach(n=>{this.Ra.has(n)||t.push(new MA(n))}),this.Ra.forEach(n=>{e.has(n)||t.push(new LA(n))}),t}va(e){this.Ea=e.Es,this.Ra=et();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return Ja.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class r8{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class n8{constructor(e){this.key=e,this.Fa=!1}}class i8{constructor(e,t,n,s,a,l){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.Ma={},this.xa=new Ko(c=>rA(c),Nd),this.Oa=new Map,this.Na=new Set,this.Ba=new Mt(Ae.comparator),this.La=new Map,this.ka=new b_,this.qa={},this.Qa=new Map,this.Ka=Ya.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function s8(r,e,t=!0){const n=zA(r);let s;const a=n.xa.get(e);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.Ca()):s=await VA(n,e,t,!0),s}async function o8(r,e){const t=zA(r);await VA(t,e,!0,!1)}async function VA(r,e,t,n){const s=await RF(r.localStore,Ai(e)),a=s.targetId,l=r.sharedClientState.addLocalQueryTarget(a,t);let c;return n&&(c=await a8(r,e,a,l==="current",s.resumeToken)),r.isPrimaryClient&&t&&bA(r.remoteStore,s),c}async function a8(r,e,t,n,s){r.Ua=(_,w,T)=>async function(A,C,x,U){let $=C.view.ga(x);$.ss&&($=await LR(A.localStore,C.query,!1).then(({documents:k})=>C.view.ga(k,$)));const M=U&&U.targetChanges.get(C.targetId),O=U&&U.targetMismatches.get(C.targetId)!=null,H=C.view.applyChanges($,A.isPrimaryClient,M,O);return qR(A,C.targetId,H.ba),H.snapshot}(r,_,w,T);const a=await LR(r.localStore,e,!0),l=new t8(e,a.Es),c=l.ga(a.documents),h=Ml.createSynthesizedTargetChangeForCurrentChange(t,n&&r.onlineState!=="Offline",s),p=l.applyChanges(c,r.isPrimaryClient,h);qR(r,t,p.ba);const g=new r8(e,t,l);return r.xa.set(e,g),r.Oa.has(t)?r.Oa.get(t).push(e):r.Oa.set(t,[e]),p.snapshot}async function u8(r,e,t){const n=ze(r),s=n.xa.get(e),a=n.Oa.get(s.targetId);if(a.length>1)return n.Oa.set(s.targetId,a.filter(l=>!Nd(l,e))),void n.xa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(s.targetId),n.sharedClientState.isActiveQueryTarget(s.targetId)||await dv(n.localStore,s.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(s.targetId),t&&x_(n.remoteStore,s.targetId),pv(n,s.targetId)}).catch(ou)):(pv(n,s.targetId),await dv(n.localStore,s.targetId,!0))}async function l8(r,e){const t=ze(r),n=t.xa.get(e),s=t.Oa.get(n.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(n.targetId),x_(t.remoteStore,n.targetId))}async function c8(r,e,t){const n=y8(r);try{const s=await function(l,c){const h=ze(l),p=er.now(),g=c.reduce((T,I)=>T.add(I.key),et());let _,w;return h.persistence.runTransaction("Locally write mutations","readwrite",T=>{let I=ls(),A=et();return h.hs.getEntries(T,g).next(C=>{I=C,I.forEach((x,U)=>{U.isValidDocument()||(A=A.add(x))})}).next(()=>h.localDocuments.getOverlayedDocuments(T,I)).next(C=>{_=C;const x=[];for(const U of c){const $=P6(U,_.get(U.key).overlayedDocument);$!=null&&x.push(new Qo(U.key,$,KC($.value.mapValue),bi.exists(!0)))}return h.mutationQueue.addMutationBatch(T,p,x,c)}).next(C=>{w=C;const x=C.applyToLocalDocumentSet(_,A);return h.documentOverlayCache.saveOverlays(T,C.batchId,x)})}).then(()=>({batchId:w.batchId,changes:sA(_)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(s.batchId),function(l,c,h){let p=l.qa[l.currentUser.toKey()];p||(p=new Mt(nt)),p=p.insert(c,h),l.qa[l.currentUser.toKey()]=p}(n,s.batchId,t),await Fl(n,s.changes),await Bd(n.remoteStore)}catch(s){const a=V_(s,"Failed to persist write");t.reject(a)}}async function FA(r,e){const t=ze(r);try{const n=await TF(t.localStore,e);e.targetChanges.forEach((s,a)=>{const l=t.La.get(a);l&&(yt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?l.Fa=!0:s.modifiedDocuments.size>0?yt(l.Fa):s.removedDocuments.size>0&&(yt(l.Fa),l.Fa=!1))}),await Fl(t,n,e)}catch(n){await ou(n)}}function zR(r,e,t){const n=ze(r);if(n.isPrimaryClient&&t===0||!n.isPrimaryClient&&t===1){const s=[];n.xa.forEach((a,l)=>{const c=l.view.ea(e);c.snapshot&&s.push(c.snapshot)}),function(l,c){const h=ze(l);h.onlineState=c;let p=!1;h.queries.forEach((g,_)=>{for(const w of _.J_)w.ea(c)&&(p=!0)}),p&&F_(h)}(n.eventManager,e),s.length&&n.Ma.R_(s),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function f8(r,e,t){const n=ze(r);n.sharedClientState.updateQueryState(e,"rejected",t);const s=n.La.get(e),a=s&&s.key;if(a){let l=new Mt(Ae.comparator);l=l.insert(a,xr.newNoDocument(a,Ue.min()));const c=et().add(a),h=new Fd(Ue.min(),new Map,new Mt(nt),l,c);await FA(n,h),n.Ba=n.Ba.remove(a),n.La.delete(e),j_(n)}else await dv(n.localStore,e,!1).then(()=>pv(n,e,t)).catch(ou)}async function d8(r,e){const t=ze(r),n=e.batch.batchId;try{const s=await EF(t.localStore,e);UA(t,n,null),jA(t,n),t.sharedClientState.updateMutationState(n,"acknowledged"),await Fl(t,s)}catch(s){await ou(s)}}async function h8(r,e,t){const n=ze(r);try{const s=await function(l,c){const h=ze(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let g;return h.mutationQueue.lookupMutationBatch(p,c).next(_=>(yt(_!==null),g=_.keys(),h.mutationQueue.removeMutationBatch(p,_))).next(()=>h.mutationQueue.performConsistencyCheck(p)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(p,g,c)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,g)).next(()=>h.localDocuments.getDocuments(p,g))})}(n.localStore,e);UA(n,e,t),jA(n,e),n.sharedClientState.updateMutationState(e,"rejected",t),await Fl(n,s)}catch(s){await ou(s)}}function jA(r,e){(r.Qa.get(e)||[]).forEach(t=>{t.resolve()}),r.Qa.delete(e)}function UA(r,e,t){const n=ze(r);let s=n.qa[n.currentUser.toKey()];if(s){const a=s.get(e);a&&(t?a.reject(t):a.resolve(),s=s.remove(e)),n.qa[n.currentUser.toKey()]=s}}function pv(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const n of r.Oa.get(e))r.xa.delete(n),t&&r.Ma.Wa(n,t);r.Oa.delete(e),r.isPrimaryClient&&r.ka.yr(e).forEach(n=>{r.ka.containsKey(n)||BA(r,n)})}function BA(r,e){r.Na.delete(e.path.canonicalString());const t=r.Ba.get(e);t!==null&&(x_(r.remoteStore,t),r.Ba=r.Ba.remove(e),r.La.delete(t),j_(r))}function qR(r,e,t){for(const n of t)n instanceof LA?(r.ka.addReference(n.key,e),p8(r,n)):n instanceof MA?(_e("SyncEngine","Document no longer in limbo: "+n.key),r.ka.removeReference(n.key,e),r.ka.containsKey(n.key)||BA(r,n.key)):Fe()}function p8(r,e){const t=e.key,n=t.path.canonicalString();r.Ba.get(t)||r.Na.has(n)||(_e("SyncEngine","New document in limbo: "+t),r.Na.add(n),j_(r))}function j_(r){for(;r.Na.size>0&&r.Ba.size<r.maxConcurrentLimboResolutions;){const e=r.Na.values().next().value;r.Na.delete(e);const t=new Ae(bt.fromString(e)),n=r.Ka.next();r.La.set(n,new n8(t)),r.Ba=r.Ba.insert(t,n),bA(r.remoteStore,new Us(Ai(S_(t.path)),n,"TargetPurposeLimboResolution",Od.oe))}}async function Fl(r,e,t){const n=ze(r),s=[],a=[],l=[];n.xa.isEmpty()||(n.xa.forEach((c,h)=>{l.push(n.Ua(h,e,t).then(p=>{var g;if((p||t)&&n.isPrimaryClient){const _=p?!p.fromCache:(g=t==null?void 0:t.targetChanges.get(h.targetId))===null||g===void 0?void 0:g.current;n.sharedClientState.updateQueryState(h.targetId,_?"current":"not-current")}if(p){s.push(p);const _=O_.zi(h.targetId,p);a.push(_)}}))}),await Promise.all(l),n.Ma.R_(s),await async function(h,p){const g=ze(h);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>ne.forEach(p,w=>ne.forEach(w.Wi,T=>g.persistence.referenceDelegate.addReference(_,w.targetId,T)).next(()=>ne.forEach(w.Gi,T=>g.persistence.referenceDelegate.removeReference(_,w.targetId,T)))))}catch(_){if(!au(_))throw _;_e("LocalStore","Failed to update sequence numbers: "+_)}for(const _ of p){const w=_.targetId;if(!_.fromCache){const T=g.us.get(w),I=T.snapshotVersion,A=T.withLastLimboFreeSnapshotVersion(I);g.us=g.us.insert(w,A)}}}(n.localStore,a))}async function m8(r,e){const t=ze(r);if(!t.currentUser.isEqual(e)){_e("SyncEngine","User change. New user:",e.toKey());const n=await RA(t.localStore,e);t.currentUser=e,function(a,l){a.Qa.forEach(c=>{c.forEach(h=>{h.reject(new Ie(ie.CANCELLED,l))})}),a.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Fl(t,n.Ts)}}function g8(r,e){const t=ze(r),n=t.La.get(e);if(n&&n.Fa)return et().add(n.key);{let s=et();const a=t.Oa.get(e);if(!a)return s;for(const l of a){const c=t.xa.get(l);s=s.unionWith(c.view.fa)}return s}}function zA(r){const e=ze(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=FA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=g8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=f8.bind(null,e),e.Ma.R_=XF.bind(null,e.eventManager),e.Ma.Wa=ZF.bind(null,e.eventManager),e}function y8(r){const e=ze(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=d8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=h8.bind(null,e),e}class Qf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=jd(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return wF(this.persistence,new vF,e.initialUser,this.serializer)}ja(e){return new IA(k_.ei,this.serializer)}za(e){return new CF}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Qf.provider={build:()=>new Qf};class v8 extends Qf{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){yt(this.persistence.referenceDelegate instanceof Gf);const n=this.persistence.referenceDelegate.garbageCollector;return new nF(n,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?nn.withCacheSize(this.cacheSizeBytes):nn.DEFAULT;return new IA(n=>Gf.ei(n,t),this.serializer)}}class mv{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>zR(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=m8.bind(null,this.syncEngine),await GF(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new QF}()}createDatastore(e){const t=jd(e.databaseInfo.databaseId),n=function(a){return new OF(a)}(e.databaseInfo);return function(a,l,c,h){return new NF(a,l,c,h)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(n,s,a,l,c){return new MF(n,s,a,l,c)}(this.localStore,this.datastore,e.asyncQueue,t=>zR(this.syncEngine,t,0),function(){return VR.p()?new VR:new AF}())}createSyncEngine(e,t){return function(s,a,l,c,h,p,g){const _=new i8(s,a,l,c,h,p);return g&&(_.$a=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const a=ze(s);_e("RemoteStore","RemoteStore shutting down."),a.k_.add(5),await Vl(a),a.Q_.shutdown(),a.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}mv.provider={build:()=>new mv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _8{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):us("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w8{constructor(e,t,n,s,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=s,this.user=Or.UNAUTHENTICATED,this.clientId=HC.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,async l=>{_e("FirestoreClient","Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(n,l=>(_e("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new No;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=V_(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function ky(r,e){r.asyncQueue.verifyOperationInProgress(),_e("FirestoreClient","Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let n=t.initialUser;r.setCredentialChangeListener(async s=>{n.isEqual(s)||(await RA(e.localStore,s),n=s)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function $R(r,e){r.asyncQueue.verifyOperationInProgress();const t=await E8(r);_e("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(n=>FR(e.remoteStore,n)),r.setAppCheckTokenChangeListener((n,s)=>FR(e.remoteStore,s)),r._onlineComponents=e}async function E8(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){_e("FirestoreClient","Using user provided OfflineComponentProvider");try{await ky(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===ie.FAILED_PRECONDITION||s.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;Wa("Error using user provided cache. Falling back to memory cache: "+t),await ky(r,new Qf)}}else _e("FirestoreClient","Using default OfflineComponentProvider"),await ky(r,new v8(void 0));return r._offlineComponents}async function qA(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(_e("FirestoreClient","Using user provided OnlineComponentProvider"),await $R(r,r._uninitializedComponentsProvider._online)):(_e("FirestoreClient","Using default OnlineComponentProvider"),await $R(r,new mv))),r._onlineComponents}function T8(r){return qA(r).then(e=>e.syncEngine)}async function HR(r){const e=await qA(r),t=e.eventManager;return t.onListen=s8.bind(null,e.syncEngine),t.onUnlisten=u8.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=o8.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=l8.bind(null,e.syncEngine),t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $A(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HA(r,e,t){if(!t)throw new Ie(ie.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function S8(r,e,t,n){if(e===!0&&n===!0)throw new Ie(ie.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function GR(r){if(!Ae.isDocumentKey(r))throw new Ie(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function KR(r){if(Ae.isDocumentKey(r))throw new Ie(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function zd(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Fe()}function Ba(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new Ie(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=zd(r);throw new Ie(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(e){var t,n;if(e.host===void 0){if(e.ssl!==void 0)throw new Ie(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Ie(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}S8("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$A((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Ie(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Ie(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Ie(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,s){return n.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class qd{constructor(e,t,n,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new QR({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ie(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ie(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new QR(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new xV;switch(n.type){case"firstParty":return new MV(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Ie(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const n=WR.get(t);n&&(_e("ComponentProvider","Removing Datastore"),WR.delete(t),n.terminate())}(this),Promise.resolve()}}function I8(r,e,t,n={}){var s;const a=(r=Ba(r,qd))._getSettings(),l=`${e}:${t}`;if(a.host!=="firestore.googleapis.com"&&a.host!==l&&Wa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},a),{host:l,ssl:!1})),n.mockUserToken){let c,h;if(typeof n.mockUserToken=="string")c=n.mockUserToken,h=Or.MOCK_USER;else{c=BL(n.mockUserToken,(s=r._app)===null||s===void 0?void 0:s.options.projectId);const p=n.mockUserToken.sub||n.mockUserToken.user_id;if(!p)throw new Ie(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Or(p)}r._authCredentials=new DV(new $C(c,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Jo(this.firestore,e,this._query)}}class yn{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yn(this.firestore,e,this._key)}}class Hs extends Jo{constructor(e,t,n){super(e,t,S_(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yn(this.firestore,null,new Ae(e))}withConverter(e){return new Hs(this.firestore,e,this._path)}}function WA(r,e,...t){if(r=Nr(r),HA("collection","path",e),r instanceof qd){const n=bt.fromString(e,...t);return KR(n),new Hs(r,null,n)}{if(!(r instanceof yn||r instanceof Hs))throw new Ie(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(bt.fromString(e,...t));return KR(n),new Hs(r.firestore,null,n)}}function GA(r,e,...t){if(r=Nr(r),arguments.length===1&&(e=HC.newId()),HA("doc","path",e),r instanceof qd){const n=bt.fromString(e,...t);return GR(n),new yn(r,null,new Ae(n))}{if(!(r instanceof yn||r instanceof Hs))throw new Ie(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(bt.fromString(e,...t));return GR(n),new yn(r.firestore,r instanceof Hs?r.converter:null,new Ae(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(e=Promise.resolve()){this.Iu=[],this.du=!1,this.Eu=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new CA(this,"async_queue_retry"),this.fu=()=>{const n=by();n&&_e("AsyncQueue","Visibility state changed to "+n.visibilityState),this.r_.Jo()},this.gu=e;const t=by();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.du}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.du){this.du=!0,this.Vu=e||!1;const t=by();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.du)return new Promise(()=>{});const t=new No;return this.yu(()=>this.du&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!au(e))throw e;_e("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(n=>{this.Au=n,this.Ru=!1;const s=function(l){let c=l.message||"";return l.stack&&(c=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),c}(n);throw us("INTERNAL UNHANDLED ERROR: ",s),n}).then(n=>(this.Ru=!1,n))));return this.gu=t,t}enqueueAfterDelay(e,t,n){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const s=M_.createAndSchedule(this,e,t,n,a=>this.Su(a));return this.Eu.push(s),s}pu(){this.Au&&Fe()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.Eu)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.Eu.sort((t,n)=>t.targetTimeMs-n.targetTimeMs);for(const t of this.Eu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.Eu.indexOf(e);this.Eu.splice(t,1)}}function JR(r){return function(t,n){if(typeof t!="object"||t===null)return!1;const s=t;for(const a of n)if(a in s&&typeof s[a]=="function")return!0;return!1}(r,["next","error","complete"])}class wl extends qd{constructor(e,t,n,s){super(e,t,n,s),this.type="firestore",this._queue=new YR,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new YR(e),this._firestoreClient=void 0,await e}}}function R8(r,e){const t=typeof r=="object"?r:t_(),n=typeof r=="string"?r:"(default)",s=Wo(t,"firestore").getImmediate({identifier:n});if(!s._initialized){const a=jL("firestore");a&&I8(s,...a)}return s}function KA(r){if(r._terminated)throw new Ie(ie.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||P8(r),r._firestoreClient}function P8(r){var e,t,n;const s=r._freezeSettings(),a=function(c,h,p,g){return new JV(c,h,p,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,$A(g.experimentalLongPollingOptions),g.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,s);r._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((n=s.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(r._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),r._firestoreClient=new w8(r._authCredentials,r._appCheckCredentials,r._queue,a,r._componentsProvider&&function(c){const h=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(h),_online:h}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xa(Er.fromBase64String(e))}catch(t){throw new Ie(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Xa(Er.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ie(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _r(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B_{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ie(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ie(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return nt(this._lat,e._lat)||nt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,s){if(n.length!==s.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==s[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C8=/^__.*__$/;class A8{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return this.fieldMask!==null?new Qo(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ll(e,this.data,t,this.fieldTransforms)}}function QA(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Fe()}}class $_{constructor(e,t,n,s,a,l){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=s,a===void 0&&this.Fu(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new $_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const n=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.xu({path:n,Nu:!1});return s.Bu(e),s}Lu(e){var t;const n=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.xu({path:n,Nu:!1});return s.Fu(),s}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Yf(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Bu(this.path.get(e))}Bu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(QA(this.Mu)&&C8.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class b8{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||jd(e)}$u(e,t,n,s=!1){return new $_({Mu:e,methodName:t,Ku:n,path:_r.emptyPath(),Nu:!1,Qu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function YA(r){const e=r._freezeSettings(),t=jd(r._databaseId);return new b8(r._databaseId,!!e.ignoreUndefinedProperties,t)}function k8(r,e,t,n,s,a={}){const l=r.$u(a.merge||a.mergeFields?2:0,e,t,s);ZA("Data must be an object, but it was:",l,n);const c=JA(n,l);let h,p;if(a.merge)h=new ni(l.fieldMask),p=l.fieldTransforms;else if(a.mergeFields){const g=[];for(const _ of a.mergeFields){const w=x8(e,_,t);if(!l.contains(w))throw new Ie(ie.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);N8(g,w)||g.push(w)}h=new ni(g),p=l.fieldTransforms.filter(_=>h.covers(_.field))}else h=null,p=l.fieldTransforms;return new A8(new Dn(c),h,p)}class H_ extends B_{_toFieldTransform(e){return new T6(e.path,new yl)}isEqual(e){return e instanceof H_}}function O8(r,e,t,n=!1){return W_(t,r.$u(n?4:3,e))}function W_(r,e){if(XA(r=Nr(r)))return ZA("Unsupported field value:",e,r),JA(r,e);if(r instanceof B_)return function(n,s){if(!QA(s.Mu))throw s.qu(`${n._methodName}() can only be used with update() and set()`);if(!s.path)throw s.qu(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(n,s){const a=[];let l=0;for(const c of n){let h=W_(c,s.ku(l));h==null&&(h={nullValue:"NULL_VALUE"}),a.push(h),l++}return{arrayValue:{values:a}}}(r,e)}return function(n,s){if((n=Nr(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return _6(s.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=er.fromDate(n);return{timestampValue:Wf(s.serializer,a)}}if(n instanceof er){const a=new er(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Wf(s.serializer,a)}}if(n instanceof z_)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Xa)return{bytesValue:yA(s.serializer,n._byteString)};if(n instanceof yn){const a=s.databaseId,l=n.firestore._databaseId;if(!l.isEqual(a))throw s.qu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:A_(n.firestore._databaseId||s.databaseId,n._key.path)}}if(n instanceof q_)return function(l,c){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:l.toArray().map(h=>{if(typeof h!="number")throw c.qu("VectorValues must only contain numeric values.");return I_(c.serializer,h)})}}}}}}(n,s);throw s.qu(`Unsupported field value: ${zd(n)}`)}(r,e)}function JA(r,e){const t={};return WC(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Go(r,(n,s)=>{const a=W_(s,e.Ou(n));a!=null&&(t[n]=a)}),{mapValue:{fields:t}}}function XA(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof er||r instanceof z_||r instanceof Xa||r instanceof yn||r instanceof B_||r instanceof q_)}function ZA(r,e,t){if(!XA(t)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(t)){const n=zd(t);throw n==="an object"?e.qu(r+" a custom object"):e.qu(r+" "+n)}}function x8(r,e,t){if((e=Nr(e))instanceof U_)return e._internalPath;if(typeof e=="string")return eb(r,e);throw Yf("Field path arguments must be of type string or ",r,!1,void 0,t)}const D8=new RegExp("[~\\*/\\[\\]]");function eb(r,e,t){if(e.search(D8)>=0)throw Yf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new U_(...e.split("."))._internalPath}catch{throw Yf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Yf(r,e,t,n,s){const a=n&&!n.isEmpty(),l=s!==void 0;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let h="";return(a||l)&&(h+=" (found",a&&(h+=` in field ${n}`),l&&(h+=` in document ${s}`),h+=")"),new Ie(ie.INVALID_ARGUMENT,c+r+h)}function N8(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(e,t,n,s,a){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new yn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new L8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(G_("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class L8 extends tb{data(){return super.data()}}function G_(r,e){return typeof e=="string"?eb(r,e):e instanceof U_?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M8(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new Ie(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class K_{}class rb extends K_{}function V8(r,e,...t){let n=[];e instanceof K_&&n.push(e),n=n.concat(t),function(a){const l=a.filter(h=>h instanceof Y_).length,c=a.filter(h=>h instanceof Q_).length;if(l>1||l>0&&c>0)throw new Ie(ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const s of n)r=s._apply(r);return r}class Q_ extends rb{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Q_(e,t,n)}_apply(e){const t=this._parse(e);return nb(e._query,t),new Jo(e.firestore,e.converter,ov(e._query,t))}_parse(e){const t=YA(e.firestore);return function(a,l,c,h,p,g,_){let w;if(p.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new Ie(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){ZR(_,g);const T=[];for(const I of _)T.push(XR(h,a,I));w={arrayValue:{values:T}}}else w=XR(h,a,_)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||ZR(_,g),w=O8(c,l,_,g==="in"||g==="not-in");return Kt.create(p,g,w)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class Y_ extends K_{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Y_(e,t)}_parse(e){const t=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return t.length===1?t[0]:ai.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(s,a){let l=s;const c=a.getFlattenedFilters();for(const h of c)nb(l,h),l=ov(l,h)}(e._query,t),new Jo(e.firestore,e.converter,ov(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class J_ extends rb{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new J_(e,t)}_apply(e){const t=function(s,a,l){if(s.startAt!==null)throw new Ie(ie.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new Ie(ie.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new gl(a,l)}(e._query,this._field,this._direction);return new Jo(e.firestore,e.converter,function(s,a){const l=s.explicitOrderBy.concat([a]);return new uu(s.path,s.collectionGroup,l,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}function F8(r,e="asc"){const t=e,n=G_("orderBy",r);return J_._create(n,t)}function XR(r,e,t){if(typeof(t=Nr(t))=="string"){if(t==="")throw new Ie(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!tA(e)&&t.indexOf("/")!==-1)throw new Ie(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const n=e.path.child(bt.fromString(t));if(!Ae.isDocumentKey(n))throw new Ie(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return yR(r,new Ae(n))}if(t instanceof yn)return yR(r,t._key);throw new Ie(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${zd(t)}.`)}function ZR(r,e){if(!Array.isArray(r)||r.length===0)throw new Ie(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function nb(r,e){const t=function(s,a){for(const l of s)for(const c of l.getFlattenedFilters())if(a.indexOf(c.op)>=0)return c.op;return null}(r.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new Ie(ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ie(ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class j8{convertValue(e,t="none"){switch(Xs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ut(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Js(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Fe()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return Go(e,(s,a)=>{n[s]=this.convertValue(a,t)}),n}convertVectorValue(e){var t,n,s;const a=(s=(n=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||n===void 0?void 0:n.values)===null||s===void 0?void 0:s.map(l=>Ut(l.doubleValue));return new q_(a)}convertGeoPoint(e){return new z_(Ut(e.latitude),Ut(e.longitude))}convertArray(e,t){return(e.values||[]).map(n=>this.convertValue(n,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Dd(e);return n==null?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(hl(e));default:return null}}convertTimestamp(e){const t=Ys(e);return new er(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=bt.fromString(e);yt(SA(n));const s=new pl(n.get(1),n.get(3)),a=new Ae(n.popFirst(5));return s.isEqual(t)||us(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U8(r,e,t){let n;return n=r?r.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ib extends tb{constructor(e,t,n,s,a,l){super(e,t,n,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new vf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(G_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class vf extends ib{data(e={}){return super.data(e)}}class B8{constructor(e,t,n,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new Zu(s.hasPendingWrites,s.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new vf(this._firestore,this._userDataWriter,n.key,n,new Zu(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ie(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map(c=>{const h=new vf(s._firestore,s._userDataWriter,c.doc.key,c.doc,new Zu(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}})}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(c=>a||c.type!==3).map(c=>{const h=new vf(s._firestore,s._userDataWriter,c.doc.key,c.doc,new Zu(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let p=-1,g=-1;return c.type!==0&&(p=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),g=l.indexOf(c.doc.key)),{type:z8(c.type),doc:h,oldIndex:p,newIndex:g}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function z8(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Fe()}}class sb extends j8{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xa(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new yn(this.firestore,null,t)}}function q8(r){return ob(Ba(r.firestore,wl),[new R_(r._key,bi.none())])}function $8(r,e){const t=Ba(r.firestore,wl),n=GA(r),s=U8(r.converter,e);return ob(t,[k8(YA(r.firestore),"addDoc",n._key,s,r.converter!==null,{}).toMutation(n._key,bi.exists(!1))]).then(()=>n)}function H8(r,...e){var t,n,s;r=Nr(r);let a={includeMetadataChanges:!1,source:"default"},l=0;typeof e[l]!="object"||JR(e[l])||(a=e[l],l++);const c={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(JR(e[l])){const _=e[l];e[l]=(t=_.next)===null||t===void 0?void 0:t.bind(_),e[l+1]=(n=_.error)===null||n===void 0?void 0:n.bind(_),e[l+2]=(s=_.complete)===null||s===void 0?void 0:s.bind(_)}let h,p,g;if(r instanceof yn)p=Ba(r.firestore,wl),g=S_(r._key.path),h={next:_=>{e[l]&&e[l](W8(p,r,_))},error:e[l+1],complete:e[l+2]};else{const _=Ba(r,Jo);p=Ba(_.firestore,wl),g=_._query;const w=new sb(p);h={next:T=>{e[l]&&e[l](new B8(p,w,_,T))},error:e[l+1],complete:e[l+2]},M8(r._query)}return function(w,T,I,A){const C=new _8(A),x=new e8(T,C,I);return w.asyncQueue.enqueueAndForget(async()=>YF(await HR(w),x)),()=>{C.eu(),w.asyncQueue.enqueueAndForget(async()=>JF(await HR(w),x))}}(KA(p),g,c,h)}function ob(r,e){return function(n,s){const a=new No;return n.asyncQueue.enqueueAndForget(async()=>c8(await T8(n),s,a)),a.promise}(KA(r),e)}function W8(r,e,t){const n=t.docs.get(e._key),s=new sb(r);return new ib(r,s,e._key,n,new Zu(t.hasPendingWrites,t.fromCache),e.converter)}function G8(){return new H_("serverTimestamp")}(function(e,t=!0){(function(s){su=s})(nu),Oi(new oi("firestore",(n,{instanceIdentifier:s,options:a})=>{const l=n.getProvider("app").getImmediate(),c=new wl(new NV(n.getProvider("auth-internal")),new FV(n.getProvider("app-check-internal")),function(p,g){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new Ie(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pl(p.options.projectId,g)}(l,s),l);return a=Object.assign({useFetchStreams:t},a),c._setSettings(a),c},"PUBLIC").setMultipleInstances(!0)),Nn(fR,"4.7.6",e),Nn(fR,"4.7.6","esm2017")})();const K8={apiKey:"AIzaSyAsv15Lx9yFeiRKU80-MhNesZsTIQJbk7Y",authDomain:"clone-7434b.firebaseapp.com",projectId:"clone-7434b",storageBucket:"clone-7434b.firebasestorage.app",messagingSenderId:"1094096280334",appId:"1:1094096280334:web:c423981797da03ce03155f",measurementId:"G-KZCN2GFVNX"},X_=MP(K8);AV(X_);const ab=l9(X_),Z_=R8(X_),Q8=new Zi;function Y8(){const[r,e]=Y.useState(""),[t,n]=Y.useState(!1),s=ru();Y.useEffect(()=>{s(kL(r))},[r]);const a=Bs(c=>c.app.user);console.log(a);async function l(){try{await X3(ab),s(SP(null)),console.log("User signed out successfully")}catch(c){console.error("Error signing out:",c)}}return re.jsx(re.Fragment,{children:re.jsxs("div",{className:"h-[4rem] w-full bg-slate-200 flex items-center justify-between px-4 md:justify-around",children:[re.jsx(uP,{className:"text-[2rem] cursor-pointer md:hidden",onClick:()=>s(Df(!0))}),re.jsx("img",{src:"https://ssl.gstatic.com/ui/v1/icons/mail/rfr/logo_gmail_lockup_default_2x_r5.png",height:"110px",width:"110px",className:"hidden md:block"}),re.jsxs("div",{className:"search flex h-[3rem] w-[50%] bg-white rounded-full items-center",children:[re.jsx(RN,{className:"text-[2rem]"}),re.jsx("input",{type:"text",className:"w-[100%] h-[2.5rem] bg-transparent outline-none",placeholder:"Search your Mail",onChange:c=>e(c.target.value)})]}),re.jsxs("div",{className:"extra relative w-[20%] bg-transparent h-[2.5rem] flex justify-around items-center",children:[re.jsx("div",{className:"relative cursor-pointer",onClick:()=>n(!t),children:re.jsx(yN,{src:`${a.photourl}`,size:"40",round:!0})}),t&&re.jsx("div",{className:"absolute top-12 right-0 w-40 bg-white border border-gray-300 shadow-md rounded-md z-10",children:re.jsx("button",{className:"w-full px-4 py-2 text-left hover:bg-gray-100",onClick:l,children:"Sign Out"})})]})]})})}function J8(r){return kt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M446.7 98.6l-67.6 318.8c-5.1 22.5-18.4 28.1-37.3 17.5l-103-75.9-49.7 47.8c-5.5 5.5-10.1 10.1-20.7 10.1l7.4-104.9 190.9-172.5c8.3-7.4-1.8-11.5-12.9-4.1L117.8 284 16.2 252.2c-22.1-6.9-22.5-22.1 4.6-32.7L418.2 66.4c18.4-6.9 34.5 4.1 28.5 32.2z"},child:[]}]})(r)}function X8(r){return kt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(r)}function Z8(r){return kt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 480H48c-26.51 0-48-21.49-48-48V80c0-26.51 21.49-48 48-48h352c26.51 0 48 21.49 48 48v352c0 26.51-21.49 48-48 48zm-204.686-98.059l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.248-16.379-6.249-22.628 0L184 302.745l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.25 16.379 6.25 22.628.001z"},child:[]}]})(r)}function ej(r){return kt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3 0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9 0l60.1 60.1c18.8 18.7 18.8 49.1 0 67.9zM284.2 99.8L21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3 0-17l-111-111c-4.8-4.7-12.4-4.7-17.1 0zM124.1 339.9c-5.5-5.5-5.5-14.3 0-19.8l154-154c5.5-5.5 14.3-5.5 19.8 0s5.5 14.3 0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8 0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z"},child:[]}]})(r)}function ub(r){return kt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M503.691 189.836L327.687 37.851C312.281 24.546 288 35.347 288 56.015v80.053C127.371 137.907 0 170.1 0 322.326c0 61.441 39.581 122.309 83.333 154.132 13.653 9.931 33.111-2.533 28.077-18.631C66.066 312.814 132.917 274.316 288 272.085V360c0 20.7 24.3 31.453 39.687 18.164l176.004-152c11.071-9.562 11.086-26.753 0-36.328z"},child:[]}]})(r)}function tj(r){return kt({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(r)}function rj(r){return kt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M0 252.118V48C0 21.49 21.49 0 48 0h204.118a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882L293.823 497.941c-18.745 18.745-49.137 18.745-67.882 0L14.059 286.059A48 48 0 0 1 0 252.118zM112 64c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48z"},child:[]}]})(r)}function nj(r){return kt({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M192 256c61.9 0 112-50.1 112-112S253.9 32 192 32 80 82.1 80 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C51.6 288 0 339.6 0 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zM480 256c53 0 96-43 96-96s-43-96-96-96-96 43-96 96 43 96 96 96zm48 32h-3.8c-13.9 4.8-28.6 8-44.2 8s-30.3-3.2-44.2-8H432c-20.4 0-39.2 5.9-55.7 15.4 24.4 26.3 39.7 61.2 39.7 99.8v38.4c0 2.2-.5 4.3-.6 6.4H592c26.5 0 48-21.5 48-48 0-61.9-50.1-112-112-112z"},child:[]}]})(r)}function lb(r){return kt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M5 3C4.5313 3 4.12549 3.32553 4.02381 3.78307L2.02381 12.7831C2.00799 12.8543 2 12.927 2 13V20C2 20.5523 2.44772 21 3 21H21C21.5523 21 22 20.5523 22 20V13C22 12.927 21.992 12.8543 21.9762 12.7831L19.9762 3.78307C19.8745 3.32553 19.4687 3 19 3H5ZM19.7534 12H15C15 13.6569 13.6569 15 12 15C10.3431 15 9 13.6569 9 12H4.24662L5.80217 5H18.1978L19.7534 12Z"},child:[]}]})(r)}function ij(r){return kt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3.00012 13.0001C3.00012 17.9707 7.02956 22.0001 12.0001 22.0001C16.9707 22.0001 21.0001 17.9707 21.0001 13.0001C21.0001 8.02956 16.9707 4.00012 12.0001 4.00012C7.02956 4.00012 3.00012 8.02956 3.00012 13.0001ZM19.0001 13.0001C19.0001 16.8661 15.8661 20.0001 12.0001 20.0001C8.13412 20.0001 5.00012 16.8661 5.00012 13.0001C5.00012 9.13412 8.13412 6.00012 12.0001 6.00012C15.8661 6.00012 19.0001 9.13412 19.0001 13.0001ZM5.2826 2.74707L1.74707 6.2826L3.16128 7.69682L6.69682 4.16128L5.2826 2.74707ZM22.2532 6.2826L18.7176 2.74707L17.3034 4.16128L20.839 7.69682L22.2532 6.2826ZM9 11H12.5858L9 14.5858V17H15V15H11.4142L15 11.4142V9H9V11Z"},child:[]}]})(r)}function sj(){const[r,e]=Y.useState(!1),t=[{icon:re.jsx(lb,{size:"1.5rem"}),text:"Inbox"},{icon:re.jsx(aP,{size:"1.5rem"}),text:"Starred"},{icon:re.jsx(ij,{size:"1.5rem"}),text:"Snoozed"},{icon:re.jsx(J8,{size:"1.5rem"}),text:"Sent"}],n=Bs(l=>l.app.value),s=ru();function a(){console.log(n),s(Df(!n))}return re.jsxs(re.Fragment,{children:[re.jsx("button",{className:"md:hidden fixed top-4 left-4 z-50 bg-blue-500 text-white p-2 rounded-full shadow-lg",onClick:()=>e(!r),children:re.jsx(uP,{size:"1.5rem"})}),re.jsxs("div",{className:`fixed top-0 left-0 h-[100vh] w-[70%] bg-slate-200 p-6 shadow-lg transform transition-transform duration-300 ease-in-out z-40 
        ${r?"translate-x-0":"-translate-x-full"} md:static md:w-[18%] md:translate-x-0`,children:[re.jsxs("button",{className:"flex items-center rounded-2xl bg-blue-200 p-4 text-xl font-mono hover:shadow w-full",onClick:a,children:[re.jsx(ej,{size:"1.2rem"}),re.jsx("span",{className:"ml-2",children:"Compose"})]}),re.jsx("div",{className:"h-auto w-full border-x flex flex-col gap-4 mt-4",children:t.map((l,c)=>re.jsxs("div",{className:"w-full flex gap-6 items-center hover:bg-blue-300 p-2 rounded-lg",children:[re.jsx("a",{children:l.icon}),re.jsx("button",{className:"py-2",children:l.text})]},c))})]}),r&&re.jsx("div",{className:"fixed inset-0 bg-black opacity-50 z-30 md:hidden",onClick:()=>e(!1)})]})}function cb(r){return kt({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0m0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0m0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0"},child:[]}]})(r)}function oj(r){return kt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M217.9 256L345 129c9.4-9.4 9.4-24.6 0-33.9-9.4-9.4-24.6-9.3-34 0L167 239c-9.1 9.1-9.3 23.7-.7 33.1L310.9 417c4.7 4.7 10.9 7 17 7s12.3-2.3 17-7c9.4-9.4 9.4-24.6 0-33.9L217.9 256z"},child:[]}]})(r)}function aj(r){return kt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M294.1 256L167 129c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.3 34 0L345 239c9.1 9.1 9.3 23.7.7 33.1L201.1 417c-4.7 4.7-10.9 7-17 7s-12.3-2.3-17-7c-9.4-9.4-9.4-24.6 0-33.9l127-127.1z"},child:[]}]})(r)}function uj(r){return kt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M235.4 172.2c0-11.4 9.3-19.9 20.5-19.9 11.4 0 20.7 8.5 20.7 19.9s-9.3 20-20.7 20c-11.2 0-20.5-8.6-20.5-20zm1.4 35.7H275V352h-38.2V207.9z"},child:[]},{tag:"path",attr:{d:"M256 76c48.1 0 93.3 18.7 127.3 52.7S436 207.9 436 256s-18.7 93.3-52.7 127.3S304.1 436 256 436c-48.1 0-93.3-18.7-127.3-52.7S76 304.1 76 256s18.7-93.3 52.7-127.3S207.9 76 256 76m0-28C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48z"},child:[]}]})(r)}function lj(r){return kt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"circle",attr:{cx:"416",cy:"152",r:"48"},child:[]},{tag:"path",attr:{d:"M416 218.5c-5.4 0-10.6-.7-15.6-1.9L353 264.9c-.8.8-.8 2 0 2.8l75.3 80.2c5.1 5.1 5.1 13.3 0 18.4-2.5 2.5-5.9 3.8-9.2 3.8s-6.7-1.3-9.2-3.8l-75-79.9c-.8-.8-2.1-.8-2.9 0L313.7 305c-15.3 15.5-35.6 24.1-57.4 24.2-22.1.1-43.1-9.2-58.6-24.9l-17.6-17.9c-.8-.8-2.1-.8-2.9 0l-75 79.9c-2.5 2.5-5.9 3.8-9.2 3.8s-6.7-1.3-9.2-3.8c-5.1-5.1-5.1-13.3 0-18.4l75.3-80.2c.7-.8.7-2 0-2.8L51.4 155.3c-1.3-1.3-3.4-.4-3.4 1.4V376c0 17.6 14.4 32 32 32h352c17.6 0 32-14.4 32-32V198c-12.1 12.6-29.1 20.5-48 20.5z"},child:[]},{tag:"path",attr:{d:"M349.5 152c0-11.6 3-22.5 8.2-32H79.9c-7.5 0-14.4 2.6-19.8 7L217 286.7c10.4 10.6 24.3 16.4 39.1 16.4s28.7-5.8 39.1-16.4l80.5-81.9c-16-12.2-26.2-31.3-26.2-52.8z"},child:[]}]})(r)}function cj(r){return kt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M433 288.8c-7.7 0-14.3 5.9-14.9 13.6-6.9 83.1-76.8 147.9-161.8 147.9-89.5 0-162.4-72.4-162.4-161.4 0-87.6 70.6-159.2 158.2-161.4 2.3-.1 4.1 1.7 4.1 4v50.3c0 12.6 13.9 20.2 24.6 13.5L377 128c10-6.3 10-20.8 0-27.1l-96.1-66.4c-10.7-6.7-24.6.9-24.6 13.5v45.7c0 2.2-1.7 4-3.9 4C148 99.8 64 184.6 64 288.9 64 394.5 150.1 480 256.3 480c100.8 0 183.4-76.7 191.6-175.1.8-8.7-6.2-16.1-14.9-16.1z"},child:[]}]})(r)}function fj(r){return kt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M128 192l128 128 128-128z"},child:[]}]})(r)}function dj(r){return kt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"},child:[]}]})(r)}function hj(r){return kt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M22 13v3c0 1.1-.9 2-2 2h-3l1 1v2H6v-2l1-1H4c-1.1 0-2-.9-2-2V5c0-1.1.9-2 2-2h8v2H4v11h16v-3h2zm-7 2-5-5h4V3h2v7h4l-5 5z"},child:[]}]})(r)}function pj(r){return kt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"},child:[]}]})(r)}function mj(r){return kt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"},child:[]}]})(r)}function gj(r){return kt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M18 2h-8L4 8v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 2v16H6V8.83L10.83 4H18z"},child:[]},{tag:"path",attr:{d:"m16 13-4 4-4-4 1.41-1.41L11 13.17V9.02L13 9v4.17l1.59-1.59L16 13z"},child:[]}]})(r)}function yj({values:r}){var l;const[e,t]=Y.useState(!1),n=Tv(),s=ru();function a(){s(bL(r)),n(`/mail/${r.id}`)}return re.jsxs("div",{className:"w-full flex items-center justify-between border-b border-b-slate-300 p-2 cursor-pointer hover:bg-gray-100",children:[re.jsxs("div",{className:"flex items-center gap-3 w-[70%] md:w-[85%]",children:[re.jsxs("div",{className:"hidden sm:flex gap-2",children:[re.jsx(mj,{size:"1.3rem"}),re.jsx("button",{onClick:()=>t(!e),children:e?re.jsx(tj,{size:"1rem"}):re.jsx(aP,{size:"1rem"})})]}),re.jsx("p",{className:"text-sm sm:text-base overflow-hidden text-ellipsis w-full text-slate-800 h-6",onClick:a,children:r==null?void 0:r.message})]}),re.jsx("div",{className:"text-xs sm:text-sm",children:re.jsx("p",{children:new Date(((l=r==null?void 0:r.CreatedAt)==null?void 0:l.seconds)*1e3).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})})]})}function vj(){Bs(h=>h.app.allemails);const r=ru(),[e,t]=Y.useState(0),n=[{icons:re.jsx(lb,{size:"1.3rem"}),text:"Primary"},{icons:re.jsx(rj,{size:"1.3rem"}),text:"Promotion"},{icons:re.jsx(nj,{size:"1.3rem"}),text:"Social"},{icons:re.jsx(hj,{size:"1.3rem"}),text:"Update"}];Y.useEffect(()=>{const h=V8(WA(Z_,"emails"),F8("CreatedAt","desc")),p=H8(h,g=>{const _=g.docs.map(w=>({...w.data(),id:w.id}));console.log(_),r(AL(_))});return()=>p()},[]);const s=Bs(h=>h.app.searchtext),a=Bs(h=>h.app.allemails),[l,c]=Y.useState(a);return Y.useEffect(()=>{const h=a==null?void 0:a.filter(p=>{var g;return(g=p==null?void 0:p.to)==null?void 0:g.toLowerCase().includes(s.toLowerCase())});c(h)},[s,a]),re.jsxs("div",{className:"h-screen w-full bg-white rounded",children:[re.jsxs("div",{className:"h-10 w-full flex p-2 justify-between items-center border-b",children:[re.jsxs("div",{className:"left-icons flex gap-3",children:[re.jsx(Z8,{size:"1.1rem",className:"cursor-pointer"}),re.jsx(fj,{size:"1.1rem",className:"cursor-pointer"}),re.jsx(cj,{size:"1.1rem",className:"cursor-pointer"}),re.jsx(cb,{size:"1.1rem",className:"cursor-pointer"})]}),re.jsxs("div",{className:"right-icons flex gap-2",children:[re.jsx(oj,{size:"1.1rem",className:"cursor-pointer text-gray-600"}),re.jsx(aj,{size:"1.1rem",className:"cursor-pointer text-gray-600"})]})]}),re.jsx("div",{className:"h-16 w-full flex border-b overflow-x-auto",children:n.map((h,p)=>re.jsxs("div",{className:`${e===p?"border-b-4 border-blue-500 text-blue-500":"text-gray-700"} px-4 md:px-8 flex items-center cursor-pointer whitespace-nowrap`,onClick:()=>t(p),children:[re.jsx("a",{children:h.icons}),re.jsx("p",{className:"text-sm md:text-l ml-2",children:h.text})]},p))}),re.jsx("div",{className:"overflow-y-auto h-[calc(100vh-8rem)] p-4",children:l&&l.map(h=>re.jsx(yj,{values:h},h.id))})]})}function _j(){return re.jsxs("div",{className:"flex",children:[re.jsx(sj,{}),re.jsx(qO,{})]})}function fb(){const[r,e]=Y.useState({to:"",subject:"",message:""});function t(c){const h=c.target.name,p=c.target.value;e({...r,[h]:p})}const n=Bs(c=>c.app.value),s=ru();function a(){s(Df(!1))}async function l(c){c.preventDefault(),await $8(WA(Z_,"emails"),{to:r.to,subject:r.subject,message:r.message,CreatedAt:G8()}),s(Df(!1))}return re.jsxs("div",{className:`${n?"block":"hidden"} fixed bottom-4 right-4 md:right-6 h-[90%] w-[90%] md:w-1/3 border border-slate-400 shadow-lg bg-white z-30 rounded-lg`,children:[re.jsxs("div",{className:"nav h-12 flex items-center bg-slate-300 justify-between px-4 rounded-t-lg",children:[re.jsx("h2",{className:"font-medium text-lg",children:"New Message"}),re.jsx(pj,{size:"1.5rem",className:"cursor-pointer hover:text-red-500",onClick:a})]}),re.jsxs("form",{onSubmit:l,className:"flex flex-col gap-2 p-4",children:[re.jsx("input",{type:"email",className:"border border-slate-300 p-2 outline-none rounded focus:ring focus:ring-blue-300",placeholder:"To",onChange:t,value:r.to,name:"to"}),re.jsx("input",{type:"text",className:"border border-slate-300 p-2 outline-none rounded focus:ring focus:ring-blue-300",placeholder:"Subject",onChange:t,value:r.subject,name:"subject"}),re.jsx("textarea",{className:"border border-slate-300 p-2 outline-none rounded resize-none focus:ring focus:ring-blue-300",rows:8,placeholder:"Type your message...",onChange:t,value:r.message,name:"message"}),re.jsxs("button",{className:"h-10 w-full md:w-20 bg-blue-500 text-white rounded-lg flex items-center justify-center gap-2 hover:bg-blue-600 transition-all",type:"submit",children:["Send",re.jsx(ub,{size:"1.2rem"})]})]})]})}function wj(){const r=Tv(),e=Bs(a=>a.app.selectedmails);console.log(e);const t=async a=>{try{await q8(GA(Z_,"emails",a)),r("/")}catch(l){console.log(l)}},{id:n}=RO();function s(){r("/")}return re.jsxs("div",{className:"h-screen w-full overflow-hidden",children:[re.jsxs("div",{className:"icons flex gap-6 p-4",children:[re.jsx(X8,{size:"1.2rem",onClick:s,className:"cursor-pointer"}),re.jsx(gj,{size:"1.2rem"}),re.jsx(uj,{size:"1.2rem"}),re.jsx(dj,{size:"1.2rem",onClick:()=>t(n),className:"cursor-pointer"}),re.jsx(lj,{size:"1.2rem"}),re.jsx(ub,{size:"1.2rem"}),re.jsx(cb,{size:"1.2rem"})]}),re.jsxs("div",{className:"read h-screen w-full",children:[re.jsxs("div",{className:"subject",children:[re.jsx("h1",{className:"text-2xl font-bold p-4",children:e==null?void 0:e.subject}),re.jsxs("p",{className:"text-l p-4",children:[e==null?void 0:e.to,re.jsx("br",{})," ",re.jsx("span",{children:"to me"})]})]}),re.jsx("h1",{className:"p-4",children:e==null?void 0:e.message}),re.jsx(fb,{})]})]})}var Oy={},sf={},Gu={},gr={},e2;function db(){if(e2)return gr;e2=1,Object.defineProperty(gr,"__esModule",{value:!0}),gr.svgStyle=gr.lightStyle=gr.iconStyle=gr.hoverStyle=gr.disabledStyle=gr.disabledIconStyle=gr.darkStyle=void 0;function r(c){"@babel/helpers - typeof";return r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},r(c)}function e(c,h){var p=Object.keys(c);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(c);h&&(g=g.filter(function(_){return Object.getOwnPropertyDescriptor(c,_).enumerable})),p.push.apply(p,g)}return p}function t(c){for(var h=1;h<arguments.length;h++){var p=arguments[h]!=null?arguments[h]:{};h%2?e(Object(p),!0).forEach(function(g){n(c,g,p[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(p)):e(Object(p)).forEach(function(g){Object.defineProperty(c,g,Object.getOwnPropertyDescriptor(p,g))})}return c}function n(c,h,p){return h=s(h),h in c?Object.defineProperty(c,h,{value:p,enumerable:!0,configurable:!0,writable:!0}):c[h]=p,c}function s(c){var h=a(c,"string");return r(h)=="symbol"?h:h+""}function a(c,h){if(r(c)!="object"||!c)return c;var p=c[Symbol.toPrimitive];if(p!==void 0){var g=p.call(c,h||"default");if(r(g)!="object")return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return(h==="string"?String:Number)(c)}var l={height:"50px",width:"240px",border:"none",textAlign:"center",verticalAlign:"center",boxShadow:"0 2px 4px 0 rgba(0,0,0,.25)",fontSize:"16px",lineHeight:"48px",display:"block",borderRadius:"1px",transition:"background-color .218s, border-color .218s, box-shadow .218s",fontFamily:"Roboto,arial,sans-serif",cursor:"pointer",userSelect:"none"};return gr.darkStyle=t({backgroundColor:"#4285f4",color:"#fff"},l),gr.lightStyle=t({backgroundColor:"#fff",color:"rgba(0,0,0,.54)"},l),gr.iconStyle={width:"48px",height:"48px",textAlign:"center",verticalAlign:"center",display:"block",marginTop:"1px",marginLeft:"1px",float:"left",backgroundColor:"#fff",borderRadius:"1px",whiteSpace:"nowrap"},gr.svgStyle={width:"48px",height:"48px",display:"block"},gr.hoverStyle={boxShadow:"0 0 3px 3px rgba(66,133,244,.3)",transition:"background-color .218s, border-color .218s, box-shadow .218s"},gr.disabledStyle={backgroundColor:"rgba(37, 5, 5, .08)",color:"rgba(0, 0, 0, .40)",cursor:"not-allowed"},gr.disabledIconStyle={backgroundColor:"transparent"},gr}var t2;function Ej(){if(t2)return Gu;t2=1,Object.defineProperty(Gu,"__esModule",{value:!0}),Gu.GoogleIcon=void 0;var r=n(Za()),e=n(zv()),t=db();function n(I){return I&&I.__esModule?I:{default:I}}function s(I){"@babel/helpers - typeof";return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},s(I)}function a(I,A){var C=Object.keys(I);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(I);A&&(x=x.filter(function(U){return Object.getOwnPropertyDescriptor(I,U).enumerable})),C.push.apply(C,x)}return C}function l(I){for(var A=1;A<arguments.length;A++){var C=arguments[A]!=null?arguments[A]:{};A%2?a(Object(C),!0).forEach(function(x){c(I,x,C[x])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(C)):a(Object(C)).forEach(function(x){Object.defineProperty(I,x,Object.getOwnPropertyDescriptor(C,x))})}return I}function c(I,A,C){return A=h(A),A in I?Object.defineProperty(I,A,{value:C,enumerable:!0,configurable:!0,writable:!0}):I[A]=C,I}function h(I){var A=p(I,"string");return s(A)=="symbol"?A:A+""}function p(I,A){if(s(I)!="object"||!I)return I;var C=I[Symbol.toPrimitive];if(C!==void 0){var x=C.call(I,A||"default");if(s(x)!="object")return x;throw new TypeError("@@toPrimitive must return a primitive value.")}return(A==="string"?String:Number)(I)}var g=r.default.createElement("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"46px",height:"46px",viewBox:"0 0 46 46",style:t.svgStyle},r.default.createElement("defs",null,r.default.createElement("filter",{x:"-50%",y:"-50%",width:"200%",height:"200%",filterUnits:"objectBoundingBox",id:"filter-1"},r.default.createElement("feOffset",{dx:"0",dy:"1",in:"SourceAlpha",result:"shadowOffsetOuter1"}),r.default.createElement("feGaussianBlur",{stdDeviation:"0.5",in:"shadowOffsetOuter1",result:"shadowBlurOuter1"}),r.default.createElement("feColorMatrix",{values:"0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.168 0",in:"shadowBlurOuter1",type:"matrix",result:"shadowMatrixOuter1"}),r.default.createElement("feOffset",{dx:"0",dy:"0",in:"SourceAlpha",result:"shadowOffsetOuter2"}),r.default.createElement("feGaussianBlur",{stdDeviation:"0.5",in:"shadowOffsetOuter2",result:"shadowBlurOuter2"}),r.default.createElement("feColorMatrix",{values:"0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.084 0",in:"shadowBlurOuter2",type:"matrix",result:"shadowMatrixOuter2"}),r.default.createElement("feMerge",null,r.default.createElement("feMergeNode",{in:"shadowMatrixOuter1"}),r.default.createElement("feMergeNode",{in:"shadowMatrixOuter2"}),r.default.createElement("feMergeNode",{in:"SourceGraphic"}))),r.default.createElement("rect",{id:"path-2",x:"0",y:"0",width:"40",height:"40",rx:"2"}),r.default.createElement("rect",{id:"path-3",x:"5",y:"5",width:"38",height:"38",rx:"1"})),r.default.createElement("g",{id:"Google-Button",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},r.default.createElement("g",{id:"9-PATCH",transform:"translate(-608.000000, -219.000000)"}),r.default.createElement("g",{id:"btn_google_dark_normal",transform:"translate(-1.000000, -1.000000)"},r.default.createElement("g",{id:"button",transform:"translate(4.000000, 4.000000)",filter:"url(#filter-1)"},r.default.createElement("g",{id:"button-bg"},r.default.createElement("use",{fill:"#4285F4",fillRule:"evenodd"}),r.default.createElement("use",{fill:"none"}),r.default.createElement("use",{fill:"none"}),r.default.createElement("use",{fill:"none"}))),r.default.createElement("g",{id:"button-bg-copy"},r.default.createElement("use",{fill:"#FFFFFF",fillRule:"evenodd"}),r.default.createElement("use",{fill:"none"}),r.default.createElement("use",{fill:"none"}),r.default.createElement("use",{fill:"none"})),r.default.createElement("g",{id:"logo_googleg_48dp",transform:"translate(15.000000, 15.000000)"},r.default.createElement("path",{d:"M17.64,9.20454545 C17.64,8.56636364 17.5827273,7.95272727 17.4763636,7.36363636 L9,7.36363636 L9,10.845 L13.8436364,10.845 C13.635,11.97 13.0009091,12.9231818 12.0477273,13.5613636 L12.0477273,15.8195455 L14.9563636,15.8195455 C16.6581818,14.2527273 17.64,11.9454545 17.64,9.20454545 L17.64,9.20454545 Z",id:"Shape",fill:"#4285F4"}),r.default.createElement("path",{d:"M9,18 C11.43,18 13.4672727,17.1940909 14.9563636,15.8195455 L12.0477273,13.5613636 C11.2418182,14.1013636 10.2109091,14.4204545 9,14.4204545 C6.65590909,14.4204545 4.67181818,12.8372727 3.96409091,10.71 L0.957272727,10.71 L0.957272727,13.0418182 C2.43818182,15.9831818 5.48181818,18 9,18 L9,18 Z",id:"Shape",fill:"#34A853"}),r.default.createElement("path",{d:"M3.96409091,10.71 C3.78409091,10.17 3.68181818,9.59318182 3.68181818,9 C3.68181818,8.40681818 3.78409091,7.83 3.96409091,7.29 L3.96409091,4.95818182 L0.957272727,4.95818182 C0.347727273,6.17318182 0,7.54772727 0,9 C0,10.4522727 0.347727273,11.8268182 0.957272727,13.0418182 L3.96409091,10.71 L3.96409091,10.71 Z",id:"Shape",fill:"#FBBC05"}),r.default.createElement("path",{d:"M9,3.57954545 C10.3213636,3.57954545 11.5077273,4.03363636 12.4404545,4.92545455 L15.0218182,2.34409091 C13.4631818,0.891818182 11.4259091,0 9,0 C5.48181818,0 2.43818182,2.01681818 0.957272727,4.95818182 L3.96409091,7.29 C4.67181818,5.16272727 6.65590909,3.57954545 9,3.57954545 L9,3.57954545 Z",id:"Shape",fill:"#EA4335"}),r.default.createElement("path",{d:"M0,0 L18,0 L18,18 L0,18 L0,0 Z",id:"Shape"})),r.default.createElement("g",{id:"handles_square"})))),_=r.default.createElement("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"46px",height:"46px",viewBox:"0 0 46 46",style:t.svgStyle},r.default.createElement("defs",null,r.default.createElement("filter",{x:"-50%",y:"-50%",width:"200%",height:"200%",filterUnits:"objectBoundingBox",id:"filter-1"},r.default.createElement("feOffset",{dx:"0",dy:"1",in:"SourceAlpha",result:"shadowOffsetOuter1"}),r.default.createElement("feGaussianBlur",{stdDeviation:"0.5",in:"shadowOffsetOuter1",result:"shadowBlurOuter1"}),r.default.createElement("feColorMatrix",{values:"0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.168 0",in:"shadowBlurOuter1",type:"matrix",result:"shadowMatrixOuter1"}),r.default.createElement("feOffset",{dx:"0",dy:"0",in:"SourceAlpha",result:"shadowOffsetOuter2"}),r.default.createElement("feGaussianBlur",{stdDeviation:"0.5",in:"shadowOffsetOuter2",result:"shadowBlurOuter2"}),r.default.createElement("feColorMatrix",{values:"0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.084 0",in:"shadowBlurOuter2",type:"matrix",result:"shadowMatrixOuter2"}),r.default.createElement("feMerge",null,r.default.createElement("feMergeNode",{in:"shadowMatrixOuter1"}),r.default.createElement("feMergeNode",{in:"shadowMatrixOuter2"}),r.default.createElement("feMergeNode",{in:"SourceGraphic"}))),r.default.createElement("rect",{id:"path-2",x:"0",y:"0",width:"40",height:"40",rx:"2"})),r.default.createElement("g",{id:"Google-Button",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},r.default.createElement("g",{id:"9-PATCH",transform:"translate(-608.000000, -160.000000)"}),r.default.createElement("g",{id:"btn_google_light_normal",transform:"translate(-1.000000, -1.000000)"},r.default.createElement("g",{id:"button",transform:"translate(4.000000, 4.000000)",filter:"url(#filter-1)"},r.default.createElement("g",{id:"button-bg"},r.default.createElement("use",{fill:"#FFFFFF",fillRule:"evenodd"}),r.default.createElement("use",{fill:"none"}),r.default.createElement("use",{fill:"none"}),r.default.createElement("use",{fill:"none"}))),r.default.createElement("g",{id:"logo_googleg_48dp",transform:"translate(15.000000, 15.000000)"},r.default.createElement("path",{d:"M17.64,9.20454545 C17.64,8.56636364 17.5827273,7.95272727 17.4763636,7.36363636 L9,7.36363636 L9,10.845 L13.8436364,10.845 C13.635,11.97 13.0009091,12.9231818 12.0477273,13.5613636 L12.0477273,15.8195455 L14.9563636,15.8195455 C16.6581818,14.2527273 17.64,11.9454545 17.64,9.20454545 L17.64,9.20454545 Z",id:"Shape",fill:"#4285F4"}),r.default.createElement("path",{d:"M9,18 C11.43,18 13.4672727,17.1940909 14.9563636,15.8195455 L12.0477273,13.5613636 C11.2418182,14.1013636 10.2109091,14.4204545 9,14.4204545 C6.65590909,14.4204545 4.67181818,12.8372727 3.96409091,10.71 L0.957272727,10.71 L0.957272727,13.0418182 C2.43818182,15.9831818 5.48181818,18 9,18 L9,18 Z",id:"Shape",fill:"#34A853"}),r.default.createElement("path",{d:"M3.96409091,10.71 C3.78409091,10.17 3.68181818,9.59318182 3.68181818,9 C3.68181818,8.40681818 3.78409091,7.83 3.96409091,7.29 L3.96409091,4.95818182 L0.957272727,4.95818182 C0.347727273,6.17318182 0,7.54772727 0,9 C0,10.4522727 0.347727273,11.8268182 0.957272727,13.0418182 L3.96409091,10.71 L3.96409091,10.71 Z",id:"Shape",fill:"#FBBC05"}),r.default.createElement("path",{d:"M9,3.57954545 C10.3213636,3.57954545 11.5077273,4.03363636 12.4404545,4.92545455 L15.0218182,2.34409091 C13.4631818,0.891818182 11.4259091,0 9,0 C5.48181818,0 2.43818182,2.01681818 0.957272727,4.95818182 L3.96409091,7.29 C4.67181818,5.16272727 6.65590909,3.57954545 9,3.57954545 L9,3.57954545 Z",id:"Shape",fill:"#EA4335"}),r.default.createElement("path",{d:"M0,0 L18,0 L18,18 L0,18 L0,0 Z",id:"Shape"})),r.default.createElement("g",{id:"handles_square"})))),w=r.default.createElement("svg",{width:"46px",height:"46px",viewBox:"0 0 46 46",version:"1.1",xmlns:"http://www.w3.org/2000/svg",style:t.svgStyle},r.default.createElement("defs",null,r.default.createElement("rect",{id:"path-1",x:"0",y:"0",width:"40",height:"40",rx:"2"})),r.default.createElement("g",{id:"Google-Button",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},r.default.createElement("g",{id:"9-PATCH",transform:"translate(-788.000000, -219.000000)"}),r.default.createElement("g",{id:"btn_google_dark_disabled",transform:"translate(-1.000000, -1.000000)"},r.default.createElement("g",{id:"button",transform:"translate(4.000000, 4.000000)"},r.default.createElement("g",{id:"button-bg"},r.default.createElement("use",{fillOpacity:"0.08",fill:"#000000",fillRule:"evenodd"}),r.default.createElement("use",{fill:"none"}),r.default.createElement("use",{fill:"none"}),r.default.createElement("use",{fill:"none"}))),r.default.createElement("path",{d:"M24.001,25.71 L24.001,22.362 L32.425,22.362 C32.551,22.929 32.65,23.46 32.65,24.207 C32.65,29.346 29.203,33 24.01,33 C19.042,33 15.01,28.968 15.01,24 C15.01,19.032 19.042,15 24.01,15 C26.44,15 28.474,15.891 30.031,17.349 L27.475,19.833 C26.827,19.221 25.693,18.501 24.01,18.501 C21.031,18.501 18.601,20.976 18.601,24.009 C18.601,27.042 21.031,29.517 24.01,29.517 C27.457,29.517 28.726,27.132 28.96,25.719 L24.001,25.719 L24.001,25.71 Z",id:"Shape-Copy",fillOpacity:"0.4",fill:"#000000"}),r.default.createElement("g",{id:"handles_square"})))),T=Gu.GoogleIcon=function(A){var C=A.disabled,x=A.type,U=x===void 0?"dark":x;return r.default.createElement("div",{style:C?l(l({},t.iconStyle),t.disabledIconStyle):t.iconStyle},C?w:U==="dark"?g:_)};return T.propTypes={disabled:e.default.bool,type:e.default.oneOf(["light","dark"])},Gu}var r2;function Tj(){if(r2)return sf;r2=1;function r(M){"@babel/helpers - typeof";return r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},r(M)}Object.defineProperty(sf,"__esModule",{value:!0}),sf.default=$;var e=c(Za()),t=a(zv()),n=Ej(),s=db();function a(M){return M&&M.__esModule?M:{default:M}}function l(M){if(typeof WeakMap!="function")return null;var O=new WeakMap,H=new WeakMap;return(l=function(R){return R?H:O})(M)}function c(M,O){if(M&&M.__esModule)return M;if(M===null||r(M)!="object"&&typeof M!="function")return{default:M};var H=l(O);if(H&&H.has(M))return H.get(M);var k={__proto__:null},R=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var b in M)if(b!=="default"&&{}.hasOwnProperty.call(M,b)){var N=R?Object.getOwnPropertyDescriptor(M,b):null;N&&(N.get||N.set)?Object.defineProperty(k,b,N):k[b]=M[b]}return k.default=M,H&&H.set(M,k),k}function h(M,O){var H=Object.keys(M);if(Object.getOwnPropertySymbols){var k=Object.getOwnPropertySymbols(M);O&&(k=k.filter(function(R){return Object.getOwnPropertyDescriptor(M,R).enumerable})),H.push.apply(H,k)}return H}function p(M){for(var O=1;O<arguments.length;O++){var H=arguments[O]!=null?arguments[O]:{};O%2?h(Object(H),!0).forEach(function(k){g(M,k,H[k])}):Object.getOwnPropertyDescriptors?Object.defineProperties(M,Object.getOwnPropertyDescriptors(H)):h(Object(H)).forEach(function(k){Object.defineProperty(M,k,Object.getOwnPropertyDescriptor(H,k))})}return M}function g(M,O,H){return O=_(O),O in M?Object.defineProperty(M,O,{value:H,enumerable:!0,configurable:!0,writable:!0}):M[O]=H,M}function _(M){var O=w(M,"string");return r(O)=="symbol"?O:O+""}function w(M,O){if(r(M)!="object"||!M)return M;var H=M[Symbol.toPrimitive];if(H!==void 0){var k=H.call(M,O||"default");if(r(k)!="object")return k;throw new TypeError("@@toPrimitive must return a primitive value.")}return(O==="string"?String:Number)(M)}function T(M,O){return U(M)||x(M,O)||A(M,O)||I()}function I(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function A(M,O){if(M){if(typeof M=="string")return C(M,O);var H=Object.prototype.toString.call(M).slice(8,-1);if(H==="Object"&&M.constructor&&(H=M.constructor.name),H==="Map"||H==="Set")return Array.from(M);if(H==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(H))return C(M,O)}}function C(M,O){(O==null||O>M.length)&&(O=M.length);for(var H=0,k=new Array(O);H<O;H++)k[H]=M[H];return k}function x(M,O){var H=M==null?null:typeof Symbol<"u"&&M[Symbol.iterator]||M["@@iterator"];if(H!=null){var k,R,b,N,V=[],B=!0,D=!1;try{if(b=(H=H.call(M)).next,O!==0)for(;!(B=(k=b.call(H)).done)&&(V.push(k.value),V.length!==O);B=!0);}catch(qe){D=!0,R=qe}finally{try{if(!B&&H.return!=null&&(N=H.return(),Object(N)!==N))return}finally{if(D)throw R}}return V}}function U(M){if(Array.isArray(M))return M}function $(M){var O=M.label,H=O===void 0?"Sign in with Google":O,k=M.disabled,R=k===void 0?!1:k,b=M.tabIndex,N=b===void 0?0:b,V=M.onClick,B=V===void 0?function(){}:V,D=M.type,qe=D===void 0?"dark":D,We=M.style,St=(0,e.useState)(!1),Qe=T(St,2),ue=Qe[0],ve=Qe[1],de=function(){R||ve(!0)},z=function(){R||ve(!1)},ee=function(){var Ce=qe==="dark"?s.darkStyle:s.lightStyle;return p(ue?p(p({},Ce),s.hoverStyle):R?p(p({},Ce),s.disabledStyle):p({},Ce),We)},me=function(Ce){R||B(Ce)};return e.default.createElement("div",{disabled:R,tabIndex:N,onClick:me,role:"button",style:ee(),onMouseOver:de,onMouseOut:z},e.default.createElement(n.GoogleIcon,{disabled:R,type:qe}),e.default.createElement("span",null,H))}return $.propTypes={label:t.default.string,disabled:t.default.bool,tabIndex:t.default.number,onClick:t.default.func,type:t.default.oneOf(["light","dark"]),style:t.default.object},sf}var n2;function Sj(){return n2||(n2=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"GoogleButton",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(r,"default",{enumerable:!0,get:function(){return e.default}});var e=t(Tj());function t(n){return n&&n.__esModule?n:{default:n}}}(Oy)),Oy}var Ij=Sj();const Rj=Yt(Ij);function Pj(){const r=ru();async function e(){try{const t=await v5(ab,Q8);console.log(t),r(SP({displayname:t.user.displayName,email:t.user.email,photourl:t.user.photoURL}))}catch(t){console.log(t)}}return re.jsx("div",{className:"h-screen w-full flex items-center justify-center bg-gradient-to-r from-blue-400 to-indigo-500",children:re.jsxs("div",{className:"bg-white rounded-2xl shadow-lg w-[90%] max-w-md p-8 flex flex-col items-center text-center",children:[re.jsx("img",{src:"https://ssl.gstatic.com/ui/v1/icons/mail/rfr/logo_gmail_lockup_default_2x_r5.png",alt:"Gmail Logo",className:"w-32 mb-4"}),re.jsxs("h1",{className:"text-3xl font-bold mb-4 text-gray-800",children:["Welcome to ",re.jsx("span",{className:"text-blue-500",children:"Biswajit Email Clone"})]}),re.jsx("p",{className:"text-gray-600 mb-6",children:"Sign in with Google to access your account and experience a simplified email management system."}),re.jsx(Rj,{onClick:e,className:"mb-6"}),re.jsx("p",{className:"text-sm text-gray-400",children:"Crafted by Biswajit"})]})})}function Cj(){const r=Bs(t=>t.app.user);console.log(r);const e=px([{path:"/",element:re.jsx(_j,{}),children:[{path:"/",element:re.jsx(vj,{})},{path:"/mail/:id",element:re.jsx(wj,{})}]}]);return re.jsx(re.Fragment,{children:r?re.jsxs("div",{className:"h-screen w-full overflow-hidden",children:[re.jsx(Y8,{}),re.jsx(UO,{router:e}),re.jsx(fb,{})]}):re.jsx(Pj,{})})}const Aj=mL({reducer:{app:OL}});Sk.createRoot(document.getElementById("root")).render(re.jsx(UN,{store:Aj,children:re.jsx(Y.StrictMode,{children:re.jsx(Cj,{})})}));
